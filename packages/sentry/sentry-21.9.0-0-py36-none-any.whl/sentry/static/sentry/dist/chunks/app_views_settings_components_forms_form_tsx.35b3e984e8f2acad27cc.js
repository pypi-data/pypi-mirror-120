"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_components_forms_form_tsx"],{"./app/views/settings/components/forms/form.tsx":(t,e,s)=>{s.d(e,{Z:()=>b});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("../node_modules/react/index.js"),r=s("../node_modules/mobx-react-lite/es/index.js"),a=s("./app/components/button.tsx"),l=s("./app/components/panels/panel.tsx"),d=s("./app/locale.tsx"),m=s("./app/styles/space.tsx"),p=s("./app/utils/isRenderFunc.tsx"),u=s("./app/views/settings/components/forms/formContext.tsx"),c=s("./app/views/settings/components/forms/model.tsx"),h=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class b extends i.Component{constructor(t,e){super(t,e),(0,o.Z)(this,"model",this.props.model||new c.Z),(0,o.Z)(this,"onSubmit",(t=>{var e,s;!this.props.skipPreventDefault&&t.preventDefault(),this.model.isSaving||(null===(e=(s=this.props).onPreSubmit)||void 0===e||e.call(s),this.props.onSubmit?this.props.onSubmit(this.model.getData(),this.onSubmitSuccess,this.onSubmitError,t,this.model):this.model.saveForm())})),(0,o.Z)(this,"onSubmitSuccess",(t=>{const{onSubmitSuccess:e}=this.props;this.model.submitSuccess(t),e&&e(t,this.model)})),(0,o.Z)(this,"onSubmitError",(t=>{const{onSubmitError:e}=this.props;this.model.submitError(t),e&&e(t,this.model)}));const{saveOnBlur:s,apiEndpoint:n,apiMethod:i,resetOnError:r,onSubmitSuccess:a,onSubmitError:l,onFieldChange:d,initialData:m,allowUndo:p}=t;this.model.setInitialData(m),this.model.setFormOptions({resetOnError:r,allowUndo:p,onFieldChange:d,onSubmitSuccess:a,onSubmitError:l,saveOnBlur:s,apiEndpoint:n,apiMethod:i})}componentWillUnmount(){this.model.reset()}contextData(){return{saveOnBlur:this.props.saveOnBlur,form:this.model}}render(){const{className:t,children:e,footerClass:s,footerStyle:o,submitDisabled:n,submitLabel:i,submitPriority:l,cancelLabel:m,onCancel:c,extraButton:b,requireChanges:f,saveOnBlur:v,hideFooter:S}=this.props,Z=void 0!==S?!S:!v;return(0,h.tZ)(u.Z.Provider,{value:this.contextData(),children:(0,h.BX)("form",{onSubmit:this.onSubmit,className:null!=t?t:"form-stacked","data-test-id":this.props["data-test-id"],children:[(0,h.tZ)("div",{children:(0,p.l)(e)?e({model:this.model}):e}),Z&&(0,h.BX)(g,{className:s,style:o,saveOnBlur:v,children:[b,(0,h.BX)(x,{children:[c&&(0,h.tZ)(r.Qj,{children:()=>(0,h.tZ)(a.ZP,{type:"button",disabled:this.model.isSaving,onClick:c,style:{marginLeft:5},children:null!=m?m:(0,d.t)("Cancel")})}),(0,h.tZ)(r.Qj,{children:()=>(0,h.tZ)(a.ZP,{"data-test-id":"form-submit",priority:null!=l?l:"primary",disabled:this.model.isError||this.model.isSaving||n||!!f&&!this.model.formChanged,type:"submit",children:null!=i?i:(0,d.t)("Save Changes")})})]})]})]})})}}b.displayName="Form";const g=(0,n.Z)("div",{target:"e1h4adtt1"})("display:flex;justify-content:flex-end;margin-top:25px;border-top:1px solid ",(t=>t.theme.innerBorder),";background:none;padding:16px 0 0;margin-bottom:16px;",(t=>!t.saveOnBlur&&"\n  ".concat(l.Z," & {\n    margin-top: 0;\n    padding-right: 36px;\n  }\n\n  /* Better padding with form inside of a modal */\n  [role='document'] & {\n    padding-right: 30px;\n    margin-left: -30px;\n    margin-right: -30px;\n    margin-bottom: -30px;\n    margin-top: 16px;\n    padding-bottom: 16px;\n  }\n  ")),";"),x=(0,n.Z)("div",{target:"e1h4adtt0"})("display:grid;grid-gap:",(0,m.Z)(1),";grid-auto-flow:column;justify-content:flex-end;flex:1;")}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_components_forms_form_tsx.b08a4f511320a8fcce7ac5f2bcc095da.js.map