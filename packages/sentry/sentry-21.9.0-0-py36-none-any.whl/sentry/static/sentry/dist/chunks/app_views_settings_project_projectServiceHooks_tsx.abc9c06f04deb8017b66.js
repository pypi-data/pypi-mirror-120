"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_project_projectServiceHooks_tsx"],{"./app/components/switchButton.tsx":(e,t,s)=>{s.d(t,{Z:()=>m});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("../node_modules/react/index.js"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const r=({forwardRef:e,size:t="sm",isActive:s,forceActiveColor:o,isLoading:i,isDisabled:r,toggle:a,id:c,name:d,className:p})=>(0,n.tZ)(l,{ref:e,id:c,name:d,type:"button",className:p,onClick:r?void 0:a,role:"checkbox","aria-checked":s,isLoading:i,isDisabled:r,isActive:s,size:t,"data-test-id":"switch",children:(0,n.tZ)(h,{isDisabled:r,isActive:s,forceActiveColor:o,size:t})});r.displayName="Switch";const a=e=>"sm"===e.size?16:24,c=e=>a(e)-("sm"===e.size?6:10),d=e=>"sm"===e.size?2:4,p=e=>e.isActive?d(e)+a(e):d(e),l=(0,o.Z)("button",{target:"ep74ita1"})("display:inline-block;background:none;padding:0;border:1px solid ",(e=>e.theme.border),";position:relative;box-shadow:inset 0 1px 1px rgba(0, 0, 0, 0.04);transition:0.15s border ease;cursor:",(e=>e.isLoading||e.isDisabled?"not-allowed":"pointer"),";pointer-events:",(e=>e.isLoading||e.isDisabled?"none":null),";height:",a,"px;width:",(e=>2*a(e)),"px;border-radius:",a,"px;&:hover,&:focus{outline:none;border-color:",(e=>e.theme.border),";}&:focus,&.focus-visible{outline:none;box-shadow:rgba(209, 202, 216, 0.5) 0 0 0 3px;}"),h=(0,o.Z)("span",{target:"ep74ita0"})("display:block;position:absolute;border-radius:50%;transition:0.25s all ease;top:",d,"px;transform:translateX(",p,"px);width:",c,"px;height:",c,"px;background:",(e=>e.isActive||e.forceActiveColor?e.theme.active:e.theme.border),";opacity:",(e=>e.isDisabled?.4:null),";"),m=i.forwardRef(((e,t)=>(0,n.tZ)(r,{...e,forwardRef:t})))},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>a}),s("../node_modules/react/index.js");var o=s("../node_modules/react-document-title/index.js"),i=s.n(o),n=s("./app/components/asyncComponent.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends n.Z{getTitle(){return""}render(){const e=this.getTitle();return(0,r.tZ)(i(),{title:"".concat(e?"".concat(e," - "):"","Sentry"),children:this.renderComponent()})}}a.displayName="AsyncView"},"./app/views/settings/project/projectServiceHooks.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),n=s("./app/actionCreators/indicator.tsx"),r=s("./app/components/button.tsx"),a=s("./app/components/links/link.tsx"),c=s("./app/components/panels/index.tsx"),d=s("./app/components/switchButton.tsx"),p=s("./app/components/truncate.tsx"),l=s("./app/icons/index.tsx"),h=s("./app/locale.tsx"),m=s("./app/utils/withOrganization.tsx"),u=s("./app/views/asyncView.tsx"),g=s("./app/views/settings/components/emptyMessage.tsx"),v=s("./app/views/settings/components/forms/field/index.tsx"),x=s("./app/views/settings/components/settingsPageHeader.tsx"),b=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function w({orgId:e,projectId:t,hook:s,onToggleActive:o}){return(0,b.tZ)(v.Z,{label:(0,b.tZ)(a.Z,{"data-test-id":"project-service-hook",to:"/settings/".concat(e,"/projects/").concat(t,"/hooks/").concat(s.id,"/"),children:(0,b.tZ)(p.Z,{value:s.url})}),help:(0,b.tZ)("small",{children:s.events&&0!==s.events.length?s.events.join(", "):(0,b.tZ)("em",{children:(0,h.t)("no events configured")})}),children:(0,b.tZ)(d.Z,{isActive:"active"===s.status,size:"lg",toggle:o})})}w.displayName="ServiceHookRow";class j extends u.Z{constructor(...e){super(...e),(0,o.Z)(this,"onToggleActive",(e=>{const{orgId:t,projectId:s}=this.props.params,{hookList:o}=this.state;o&&((0,n.E3)((0,h.t)("Saving changesâ€¦")),this.api.request("/projects/".concat(t,"/").concat(s,"/hooks/").concat(e.id,"/"),{method:"PUT",data:{isActive:"active"!==e.status},success:e=>{(0,n.B8)(),this.setState({hookList:o.map((t=>t.id===e.id?{...t,...e}:t))})},error:()=>{(0,n.Iw)((0,h.t)("Unable to remove application. Please try again."))}}))}))}getEndpoints(){const{orgId:e,projectId:t}=this.props.params;return[["hookList","/projects/".concat(e,"/").concat(t,"/hooks/")]]}renderEmpty(){return(0,b.tZ)(g.Z,{children:(0,h.t)("There are no service hooks associated with this project.")})}renderResults(){var e;const{orgId:t,projectId:s}=this.props.params;return(0,b.BX)(i.Fragment,{children:[(0,b.tZ)(c.V9,{children:(0,h.t)("Service Hook")},"header"),(0,b.BX)(c.N,{children:[(0,b.tZ)(c.aU,{type:"info",icon:(0,b.tZ)(l.Gy,{size:"md"}),children:(0,h.t)("Service Hooks are an early adopter preview feature and will change in the future.")}),null===(e=this.state.hookList)||void 0===e?void 0:e.map((e=>(0,b.tZ)(w,{orgId:t,projectId:s,hook:e,onToggleActive:this.onToggleActive.bind(this,e)},e.id)))]},"body")]})}renderBody(){const{hookList:e}=this.state,t=e&&e.length>0?this.renderResults():this.renderEmpty(),{orgId:s,projectId:o}=this.props.params,n=new Set(this.props.organization.access);return(0,b.BX)(i.Fragment,{children:[(0,b.tZ)(x.Z,{title:(0,h.t)("Service Hooks"),action:n.has("project:write")?(0,b.tZ)(r.ZP,{"data-test-id":"new-service-hook",to:"/settings/".concat(s,"/projects/").concat(o,"/hooks/new/"),size:"small",priority:"primary",icon:(0,b.tZ)(l.N_,{size:"xs",isCircled:!0}),children:(0,h.t)("Create New Hook")}):null}),(0,b.tZ)(c.s_,{children:t})]})}}const k=(0,m.Z)(j)}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_project_projectServiceHooks_tsx.b6254c9c91db6cdcd1dba741a5c0e826.js.map