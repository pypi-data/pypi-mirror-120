"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_organizationIntegrations_abstractIntegrationDetailedView_tsx"],{"./app/utils/marked.tsx":(t,e,n)=>{n.d(e,{A:()=>g,Z:()=>h}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("../node_modules/dompurify/dist/purify.js"),i=n.n(s),r=n("../node_modules/marked/lib/marked.js"),o=n.n(r),a=n("./app/constants/index.tsx");const l=/^(https?:|mailto:)/i,d=/^https?:\/\/./i;function c(t,e){try{return e.test(decodeURIComponent(unescape(t)))}catch{return!1}}class p extends o().Renderer{link(t,e,n){if(!c(t,l))return t;const s='<a href="'.concat(t,'"').concat(e?' title="'.concat(e,'"'):"",">").concat(n,"</a>");return i().sanitize(s)}image(t,e,n){return this.options.sanitize&&!c(t,d)?"":'<img src="'.concat(t,'" alt="').concat(n,'"').concat(e?' title="'.concat(e,'"'):""," />")}}class u extends p{paragraph(t){return t}}o().setOptions({renderer:new p,sanitize:!0,silent:!!a.Bo||"test"===a.lC});const m=(...t)=>i().sanitize(o()(...t)),g=(t,e={})=>m(t,{...e,renderer:new u}),h=m},"./app/views/organizationIntegrations/abstractIntegrationDetailedView.tsx":(t,e,n)=>{n.d(e,{Z:()=>K});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/react/index.js")),o=n("../node_modules/lodash/startCase.js"),a=n.n(o),l=n("./app/components/acl/access.tsx"),d=n("./app/components/alert.tsx"),c=n("./app/components/asyncComponent.tsx"),p=n("./app/components/links/externalLink.tsx"),u=n("./app/components/panels/index.tsx"),m=n("./app/components/tag.tsx"),g=n("./app/components/tooltip.tsx"),h=n("./app/icons/index.tsx"),Z=n("./app/locale.tsx"),y=n("./app/plugins/components/pluginIcon.tsx"),x=n("./app/styles/space.tsx"),f=n("./app/utils.tsx"),w=n("./app/utils/integrationUtil.tsx"),b=n("./app/utils/marked.tsx"),z=n("./app/views/settings/components/emptyMessage.tsx"),S=n("./app/actionCreators/modal.tsx"),v=n("./app/components/button.tsx"),_=n("./app/actionCreators/indicator.tsx"),I=n("./app/views/settings/components/forms/textareaField.tsx"),k=n("./app/views/settings/components/text/textBlock.tsx"),j=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class B extends c.Z{constructor(...t){super(...t),(0,s.Z)(this,"state",{...this.getDefaultState(),isSending:!1,message:""}),(0,s.Z)(this,"sendRequest",(()=>{const{organization:t,slug:e,type:n}=this.props,{message:s}=this.state;(0,w.Db)("integrations.request_install",{integration_type:n,integration:e,organization:t});const i="/organizations/".concat(t.slug,"/integration-requests/");this.api.request(i,{method:"POST",data:{providerSlug:e,providerType:n,message:s},success:this.handleSubmitSuccess,error:this.handleSubmitError})})),(0,s.Z)(this,"handleSubmitSuccess",(()=>{const{closeModal:t,onSuccess:e}=this.props;(0,_.S9)((0,Z.t)("Request successfully sent.")),this.setState({isSending:!1}),e(),t()})),(0,s.Z)(this,"handleSubmitError",(()=>{(0,_.Iw)("Error sending the request"),this.setState({isSending:!1})}))}render(){const{Header:t,Body:e,Footer:n,name:s}=this.props,i=this.state.isSending?(0,Z.t)("Sending Request"):(0,Z.t)("Send Request");return(0,j.BX)(r.Fragment,{children:[(0,j.tZ)(t,{children:(0,j.tZ)("h4",{children:(0,Z.t)("Request %s Installation",s)})}),(0,j.BX)(e,{children:[(0,j.tZ)(k.Z,{children:(0,Z.t)("Looks like your organization owner, manager, or admin needs to install %s. Want to send them a request?",s)}),(0,j.tZ)(k.Z,{children:(0,Z.t)("(Optional) You’ve got good reasons for installing the %s Integration. Share them with your organization owner.",s)}),(0,j.tZ)(I.Z,{inline:!1,flexibleControlStateSize:!0,stacked:!0,name:"message",type:"string",onChange:t=>this.setState({message:t}),placeholder:(0,Z.t)("Optional message…")}),(0,j.tZ)(k.Z,{children:(0,Z.t)("When you click “Send Request”, we’ll email your request to your organization’s owners. So just keep that in mind.")})]}),(0,j.tZ)(n,{children:(0,j.tZ)(v.ZP,{onClick:this.sendRequest,children:i})})]})}}B.displayName="RequestIntegrationModal";class C extends r.Component{constructor(...t){super(...t),(0,s.Z)(this,"state",{isOpen:!1,isSent:!1})}openRequestModal(){this.setState({isOpen:!0}),(0,S.openModal)((t=>(0,j.tZ)(B,{...this.props,...t,onSuccess:()=>this.setState({isSent:!0})})),{onClose:()=>this.setState({isOpen:!1})})}render(){const{isOpen:t,isSent:e}=this.state;let n;return n=t?(0,Z.t)("Requesting Installation"):e?(0,Z.t)("Installation Requested"):(0,Z.t)("Request Installation"),(0,j.tZ)(T,{"data-test-id":"request-integration-button",disabled:t||e,onClick:()=>this.openRequestModal(),priority:"primary",size:"small",children:n})}}C.displayName="RequestIntegrationButton";const T=(0,i.Z)(v.ZP,{target:"e40bwsh0"})("margin-left:",(0,x.Z)(1),";");var R=n("./app/views/organizationIntegrations/integrationStatus.tsx");class q extends c.Z{constructor(...t){super(...t),(0,s.Z)(this,"tabs",["overview","configurations"]),(0,s.Z)(this,"onTabChange",(t=>{this.trackIntegrationAnalytics("integrations.integration_tab_clicked",{integration_tab:t}),this.setState({tab:t})})),(0,s.Z)(this,"trackIntegrationAnalytics",((t,e)=>{e=e||{};const n={view:"integrations_directory_integration_detail",integration:this.integrationSlug,integration_type:this.integrationType,already_installed:"Not Installed"!==this.installationStatus,organization:this.props.organization,...e};(0,w.Db)(t,n)}))}componentDidMount(){const{location:t}=this.props,e="configurations"===t.query.tab?"configurations":"overview";this.setState({tab:e})}onLoadAllEndpointsSuccess(){this.trackIntegrationAnalytics("integrations.integration_viewed",{integration_tab:this.state.tab})}get integrationType(){throw new Error("Not implemented")}get description(){throw new Error("Not implemented")}get author(){throw new Error("Not implemented")}get alerts(){return[]}get resourceLinks(){throw new Error("Not implemented")}get installationStatus(){throw new Error("Not implemented")}get integrationName(){throw new Error("Not implemented")}get featureData(){throw new Error("Not implemented")}getIcon(t){switch(t){case"View Source":return(0,j.tZ)(h.FI,{});case"Report Issue":return(0,j.tZ)(h.Uv,{});case"Documentation":case"Splunk Setup Instructions":case"Trello Setup Instructions":return(0,j.tZ)(h.OH,{});default:return(0,j.tZ)(h.RM,{})}}getTabDisplay(t){return t}renderTopButton(t,e){throw new Error("Not implemented")}renderPermissions(){return null}renderEmptyConfigurations(){return(0,j.tZ)(u.s_,{children:(0,j.tZ)(z.Z,{title:(0,Z.t)("You haven't set anything up yet"),description:(0,Z.t)("But that doesn’t have to be the case for long! Add an installation to get started."),action:this.renderAddInstallButton(!0)})})}renderConfigurations(){throw new Error("Not implemented")}get integrationSlug(){return this.props.params.integrationSlug}get featureProps(){const{organization:t}=this.props;return{organization:t,features:this.featureData.map((t=>({featureGate:t.featureGate,description:(0,j.tZ)(L,{dangerouslySetInnerHTML:{__html:(0,b.A)(t.description)}})})))}}cleanTags(){return(0,w.CP)(this.featureData)}renderRequestIntegrationButton(){return(0,j.tZ)(C,{organization:this.props.organization,name:this.integrationName,slug:this.integrationSlug,type:this.integrationType})}renderAddInstallButton(t=!1){const{organization:e}=this.props,{IntegrationDirectoryFeatures:n}=(0,w.bh)();return(0,j.tZ)(n,{...this.featureProps,children:({disabled:n,disabledReason:s})=>(0,j.BX)(G,{children:[(0,j.tZ)(l.Z,{organization:e,access:["org:integrations"],children:({hasAccess:e})=>(0,j.tZ)(g.Z,{title:(0,Z.t)("You must be an organization owner, manager or admin to install this."),disabled:e,children:!t&&n?(0,j.tZ)("div",{}):this.renderTopButton(n,e)})}),n&&(0,j.tZ)(P,{reason:s})]})})}renderTopSection(){const t=this.cleanTags();return(0,j.BX)(N,{children:[(0,j.tZ)(y.ZP,{pluginId:this.integrationSlug,size:50}),(0,j.BX)(X,{children:[(0,j.BX)(N,{children:[(0,j.tZ)(F,{children:this.integrationName}),(0,j.tZ)(Y,{children:this.installationStatus&&(0,j.tZ)(R.Z,{status:this.installationStatus})})]}),(0,j.tZ)(N,{children:t.map((t=>(0,j.tZ)(A,{children:a()(t)},t)))})]}),this.renderAddInstallButton()]})}renderTabs(){return(0,j.tZ)("ul",{className:"nav nav-tabs border-bottom",style:{paddingTop:"30px"},children:this.tabs.map((t=>(0,j.tZ)("li",{className:this.state.tab===t?"active":"",onClick:()=>this.onTabChange(t),children:(0,j.tZ)(E,{children:(0,Z.t)(this.getTabDisplay(t))})},t)))})}renderInformationCard(){const{IntegrationDirectoryFeatureList:t}=(0,w.bh)();return(0,j.tZ)(r.Fragment,{children:(0,j.BX)(N,{children:[(0,j.BX)(D,{children:[(0,j.tZ)(O,{dangerouslySetInnerHTML:{__html:(0,b.Z)(this.description)}}),(0,j.tZ)(t,{...this.featureProps,provider:{key:this.props.params.integrationSlug}}),this.renderPermissions(),this.alerts.map(((t,e)=>(!(0,f.ri)(t.feature)||this.props.organization.features.includes(t.feature))&&(0,j.tZ)(d.Z,{type:t.type,icon:t.icon,children:(0,j.tZ)("span",{dangerouslySetInnerHTML:{__html:(0,b.A)(t.text)}})},e)))]}),(0,j.BX)(H,{children:[!!this.author&&(0,j.BX)(U,{children:[(0,j.tZ)(W,{children:(0,Z.t)("Created By")}),(0,j.tZ)("div",{children:this.author})]}),this.resourceLinks.map((({title:t,url:e})=>(0,j.BX)(V,{children:[this.getIcon(t),(0,j.tZ)(p.Z,{href:e,children:(0,Z.t)(t)})]},e)))]})]})})}renderBody(){return(0,j.BX)(r.Fragment,{children:[this.renderTopSection(),this.renderTabs(),"overview"===this.state.tab?this.renderInformationCard():this.renderConfigurations()]})}}const N=(0,i.Z)("div",{target:"e15zync515"})({name:"zjik7",styles:"display:flex"}),D=(0,i.Z)("div",{target:"e15zync514"})({name:"82a6rk",styles:"flex:1"}),E=(0,i.Z)("a",{target:"e15zync513"})({name:"kff9ir",styles:"text-transform:capitalize"}),A=(0,i.Z)(m.Z,{target:"e15zync512"})("text-transform:none;&:not(:first-child){margin-left:",(0,x.Z)(.5),";}"),X=(0,i.Z)("div",{target:"e15zync511"})("display:flex;align-items:flex-start;flex-direction:column;justify-content:center;padding-left:",(0,x.Z)(2),";"),F=(0,i.Z)("div",{target:"e15zync510"})("font-weight:bold;font-size:1.4em;margin-bottom:",(0,x.Z)(1),";"),M=(0,i.Z)(h.bM,{target:"e15zync59"})("color:",(t=>t.theme.red300),";margin-right:",(0,x.Z)(1),";"),P=(0,i.Z)((({reason:t,...e})=>(0,j.BX)("div",{style:{display:"flex",alignItems:"center"},...e,children:[(0,j.tZ)(M,{isCircled:!0}),(0,j.tZ)("span",{children:t})]})),{target:"e15zync58"})("padding-top:",(0,x.Z)(.5),";font-size:0.9em;"),L=(0,i.Z)("span",{target:"e15zync57"})({name:"1gt2cgk",styles:"line-height:24px"}),O=(0,i.Z)("div",{target:"e15zync56"})("font-size:1.5rem;line-height:2.1rem;margin-bottom:",(0,x.Z)(2),";li{margin-bottom:6px;}"),H=(0,i.Z)(N,{target:"e15zync55"})("display:grid;grid-auto-rows:max-content;grid-auto-flow:row;grid-gap:",(0,x.Z)(2),";font-size:0.9em;margin-left:",(0,x.Z)(4),";margin-right:100px;"),U=(0,i.Z)("div",{target:"e15zync54"})("margin-bottom:",(0,x.Z)(3),";"),V=(0,i.Z)("div",{target:"e15zync53"})("display:grid;grid-template-columns:max-content 1fr;grid-gap:",(0,x.Z)(1),";align-items:center;"),Y=(0,i.Z)("div",{target:"e15zync52"})("margin-bottom:",(0,x.Z)(1),";padding-left:",(0,x.Z)(2),";line-height:1.5em;"),G=(0,i.Z)("div",{target:"e15zync51"})({name:"ur67by",styles:"margin-left:auto;align-self:center;display:flex;flex-direction:column;align-items:center"}),W=(0,i.Z)("div",{target:"e15zync50"})("text-transform:uppercase;padding-bottom:",(0,x.Z)(1),";color:",(t=>t.theme.gray300),";font-weight:600;font-size:12px;"),K=q},"./app/views/settings/components/forms/controls/textarea.tsx":(t,e,n)=>{n.d(e,{Z:()=>p});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("../node_modules/react/index.js"),r=n("../node_modules/react-autosize-textarea/lib/index.js"),o=n("../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js"),a=n("./app/styles/input.tsx"),l=n("./app/styles/space.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=i.forwardRef((function({autosize:t,rows:e,maxRows:n,...s},i){return t?(0,d.tZ)(r.Z,{...s,async:!0,ref:i,rows:e||2,maxRows:n}):(0,d.tZ)("textarea",{ref:i,...s})}));c.displayName="TextAreaControl";const p=(0,s.Z)(c,{shouldForwardProp:t=>["autosize","rows","maxRows"].includes(t)||(0,o.Z)(t),target:"elxy32p0"})(a.T,";min-height:40px;padding:calc(",(0,l.Z)(1)," - 1px) ",(0,l.Z)(1),";line-height:1.5em;",(t=>t.autosize&&"\n      height: auto;\n      padding: calc(".concat((0,l.Z)(1)," - 2px) ").concat((0,l.Z)(1),";\n      line-height: 1.6em;\n    ")),";")},"./app/views/settings/components/forms/textareaField.tsx":(t,e,n)=>{n.d(e,{Z:()=>l}),n("../node_modules/react/index.js");var s=n("../node_modules/lodash/omit.js"),i=n.n(s),r=n("./app/views/settings/components/forms/controls/textarea.tsx"),o=n("./app/views/settings/components/forms/inputField.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l({monospace:t,rows:e,autosize:n,...s}){return(0,a.tZ)(o.Z,{...s,field:s=>(0,a.tZ)(r.Z,{monospace:t,rows:e,autosize:n,...i()(s,["onKeyDown","children"])})})}l.displayName="TextareaField"}}]);
//# sourceMappingURL=../sourcemaps/app_views_organizationIntegrations_abstractIntegrationDetailedView_tsx.fbd63e43dcbf61d4b83d0fd20c852b47.js.map