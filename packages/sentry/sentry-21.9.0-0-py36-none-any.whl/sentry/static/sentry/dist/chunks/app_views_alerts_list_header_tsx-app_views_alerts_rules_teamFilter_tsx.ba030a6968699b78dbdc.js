"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_alerts_list_header_tsx-app_views_alerts_rules_teamFilter_tsx"],{"./app/components/forms/input.tsx":(e,t,o)=>{o.d(t,{Z:()=>l}),o("../node_modules/react/index.js");var s=o("../node_modules/classnames/index.js"),r=o.n(s),n=o("../node_modules/lodash/omit.js"),i=o.n(n),a=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l({className:e,...t}){return(0,a.tZ)("input",{className:r()("form-control",e),...i()(t,"children")})}l.displayName="Input"},"./app/views/alerts/list/header.tsx":(e,t,o)=>{o.d(t,{Z:()=>x});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=o("../node_modules/react/index.js"),n=o("./app/actionCreators/navigation.tsx"),i=o("./app/components/acl/feature.tsx"),a=o("./app/components/button.tsx"),l=o("./app/components/buttonBar.tsx"),d=o("./app/components/createAlertButton.tsx"),c=o("./app/components/globalSelectionLink.tsx"),m=o("./app/components/layouts/thirds.tsx"),p=o("./app/icons/index.tsx"),h=o("./app/locale.tsx"),u=o("./app/styles/space.tsx"),g=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const Z=({router:e,organization:t,activeTab:o})=>{const s=(0,g.tZ)("li",{className:"rules"===o?"active":"",children:(0,g.tZ)(c.Z,{to:"/organizations/".concat(t.slug,"/alerts/rules/"),children:(0,h.t)("Alert Rules")})});return(0,g.BX)(r.Fragment,{children:[(0,g.BX)(b,{children:[(0,g.tZ)(f,{children:(0,g.tZ)(w,{children:(0,h.t)("Alerts")})}),(0,g.tZ)(m.kP,{children:(0,g.BX)(v,{gap:1,children:[(0,g.tZ)(d.Z,{organization:t,iconProps:{size:"sm"},priority:"primary",referrer:"alert_stream",showPermissionGuide:!0,children:(0,h.t)("Create Alert Rule")}),(0,g.tZ)(a.ZP,{onClick:o=>{o.preventDefault(),(0,n.T)("/settings/".concat(t.slug,"/projects/:projectId/alerts/"),e)},href:"#",icon:(0,g.tZ)(p.iC,{size:"sm"}),"aria-label":"Settings"})]})})]}),(0,g.tZ)(y,{children:(0,g.tZ)(m.mL,{underlined:!0,children:(0,g.tZ)(i.Z,{features:["alert-details-redesign"],organization:t,children:({hasFeature:e})=>e?(0,g.BX)(r.Fragment,{children:[s,(0,g.tZ)("li",{className:"stream"===o?"active":"",children:(0,g.tZ)(c.Z,{to:"/organizations/".concat(t.slug,"/alerts/"),children:(0,h.t)("History")})})]}):(0,g.BX)(r.Fragment,{children:[(0,g.tZ)(i.Z,{features:["incidents"],organization:t,children:(0,g.tZ)("li",{className:"stream"===o?"active":"",children:(0,g.tZ)(c.Z,{to:"/organizations/".concat(t.slug,"/alerts/"),children:(0,h.t)("Metric Alerts")})})}),s]})})})})]})};Z.displayName="AlertHeader";const x=Z,b=(0,s.Z)(m.h4,{target:"e59niir4"})({name:"1gj9nea",styles:"border-bottom:0;grid-template-columns:1fr auto"}),f=(0,s.Z)(m.oB,{target:"e59niir3"})("margin-bottom:0;margin-right:",(0,u.Z)(2),";"),w=(0,s.Z)(m.Dx,{target:"e59niir2"})("margin-top:",(0,u.Z)(.5),";"),y=(0,s.Z)(m.h4,{target:"e59niir1"})("padding-top:",(0,u.Z)(1),";@media (max-width: ",(e=>e.theme.breakpoints[1]),"){padding-top:",(0,u.Z)(1),";}"),v=(0,s.Z)(l.ZP,{target:"e59niir0"})({name:"s0vnfv",styles:"height:32px"})},"./app/views/alerts/rules/teamFilter.tsx":(e,t,o)=>{o.d(t,{Z:()=>j,L:()=>F});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/react/index.js")),n=o("./app/components/forms/input.tsx"),i=o("./app/locale.tsx"),a=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),l=o("./app/components/checkboxFancy/checkboxFancy.tsx"),d=o("./app/components/dropdownButton.tsx"),c=o("./app/components/dropdownControl.tsx"),m=o("./app/icons/index.tsx"),p=o("./app/styles/overflowEllipsis.tsx"),h=o("./app/styles/space.tsx"),u=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function g({id:e,label:t,items:o,toggleSection:s,toggleFilter:n}){const i=o.filter((e=>e.checked)).length;return(0,u.BX)(r.Fragment,{children:[(0,u.BX)(b,{children:[(0,u.tZ)("span",{children:t}),(0,u.tZ)(l.Z,{isChecked:i===o.length,isIndeterminate:i>0&&i!==o.length,onClick:t=>{t.stopPropagation(),s(e)}})]}),o.filter((e=>!e.filtered)).map((t=>(0,u.BX)(y,{isChecked:t.checked,onClick:o=>{o.stopPropagation(),n(e,t.value)},children:[(0,u.tZ)(v,{children:t.label}),(0,u.tZ)(l.Z,{isChecked:t.checked})]},t.value)))]})}g.displayName="FilterSection";class Z extends r.Component{constructor(...e){super(...e),(0,a.Z)(this,"toggleFilter",((e,t)=>{const{onFilterChange:o,dropdownSections:s}=this.props,r=s.find((t=>t.id===e)),n=new Set(r.items.filter((e=>e.checked)).map((e=>e.value)));n.has(t)?n.delete(t):n.add(t),o(e,n)})),(0,a.Z)(this,"toggleSection",(e=>{const{onFilterChange:t}=this.props,o=this.props.dropdownSections.find((t=>t.id===e)),s=o.items.filter((e=>e.checked)),r=o.items.length===s.length?new Set:new Set(o.items.map((e=>e.value)));t(e,r)})),(0,a.Z)(this,"getNumberOfActiveFilters",(()=>this.props.dropdownSections.map((e=>e.items)).flat().filter((e=>e.checked)).length))}render(){const{dropdownSections:e,header:t}=this.props,o=this.getNumberOfActiveFilters(),s={children:(0,i.t)("Filter"),priority:"default",hasDarkBorderBottomColor:!1};return o>0&&(s.children=(0,i.tn)("%s Active Filter","%s Active Filters",o),s.hasDarkBorderBottomColor=!0),(0,u.tZ)(c.ZP,{menuWidth:"240px",blendWithActor:!0,alwaysRenderMenu:!1,button:({isOpen:e,getActorProps:t})=>(0,u.tZ)(f,{...t(),showChevron:!1,isOpen:e,icon:(0,u.tZ)(m.wH,{size:"xs"}),hasDarkBorderBottomColor:s.hasDarkBorderBottomColor,priority:s.priority,"data-test-id":"filter-button",children:s.children}),children:({isOpen:o,getMenuProps:s})=>(0,u.tZ)(x,{...s(),isOpen:o,blendCorner:!0,alignMenu:"left",width:"240px",children:(0,u.BX)(w,{children:[t,e.map((e=>(0,u.tZ)(g,{...e,toggleSection:this.toggleSection,toggleFilter:this.toggleFilter},e.id)))]})})})}}Z.displayName="Filter";const x=(0,s.Z)(c.VY,{target:"e18owixo5"})({name:"uoed0r",styles:"max-height:290px;overflow-y:auto"}),b=(0,s.Z)("div",{target:"e18owixo4"})("display:grid;grid-template-columns:auto min-content;grid-column-gap:",(0,h.Z)(1),";align-items:center;margin:0;background-color:",(e=>e.theme.backgroundSecondary),";color:",(e=>e.theme.gray300),";font-weight:normal;font-size:",(e=>e.theme.fontSizeMedium),";padding:",(0,h.Z)(1)," ",(0,h.Z)(2),";border-bottom:1px solid ",(e=>e.theme.border),";"),f=(0,s.Z)(d.Z,{target:"e18owixo3"})("white-space:nowrap;max-width:200px;z-index:",(e=>e.theme.zIndex.dropdown),";"),w=(0,s.Z)("ul",{target:"e18owixo2"})({name:"z06qs",styles:"list-style:none;margin:0;padding:0"}),y=(0,s.Z)("li",{target:"e18owixo1"})("display:grid;grid-template-columns:1fr max-content;grid-column-gap:",(0,h.Z)(1),";align-items:center;padding:",(0,h.Z)(1)," ",(0,h.Z)(2),";border-bottom:1px solid ",(e=>e.theme.border),";:hover{background-color:",(e=>e.theme.backgroundSecondary),";}",l.Z,"{opacity:",(e=>e.isChecked?1:.3),";}&:hover ",l.Z,"{opacity:1;}&:hover span{color:",(e=>e.theme.blue300),";text-decoration:underline;}"),v=(0,s.Z)("div",{target:"e18owixo0"})("font-size:",(e=>e.theme.fontSizeMedium),";",p.Z,";"),k=Z,C=["myteams","unassigned"];function F(e){return void 0===e?C:""===e?[]:Array.isArray(e)?e:[e]}function S({teams:e,selectedTeams:t,showStatus:o=!1,selectedStatus:s=new Set,handleChangeFilter:n}){const[a,l]=(0,r.useState)(),d=[{label:(0,i.t)("Unresolved"),value:"open",checked:s.has("open"),filtered:!1},{label:(0,i.t)("Resolved"),value:"closed",checked:s.has("closed"),filtered:!1}],c=[{label:(0,i.t)("My Teams"),value:"myteams",checked:t.has("myteams"),filtered:!1},{label:(0,i.t)("Unassigned"),value:"unassigned",checked:t.has("unassigned"),filtered:!1}],m=e.map((({id:e,name:o})=>({label:o,value:e,filtered:!!a&&!o.toLowerCase().includes(a.toLowerCase()),checked:t.has(e)})));return(0,u.tZ)(k,{header:(0,u.tZ)(_,{autoFocus:!0,placeholder:(0,i.t)("Filter by team name"),onClick:e=>{e.stopPropagation()},onChange:e=>{l(e.target.value)},value:a||""}),onFilterChange:n,dropdownSections:[...o?[{id:"status",label:(0,i.t)("Status"),items:d}]:[],{id:"teams",label:(0,i.t)("Teams"),items:[...c,...m]}]})}S.displayName="TeamFilter";const j=S,_=(0,s.Z)(n.Z,{target:"e1jkzz580"})("border:none;border-bottom:1px solid ",(e=>e.theme.gray200),";border-radius:0;")}}]);
//# sourceMappingURL=../sourcemaps/app_views_alerts_list_header_tsx-app_views_alerts_rules_teamFilter_tsx.cd423dfa2a4a9c29e7db88a72d62cbc6.js.map