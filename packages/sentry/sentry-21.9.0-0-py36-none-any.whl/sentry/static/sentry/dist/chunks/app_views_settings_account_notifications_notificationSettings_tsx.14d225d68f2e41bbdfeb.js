"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_account_notifications_notificationSettings_tsx"],{"./app/components/alertLink.tsx":(t,e,i)=>{i.d(e,{Z:()=>m});var n=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(i("../node_modules/react/index.js"),i("../node_modules/lodash/omit.js")),o=i.n(s),a=i("./app/components/links/externalLink.tsx"),r=i("./app/components/links/link.tsx"),c=i("./app/icons/index.tsx"),l=i("./app/styles/space.tsx"),d=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p({size:t="normal",priority:e="warning",icon:i,children:n,onClick:s,withoutMarginBottom:o=!1,openInNewTab:a=!1,to:r,href:l,"data-test-id":p}){return(0,d.BX)(u,{"data-test-id":p,to:r,href:l,onClick:s,size:t,priority:e,withoutMarginBottom:o,openInNewTab:a,children:[i&&(0,d.tZ)(g,{children:i}),(0,d.tZ)(h,{children:n}),(0,d.tZ)(f,{children:(0,d.tZ)(c.g6,{direction:"right"})})]})}p.displayName="AlertLink";const m=p,u=(0,n.Z)((({openInNewTab:t,to:e,href:i,...n})=>{const s=o()(n,["withoutMarginBottom","priority","size"]);return i?(0,d.tZ)(a.Z,{...s,href:i,openInNewTab:t}):(0,d.tZ)(r.Z,{...s,to:e||""})}),{target:"ear9tuy3"})("display:flex;background-color:",(t=>t.theme.alert[t.priority].backgroundLight),";color:",(t=>t.theme.textColor),";border:1px dashed ",(t=>t.theme.alert[t.priority].border),";padding:",(t=>"small"===t.size?"".concat((0,l.Z)(1)," ").concat((0,l.Z)(1.5)):(0,l.Z)(2)),";margin-bottom:",(t=>t.withoutMarginBottom?0:(0,l.Z)(3)),";border-radius:0.25em;transition:0.2s border-color;&.focus-visible{outline:none;box-shadow:",(t=>t.theme.alert[t.priority].border),"7f 0 0 0 2px;}"),g=(0,n.Z)("span",{target:"ear9tuy2"})("display:flex;margin:",(0,l.Z)(.5)," ",(0,l.Z)(1.5)," ",(0,l.Z)(.5)," 0;"),f=(0,n.Z)(g,{target:"ear9tuy1"})("margin:",(0,l.Z)(.5)," 0;"),h=(0,n.Z)("div",{target:"ear9tuy0"})({name:"19lh9qo",styles:"line-height:1.5;flex-grow:1"})},"./app/views/settings/account/notifications/notificationSettings.tsx":(t,e,i)=>{i.r(e),i.d(e,{default:()=>w});var n=i("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(i("../node_modules/core-js/modules/web.dom-collections.iterator.js"),i("../node_modules/core-js/modules/es.object.from-entries.js"),i("../node_modules/react/index.js")),o=i("./app/components/alertLink.tsx"),a=i("./app/components/asyncComponent.tsx"),r=i("./app/components/links/link.tsx"),c=i("./app/icons/index.tsx"),l=i("./app/locale.tsx"),d=i("./app/views/settings/account/notifications/constants.tsx"),p=i("./app/views/settings/account/notifications/feedbackAlert.tsx"),m=i("./app/views/settings/account/notifications/fields2.tsx"),u=i("./app/views/settings/account/notifications/utils.tsx"),g=i("./app/views/settings/components/forms/form.tsx"),f=i("./app/views/settings/components/forms/jsonForm.tsx"),h=i("./app/views/settings/components/settingsPageHeader.tsx"),Z=i("./app/views/settings/components/text/textBlock.tsx"),x=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class b extends a.Z{constructor(...t){super(...t),(0,n.Z)(this,"getStateToPutForDefault",((t,e)=>{const{notificationSettings:i}=this.state,n=(0,u.zD)(e,i,t,(0,u.Vy)(e,i));return this.setState({notificationSettings:(0,u.r_)(i,n)}),n}))}getDefaultState(){return{...super.getDefaultState(),notificationSettings:{},legacyData:{}}}getEndpoints(){return[["notificationSettings","/users/me/notification-settings/"],["legacyData","/users/me/notifications/"]]}getInitialData(){const{notificationSettings:t}=this.state;return Object.fromEntries(d.cH.map((e=>[e,(0,u._M)(e,t)])))}getFields(){const{notificationSettings:t}=this.state,e=[];for(const i of d.cH){const n=Object.assign({},m.u[i],{getData:t=>this.getStateToPutForDefault(t,i),help:(0,x.tZ)(s.Fragment,{children:(0,x.BX)("p",{children:[m.u[i].help,"Â ",(0,x.tZ)(r.Z,{"data-test-id":"fine-tuning",to:"/settings/account/notifications/".concat(i),children:"Fine tune"})]})})});(0,u.Vi)(i,t)&&"function"!=typeof n&&(n.confirm={never:d.Y5}),e.push(n)}return e}renderBody(){const{legacyData:t}=this.state;return(0,x.BX)(s.Fragment,{children:[(0,x.tZ)(h.Z,{title:"Notifications"}),(0,x.tZ)(Z.Z,{children:"Personal notifications sent via email or an integration."}),(0,x.tZ)(p.Z,{}),(0,x.tZ)(g.Z,{saveOnBlur:!0,apiMethod:"PUT",apiEndpoint:"/users/me/notification-settings/",initialData:this.getInitialData(),children:(0,x.tZ)(f.Z,{title:(0,l.t)("Notifications"),fields:this.getFields()})}),(0,x.tZ)(g.Z,{initialData:t,saveOnBlur:!0,apiMethod:"PUT",apiEndpoint:"/users/me/notifications/",children:(0,x.tZ)(f.Z,{title:(0,l.t)("My Activity"),fields:d.uJ.map((t=>m.u[t]))})}),(0,x.tZ)(o.Z,{to:"/settings/account/emails",icon:(0,x.tZ)(c.h,{}),children:(0,l.t)("Looking to add or remove an email address? Use the emails panel.")})]})}}const w=b}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_account_notifications_notificationSettings_tsx.331bb7ca70fdd0ee4cc22c0505457c1e.js.map