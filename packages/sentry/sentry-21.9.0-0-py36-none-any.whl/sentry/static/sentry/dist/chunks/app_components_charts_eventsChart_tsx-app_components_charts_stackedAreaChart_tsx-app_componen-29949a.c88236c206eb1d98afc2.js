"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_components_charts_eventsChart_tsx-app_components_charts_stackedAreaChart_tsx-app_componen-29949a"],{"./app/actionCreators/events.tsx":(e,t,s)=>{s.d(t,{lI:()=>l,eV:()=>d,JE:()=>c}),s("../node_modules/core-js/modules/es.object.from-entries.js"),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("../node_modules/lodash/pick.js"),a=s.n(r),o=s("./app/components/charts/utils.tsx"),n=s("./app/utils/getPeriod.tsx"),i=s("./app/utils/performance/constants.tsx");const l=(e,{organization:t,project:s,environment:r,team:a,period:i,start:l,end:d,interval:c,includePrevious:p,query:u,yAxis:h,field:m,topEvents:v,orderby:g,partial:S,withoutZerofill:f})=>{const y=(0,o.Sw)(p,i),x=Object.fromEntries(Object.entries({interval:c,project:s,environment:r,team:a,query:u,yAxis:h,field:m,topEvents:v,orderby:g,partial:S?"1":void 0,withoutZerofill:f?"1":void 0}).filter((([,e])=>void 0!==e))),E=(0,n.X)({period:i,start:l,end:d},{shouldDoublePeriod:y});return e.requestPromise("/organizations/".concat(t.slug,"/events-stats/"),{query:{...x,...E}})};async function d(e,t,s){const r={...a()(s,Object.values(i.s)),query:s.query};return e.requestPromise("/organizations/".concat(t,"/events-facets/"),{query:r})}async function c(e,t,s){const r={...a()(s,Object.values(i.s)),query:s.query};return e.requestPromise("/organizations/".concat(t,"/events-meta/"),{query:r}).then((e=>e.count))}},"./app/components/charts/areaChart.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var r=s("../node_modules/react/index.js"),a=s("./app/components/charts/series/lineSeries.tsx"),o=s("./app/components/charts/baseChart.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class i extends r.Component{render(){const{series:e,stacked:t,colors:s,...r}=this.props;return(0,n.tZ)(o.Z,{...r,colors:s,series:e.map((({seriesName:e,data:r,...o},n)=>function(e={}){return(0,a.Z)({...e})}({stack:t?"area":void 0,name:e,data:r.map((({name:e,value:t})=>[e,t])),lineStyle:{color:null==s?void 0:s[n],opacity:1,width:.4},areaStyle:{color:null==s?void 0:s[n],opacity:1},animation:!1,animationThreshold:1,animationDuration:0,...o})))})}}i.displayName="AreaChart";const l=i},"./app/components/charts/components/markLine.tsx":(e,t,s)=>{function r(e){return{symbol:["none","none"],...e}}s.d(t,{Z:()=>r}),s("../node_modules/echarts/lib/component/markLine.js")},"./app/components/charts/eventsChart.tsx":(e,t,s)=>{s.d(t,{Z:()=>w});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),o=s("../node_modules/@emotion/react/dist/emotion-element-a8309070.browser.esm.js"),n=s("../node_modules/lodash/isEqual.js"),i=s.n(n),l=s("./app/components/charts/areaChart.tsx"),d=s("./app/components/charts/barChart.tsx"),c=s("./app/components/charts/chartZoom.tsx"),p=s("./app/components/charts/errorPanel.tsx"),u=s("./app/components/charts/lineChart.tsx"),h=s("./app/components/charts/releaseSeries.tsx"),m=s("./app/components/charts/transitionChart.tsx"),v=s("./app/components/charts/transparentLoadingMask.tsx"),g=s("./app/components/charts/utils.tsx"),S=s("./app/icons/index.tsx"),f=s("./app/locale.tsx"),y=s("./app/utils.tsx"),x=s("./app/utils/discover/charts.tsx"),E=s("./app/utils/discover/fields.tsx"),A=s("./app/components/charts/eventsRequest.tsx"),b=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class R extends a.Component{constructor(...e){super(...e),(0,r.Z)(this,"state",{seriesSelection:{},forceUpdate:!1}),(0,r.Z)(this,"handleLegendSelectChanged",(e=>{const{disableableSeries:t=[]}=this.props,{selected:s}=e,r=Object.keys(s).reduce(((e,r)=>{const a="Releases"===r||t.includes(r);return e[r]=!a||s[r],e}),{});this.setState({seriesSelection:r,forceUpdate:!0},(()=>this.setState({forceUpdate:!1})))}))}shouldComponentUpdate(e,t){return!(!t.forceUpdate&&i()(this.state.seriesSelection,t.seriesSelection)&&(e.reloading||!e.timeseriesData||i()(this.props.timeseriesData,e.timeseriesData)&&i()(this.props.releaseSeries,e.releaseSeries)&&i()(this.props.previousTimeseriesData,e.previousTimeseriesData)))}getChartComponent(){const{showDaily:e,timeseriesData:t,yAxis:s,chartComponent:r}=this.props;if((0,y.ri)(r))return r;if(e)return d.Z;if(t.length>1)switch((0,E.fD)(s)){case"line":return u.Z;case"area":return l.Z;default:throw new Error("Unknown multi plot type for ".concat(s))}return l.Z}render(){var e,t;const{theme:s,loading:r,reloading:a,yAxis:o,releaseSeries:n,zoomRenderProps:i,timeseriesData:l,previousTimeseriesData:d,showLegend:c,legendOptions:p,chartOptions:u,currentSeriesName:h,previousSeriesName:m,seriesTransformer:v,previousSeriesTransformer:S,colors:y,height:E,timeframe:A,...R}=this.props,{seriesSelection:C}=this.state,N=[null!=h?h:(0,f.t)("Current"),null!=m?m:(0,f.t)("Previous")],w=(0,f.t)("Releases");Array.isArray(n)&&N.push(w);const Z=n&&n[0],D=Array.isArray(n)&&(null==Z||null===(e=Z.markLine)||void 0===e?void 0:e.data)&&Z.markLine.data.length>=g.XO,T=Array.isArray(n)&&0===Object.keys(C).length&&D?{[w]:!1}:C,P=c?{right:16,top:12,data:N,selected:T,...null!=p?p:{}}:void 0;let _=Array.isArray(n)?[...l,...n]:l,j=d;v&&(_=v(_)),S&&(j=S(d));const O={colors:l.length?null!==(t=null==y?void 0:y.slice(0,_.length))&&void 0!==t?t:[...s.charts.getColorPalette(l.length-2)]:void 0,grid:{left:"24px",right:"24px",top:"32px",bottom:"12px"},seriesOptions:{showSymbol:!1},tooltip:{trigger:"axis",truncate:80,valueFormatter:e=>(0,x.CX)(e,o)},xAxis:A?{min:A.start,max:A.end}:void 0,yAxis:{axisLabel:{color:s.chartLabel,formatter:e=>(0,x.gu)(e,o)}},...null!=u?u:{}},U=this.getChartComponent();return(0,b.tZ)(U,{...R,...i,...O,legend:P,onLegendSelectChanged:this.handleLegendSelectChanged,series:_,previousPeriod:j?[j]:void 0,height:E})}}R.displayName="Chart";const C=(0,o.b)(R);class N extends a.Component{isStacked(){return"number"==typeof this.props.topEvents&&this.props.topEvents>0}render(){const{api:e,period:t,utc:s,query:r,router:o,start:n,end:i,projects:l,environments:d,showLegend:u,yAxis:y,disablePrevious:x,disableReleases:R,emphasizeReleases:N,currentSeriesName:w,previousSeriesName:Z,seriesTransformer:D,previousSeriesTransformer:T,field:P,interval:_,showDaily:j,topEvents:O,orderby:U,confirmedQuery:L,colors:I,chartHeader:F,legendOptions:q,chartOptions:H,preserveReleaseQueryParams:k,releaseQueryExtra:M,disableableSeries:z,chartComponent:B,usePageZoom:V,height:G,withoutZerofill:Y,...X}=this.props,Q=!x&&!n&&!i;let W=y&&(0,E.GO)(y)?(0,E.vp)(y):y;W&&W.length>60&&(W=W.substr(0,60)+"...");const J=null!=Z?Z:W?(0,f.t)("previous %s",W):void 0,K=null!=w?w:W,$=j?"1d":_||(0,g.ZS)(this.props,"high");let ee=({zoomRenderProps:e,releaseSeries:t,errored:s,loading:r,reloading:o,results:n,timeseriesData:i,previousTimeseriesData:l,timeframe:d})=>{if(s)return(0,b.tZ)(p.Z,{children:(0,b.tZ)(S.FC,{color:"gray300",size:"lg"})});const c=n||i;return(0,b.BX)(m.Z,{loading:r,reloading:o,height:G?"".concat(G,"px"):void 0,children:[(0,b.tZ)(v.Z,{visible:o}),a.isValidElement(F)&&F,(0,b.tZ)(C,{zoomRenderProps:e,loading:r,reloading:o,showLegend:u,releaseSeries:t||[],timeseriesData:null!=c?c:[],previousTimeseriesData:l,currentSeriesName:K,previousSeriesName:J,seriesTransformer:D,previousSeriesTransformer:T,stacked:this.isStacked(),yAxis:y,showDaily:j,colors:I,legendOptions:q,chartOptions:H,disableableSeries:z,chartComponent:B,height:G,timeframe:d})]})};if(!R){const e=ee;ee=r=>(0,b.tZ)(h.Z,{utc:s,period:t,start:n,end:i,projects:l,environments:d,emphasizeReleases:N,preserveQueryParams:k,queryExtra:M,children:({releaseSeries:t})=>e({...r,releaseSeries:t})})}return(0,b.tZ)(c.Z,{router:o,period:t,start:n,end:i,utc:s,usePageDate:V,...X,children:s=>(0,b.tZ)(A.Z,{...X,api:e,period:t,project:l,environment:d,start:n,end:i,interval:$,query:r,includePrevious:Q,currentSeriesName:K,previousSeriesName:J,yAxis:y,field:P,orderby:U,topEvents:O,confirmedQuery:L,partial:!0,withoutZerofill:Y&&!this.isStacked(),children:e=>ee({...e,zoomRenderProps:s})})})}}N.displayName="EventsChart";const w=N},"./app/components/charts/eventsRequest.tsx":(e,t,s)=>{s.d(t,{Z:()=>f});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),o=s("../node_modules/lodash/isEqual.js"),n=s.n(o),i=s("../node_modules/lodash/omitBy.js"),l=s.n(i),d=s("./app/actionCreators/events.tsx"),c=s("./app/actionCreators/indicator.tsx"),p=s("./app/components/charts/loadingPanel.tsx"),u=s("./app/components/charts/utils.tsx"),h=s("./app/locale.tsx"),m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const v=["api","children","organization","loading"],g=e=>l()(e,((e,t)=>v.includes(t)));class S extends a.PureComponent{constructor(...e){super(...e),(0,r.Z)(this,"state",{reloading:!!this.props.loading,errored:!1,timeseriesData:null,fetchedWithPrevious:!1}),(0,r.Z)(this,"unmounting",!1),(0,r.Z)(this,"fetchData",(async()=>{const{api:e,confirmedQuery:t,expired:s,name:r,hideError:a,...o}=this.props;let n=null;if(!1!==t){if(this.setState((e=>({reloading:null!==e.timeseriesData,errored:!1}))),s)(0,c.Iw)((0,h.t)("%s has an invalid date range. Please try a more recent date range.",r),{append:!0}),this.setState({errored:!0});else try{e.clear(),n=await(0,d.lI)(e,o)}catch(e){a||(e&&e.responseJSON&&e.responseJSON.detail?(0,c.Iw)(e.responseJSON.detail):(0,c.Iw)((0,h.t)("Error loading chart data"))),this.setState({errored:!0})}this.unmounting||this.setState({reloading:!1,timeseriesData:n,fetchedWithPrevious:o.includePrevious})}})),(0,r.Z)(this,"getData",(e=>{const{fetchedWithPrevious:t}=this.state,{period:s,includePrevious:r}=this.props,a=t||(0,u.Sw)(r,s),o=Math.floor(e.length/2);return{current:a?e.slice(o):e,previous:a?e.slice(0,o):null}}))}componentDidMount(){this.fetchData()}componentDidUpdate(e){n()(g(e),g(this.props))||this.fetchData()}componentWillUnmount(){this.unmounting=!0}calculateTotalsPerTimestamp(e,t=(e=>1e3*e)){return e.map((([e,s],r)=>({name:t(e,s,r),value:s.reduce(((e,{count:t})=>e+t),0)})))}transformPreviousPeriodData(e,t){var s;return t?{seriesName:null!==(s=this.props.previousSeriesName)&&void 0!==s?s:"Previous",data:this.calculateTotalsPerTimestamp(t,((t,s,r)=>1e3*e[r][0]))}:null}transformAggregatedTimeseries(e,t=""){return{seriesName:t,data:this.calculateTotalsPerTimestamp(e)}}transformTimeseriesData(e,t){return[{seriesName:t||"Current",data:e.map((([e,t])=>({name:1e3*e,value:t.reduce(((e,{count:t})=>e+t),0)})))}]}processData(e){if(!e)return{};const{data:t,totals:s}=e,{includeTransformedData:r,includeTimeAggregation:a,timeAggregationSeriesName:o}=this.props,{current:n,previous:i}=this.getData(t);return{data:r?this.transformTimeseriesData(n,this.props.currentSeriesName):[],allData:t,originalData:n,totals:s,originalPreviousData:i,previousData:r?this.transformPreviousPeriodData(n,i):null,timeAggregatedData:a?this.transformAggregatedTimeseries(n,o||""):{},timeframe:e.start&&e.end?i?{start:500*(e.start+e.end),end:1e3*e.end}:{start:1e3*e.start,end:1e3*e.end}:void 0}}render(){const{children:e,showLoading:t,...s}=this.props,{timeseriesData:r,reloading:a,errored:o}=this.state,n=this.props.loading||null===r;if(t&&n)return(0,m.tZ)(p.Z,{"data-test-id":"events-request-loading"});if((0,u.Xe)(r)){let t;return e({loading:n,reloading:a,errored:o,results:Object.keys(r).map((e=>{const s=r[e];s.start&&s.end&&!t&&(t={start:1e3*s.start,end:1e3*s.end});const a=this.transformTimeseriesData(s.data,e)[0];return[s.order||0,a]})).sort(((e,t)=>e[0]-t[0])).map((e=>e[1])),timeframe:t,...s})}const{data:i,allData:l,originalData:d,totals:c,originalPreviousData:h,previousData:v,timeAggregatedData:g,timeframe:S}=this.processData(r);return e({loading:n,reloading:a,errored:o,timeseriesData:i,allTimeseriesData:l,originalTimeseriesData:d,timeseriesTotals:c,originalPreviousTimeseriesData:h,previousTimeseriesData:v,timeAggregatedData:g,timeframe:S,...s})}}S.displayName="EventsRequest",(0,r.Z)(S,"defaultProps",{period:void 0,start:null,end:null,interval:"1d",limit:15,query:"",includePrevious:!0,includeTransformedData:!0});const f=S},"./app/components/charts/releaseSeries.tsx":(e,t,s)=>{s.d(t,{Z:()=>R});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),o=s("../node_modules/react-router/es/index.js"),n=s("../node_modules/@emotion/react/dist/emotion-element-a8309070.browser.esm.js"),i=s("../node_modules/lodash/isEqual.js"),l=s.n(i),d=s("../node_modules/lodash/memoize.js"),c=s.n(d),p=s("../node_modules/lodash/partition.js"),u=s.n(p),h=s("./app/actionCreators/indicator.tsx"),m=s("./app/components/charts/components/markLine.tsx"),v=s("./app/locale.tsx"),g=s("./app/utils.tsx"),S=s("./app/utils/dates.tsx"),f=s("./app/utils/formatters.tsx"),y=s("./app/utils/parseLinkHeader.tsx"),x=s("./app/utils/withApi.tsx"),E=s("./app/utils/withOrganization.tsx");function A(e,t,s){const r={};return Object.keys(s).forEach((e=>{let t=s[e];!t||"start"!==e&&"end"!==e||(t=(0,S.v5)(t)),t&&(r[e]=t)})),e.clear(),e.requestPromise("/organizations/".concat(t.slug,"/releases/stats/"),{includeAllArgs:!0,method:"GET",query:r})}class b extends a.Component{constructor(...e){super(...e),(0,r.Z)(this,"state",{releases:null,releaseSeries:[]}),(0,r.Z)(this,"_isMounted",!1),(0,r.Z)(this,"getOrganizationReleasesMemoized",c()(((e,t,s)=>A(e,t,s)),((e,t,s)=>Object.values(s).map((e=>JSON.stringify(e))).join("-")))),(0,r.Z)(this,"getReleaseSeries",((e,t={})=>{const{organization:s,router:r,tooltip:a,environments:o,start:n,end:i,period:l,preserveQueryParams:d,queryExtra:c,theme:p}=this.props,u={...c};s.features.includes("global-views")&&(u.project=r.location.query.project),d&&(u.environment=[...o],u.start=n?(0,S.v5)(n):void 0,u.end=i?(0,S.v5)(i):void 0,u.statsPeriod=l||void 0);const h=(0,m.Z)({animation:!1,lineStyle:{color:p.purple300,opacity:.3,type:"solid",...t},label:{show:!1},data:e.map((e=>({xAxis:+new Date(e.date),name:(0,f.ko)(e.version,!0),value:(0,f.ko)(e.version,!0),onClick:()=>{r.push({pathname:"/organizations/".concat(s.slug,"/releases/").concat(e.version,"/"),query:u})},label:{formatter:()=>(0,f.ko)(e.version,!0)}})))});return h.tooltip=a||{trigger:"item",formatter:({data:e})=>{const t=(0,S.L0)(e.value,"MMM D, YYYY LT",{local:!this.props.utc}),s=(0,g.YU)((0,f.ko)(e.name,!0));return['<div class="tooltip-series">','<div><span class="tooltip-label"><strong>'.concat((0,v.t)("Release"),"</strong></span> ").concat(s,"</div>"),"</div>",'<div class="tooltip-date">',t,"</div>","</div>",'<div class="tooltip-arrow"></div>'].join("")}},{seriesName:"Releases",color:p.purple200,data:[],markLine:h}}))}componentDidMount(){this._isMounted=!0;const{releases:e}=this.props;e?this.setReleasesWithSeries(e):this.fetchData()}componentDidUpdate(e){l()(e.projects,this.props.projects)&&l()(e.environments,this.props.environments)&&l()(e.start,this.props.start)&&l()(e.end,this.props.end)&&l()(e.period,this.props.period)&&l()(e.query,this.props.query)?l()(e.emphasizeReleases,this.props.emphasizeReleases)||this.setReleasesWithSeries(this.state.releases):this.fetchData()}componentWillUnmount(){this._isMounted=!1,this.props.api.clear()}async fetchData(){const{api:e,organization:t,projects:s,environments:r,period:a,start:o,end:n,memoized:i,query:l}=this.props,d={start:o,end:n,project:s,environment:r,statsPeriod:a,query:l};let c=!0;const p=[];for(;c;)try{const s=i?this.getOrganizationReleasesMemoized:A,[r,,a]=await s(e,t,d);p.push(...r),this._isMounted&&this.setReleasesWithSeries(p);const o=null==a?void 0:a.getResponseHeader("Link");if(o){var u,m;const e=(0,y.Z)(o);c=null!==(u=null==e||null===(m=e.next)||void 0===m?void 0:m.results)&&void 0!==u&&u,d.cursor=e.next.cursor}else c=!1}catch{(0,h.Iw)((0,v.t)("Error fetching releases")),c=!1}}setReleasesWithSeries(e){const{emphasizeReleases:t=[]}=this.props,s=[];if(t.length){const[r,a]=u()(e,(e=>!t.includes(e.version)));r.length&&s.push(this.getReleaseSeries(r,{type:"dotted"})),a.length&&s.push(this.getReleaseSeries(a,{opacity:.8}))}else s.push(this.getReleaseSeries(e));this.setState({releases:e,releaseSeries:s})}render(){const{children:e}=this.props;return e({releases:this.state.releases,releaseSeries:this.state.releaseSeries})}}b.displayName="ReleaseSeries";const R=(0,o.withRouter)((0,E.Z)((0,x.Z)((0,n.b)(b))))},"./app/components/charts/stackedAreaChart.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var r=s("../node_modules/react/index.js"),a=s("./app/components/charts/areaChart.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class n extends r.Component{render(){return(0,o.tZ)(a.Z,{tooltip:{filter:e=>e>0},...this.props,stacked:!0})}}n.displayName="StackedAreaChart";const i=n},"./app/components/discover/discoverFeature.tsx":(e,t,s)=>{s.d(t,{Z:()=>d}),s("../node_modules/react/index.js");var r=s("./app/components/acl/feature.tsx"),a=s("./app/components/acl/featureDisabled.tsx"),o=s("./app/components/hovercard.tsx"),n=s("./app/locale.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l({children:e}){const t=(0,n.t)("Requires discover feature.");return(0,i.tZ)(r.Z,{hookName:"feature-disabled:open-discover",features:["organizations:discover-basic"],renderDisabled:e=>(0,i.tZ)(o.ZP,{body:(0,i.tZ)(a.Z,{features:e.features,hideHelpToggle:!0,message:t,featureName:t}),children:e.children(e)}),children:({hasFeature:t})=>e({hasFeature:t})})}l.displayName="DiscoverFeature";const d=l},"./app/components/discoverButton.tsx":(e,t,s)=>{s.d(t,{Z:()=>i}),s("../node_modules/react/index.js");var r=s("./app/components/button.tsx"),a=s("./app/components/discover/discoverFeature.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function n({children:e,...t}){return(0,o.tZ)(a.Z,{children:({hasFeature:s})=>(0,o.tZ)(r.ZP,{disabled:!s,...t,children:e})})}n.displayName="DiscoverButton";const i=n},"./app/components/issues/groupList.tsx":(e,t,s)=>{s.d(t,{Z:()=>U});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),o=s("../node_modules/react-router/es/index.js"),n=s("../node_modules/@sentry/minimal/esm/index.js"),i=s("../node_modules/lodash/isEqual.js"),l=s.n(i),d=s("../node_modules/lodash/omit.js"),c=s.n(d),p=s("../node_modules/query-string/index.js"),u=s("./app/actionCreators/members.tsx"),h=s("./app/components/emptyStateWarning.tsx"),m=s("./app/components/loadingError.tsx"),v=s("./app/components/loadingIndicator.tsx"),g=s("./app/components/pagination.tsx"),S=s("./app/components/panels/index.tsx"),f=s("./app/components/stream/group.tsx"),y=s("./app/locale.tsx"),x=s("./app/stores/groupStore.tsx"),E=s("./app/utils/callIfFunction.tsx"),A=s("./app/utils/streamManager.tsx"),b=s("./app/utils/withApi.tsx"),R=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),C=s("./app/styles/space.tsx"),N=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const w=({withChart:e=!0,narrowGroups:t=!1})=>(0,N.BX)(S.V9,{disablePadding:!0,children:[(0,N.tZ)(T,{children:(0,y.t)("Issue")}),e&&(0,N.tZ)(_,{className:"hidden-xs hidden-sm ".concat(t?"hidden-md":""),children:(0,y.t)("Graph")}),(0,N.tZ)(P,{children:(0,y.t)("events")}),(0,N.tZ)(P,{children:(0,y.t)("users")}),(0,N.tZ)(j,{className:"hidden-xs hidden-sm toolbar-header",children:(0,y.t)("Assignee")})]});w.displayName="GroupListHeader";const Z=w,D=(0,R.Z)("div",{target:"emaz6xo4"})("display:flex;align-self:center;margin:0 ",(0,C.Z)(2),";"),T=(0,R.Z)(D,{target:"emaz6xo3"})("flex:1;width:66.66%;@media (min-width: ",(e=>e.theme.breakpoints[1]),"){width:50%;}"),P=(0,R.Z)(D,{target:"emaz6xo2"})("justify-content:flex-end;width:60px;@media (min-width: ",(e=>e.theme.breakpoints[3]),"){width:80px;}"),_=(0,R.Z)(D,{target:"emaz6xo1"})({name:"1yz45kt",styles:"justify-content:space-between;width:160px"}),j=(0,R.Z)(D,{target:"emaz6xo0"})({name:"8mimsw",styles:"justify-content:flex-end;width:80px"});class O extends a.Component{constructor(...e){super(...e),(0,r.Z)(this,"state",{loading:!0,error:!1,groups:[],pageLinks:null}),(0,r.Z)(this,"listener",x.Z.listen((()=>this.onGroupChange()),void 0)),(0,r.Z)(this,"_streamManager",new A.Z(x.Z)),(0,r.Z)(this,"fetchData",(()=>{x.Z.loadInitialData([]);const{api:e,orgId:t}=this.props;e.clear(),this.setState({loading:!0,error:!1}),(0,u.MA)(e,t).then((e=>{this.setState({memberList:(0,u.M4)(e)})}));const s=this.getGroupListEndpoint();e.request(s,{success:(e,t,s)=>{var r;this._streamManager.push(e),this.setState({error:!1,loading:!1,pageLinks:null!==(r=null==s?void 0:s.getResponseHeader("Link"))&&void 0!==r?r:null},(()=>{var e,t;null===(e=(t=this.props).onFetchSuccess)||void 0===e||e.call(t,this.state,this.handleCursorChange)}))},error:e=>{n.Tb(e),this.setState({error:!0,loading:!1})}})}))}componentDidMount(){this.fetchData()}shouldComponentUpdate(e,t){return!l()(this.state,t)||e.endpointPath!==this.props.endpointPath||e.query!==this.props.query||!l()(e.queryParams,this.props.queryParams)}componentDidUpdate(e){const t=["end"];e.orgId===this.props.orgId&&e.endpointPath===this.props.endpointPath&&e.query===this.props.query&&l()(c()(e.queryParams,t),c()(this.props.queryParams,t))||this.fetchData()}componentWillUnmount(){x.Z.reset(),(0,E.g)(this.listener)}getGroupListEndpoint(){const{orgId:e,endpointPath:t,queryParams:s}=this.props,r=null!=t?t:"/organizations/".concat(e,"/issues/"),a=null!=s?s:this.getQueryParams();return"".concat(r,"?").concat(p.stringify(a))}getQueryParams(){const{location:e,query:t}=this.props,s=e.query;return s.limit=50,s.sort="new",s.query=t,s}handleCursorChange(e,t,s,r){const a=parseInt(s.page,10);let n=isNaN(a)?r:a+r;n<=0&&(e=void 0,n=void 0),o.browserHistory.push({pathname:t,query:{...s,cursor:e,page:n}})}onGroupChange(){const e=this._streamManager.getAllItems();l()(e,this.state.groups)||this.setState({groups:e})}render(){const{canSelectGroups:e,withChart:t,renderEmptyMessage:s,withPagination:r,useFilteredStats:o,useTintRow:n,customStatsPeriod:i,queryParams:l,queryFilterDescription:d,narrowGroups:c}=this.props,{loading:p,error:u,groups:x,memberList:E,pageLinks:A}=this.state;if(p)return(0,N.tZ)(v.Z,{});if(u)return(0,N.tZ)(m.Z,{onRetry:this.fetchData});if(0===x.length)return"function"==typeof s?s():(0,N.tZ)(S.s_,{children:(0,N.tZ)(S.N,{children:(0,N.tZ)(h.Z,{children:(0,N.tZ)("p",{children:(0,y.t)("There don't seem to be any events fitting the query.")})})})});const b="auto"===(null==l?void 0:l.groupStatsPeriod)?null==l?void 0:l.groupStatsPeriod:f.g;return(0,N.BX)(a.Fragment,{children:[(0,N.BX)(S.s_,{children:[(0,N.tZ)(Z,{withChart:!!t,narrowGroups:c}),(0,N.tZ)(S.N,{children:x.map((({id:s,project:r})=>{const a=null!=E&&E.hasOwnProperty(r.slug)?E[r.slug]:void 0;return(0,N.tZ)(f.Z,{id:s,canSelect:e,withChart:t,memberList:a,useFilteredStats:o,useTintRow:n,customStatsPeriod:i,statsPeriod:b,queryFilterDescription:d,narrowGroups:c},s)}))})]}),r&&(0,N.tZ)(g.Z,{pageLinks:A,onCursor:this.handleCursorChange})]})}}O.displayName="GroupList",(0,r.Z)(O,"defaultProps",{canSelectGroups:!0,withChart:!0,withPagination:!0,useFilteredStats:!0,useTintRow:!0,narrowGroups:!1});const U=(0,b.Z)((0,o.withRouter)(O))},"./app/constants/notAvailableMessages.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var r=s("./app/locale.tsx");const a={performance:(0,r.t)("This view is only available with Performance Monitoring."),discover:(0,r.t)("This view is only available with Discover."),releaseHealth:(0,r.t)("This view is only available with Release Health.")}},"./app/utils/discover/charts.tsx":(e,t,s)=>{s.d(t,{CX:()=>n,gu:()=>i,b4:()=>l});var r=s("./app/locale.tsx"),a=s("./app/utils/discover/fields.tsx"),o=s("./app/utils/formatters.tsx");function n(e,t=""){switch((0,a.Px)(t)){case"integer":case"number":return e.toLocaleString();case"percentage":return(0,o.rl)(e,2);case"duration":return(0,o.g9)(e/1e3,2,!0);default:return e.toString()}}function i(e,t,s=!1){switch((0,a.Px)(t)){case"integer":case"number":return s?(0,o.Du)(e):e.toLocaleString();case"percentage":return(0,o.rl)(e,0);case"duration":return l(e);default:return e.toString()}}function l(e){if(0===e)return"0";if(e>=o.ps){const t=(e/o.ps).toFixed(0);return(0,r.t)("%swk",t)}if(e>=o.x4){const t=(e/o.x4).toFixed(0);return(0,r.t)("%sd",t)}if(e>=o.kr){const t=(e/o.kr).toFixed(0);return(0,r.t)("%shr",t)}if(e>=o.EB){const t=(e/o.EB).toFixed(0);return(0,r.t)("%smin",t)}if(e>=o.sh){const t=(e/o.sh).toFixed(0);return(0,r.t)("%ss",t)}const t=e.toFixed(0);return(0,r.t)("%sms",t)}},"./app/utils/getPeriod.tsx":(e,t,s)=>{s.d(t,{X:()=>i}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("../node_modules/moment/moment.js"),a=s.n(r),o=s("./app/constants/index.tsx"),n=s("./app/utils/dates.tsx");const i=({period:e,start:t,end:s},{shouldDoublePeriod:r}={})=>{if(e||t||s||(e=o.GY),e){if(!r)return{statsPeriod:e};const[,t,s]=e.match(/([0-9]+)([mhdw])/);return{statsPeriod:"".concat(2*parseInt(t,10)).concat(s)}}if(!t||!s)throw new Error("start and end required");const i=(0,n.v5)(t),l=(0,n.v5)(s);if(r){const e=a()(s).diff(a()(t)),r=a()(t).subtract(e);return{start:(0,n.v5)(r),end:l}}return{start:i,end:l}}},"./app/views/performance/trends/types.tsx":(e,t,s)=>{let r,a,o;s.d(t,{ER:()=>r,Z2:()=>a,A2:()=>o}),function(e){e.IMPROVED="improved",e.REGRESSION="regression"}(r||(r={})),function(e){e.P50="p50",e.P75="p75",e.P95="p95",e.P99="p99",e.AVG="avg"}(a||(a={})),function(e){e.DURATION="transaction.duration",e.LCP="measurements.lcp",e.FCP="measurements.fcp",e.FID="measurements.fid",e.CLS="measurements.cls",e.SPANS_DB="spans.db",e.SPANS_HTTP="spans.http",e.SPANS_BROWSER="spans.browser",e.SPANS_RESOURCE="spans.resource"}(o||(o={}))},"./app/views/performance/trends/utils.tsx":(e,t,s)=>{s.d(t,{_1:()=>h,bg:()=>m,T1:()=>v,te:()=>f,es:()=>y,vt:()=>A,Ws:()=>b,CE:()=>R,IO:()=>C,ed:()=>N,Kt:()=>w,_H:()=>Z,kM:()=>D,iF:()=>T,wx:()=>P,RP:()=>_,j_:()=>j,P4:()=>O,HF:()=>L,vq:()=>I}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("../node_modules/downsample/methods/ASAP.js"),a=s("../node_modules/moment/moment.js"),o=s.n(a),n=s("./app/components/charts/utils.tsx"),i=s("./app/locale.tsx"),l=s("./app/utils/discover/fields.tsx"),d=s("./app/utils/queryString.tsx"),c=s("./app/utils/theme.tsx"),p=s("./app/utils/tokenizeSearch.tsx"),u=s("./app/views/performance/trends/types.tsx");const h="14d",m="15min",v=[{label:"p50",field:u.Z2.P50,alias:"percentile_range",legendLabel:"p50"},{label:"p75",field:u.Z2.P75,alias:"percentile_range",legendLabel:"p75"},{label:"p95",field:u.Z2.P95,alias:"percentile_range",legendLabel:"p95"},{label:"p99",field:u.Z2.P99,alias:"percentile_range",legendLabel:"p99"},{label:"average",field:u.Z2.AVG,alias:"avg_range",legendLabel:"average"}],g=[{label:"Duration",column:u.A2.DURATION},{label:"LCP",column:u.A2.LCP},{label:"FCP",column:u.A2.FCP},{label:"FID",column:u.A2.FID},{label:"CLS",column:u.A2.CLS}],S=[{label:"Spans (http)",column:u.A2.SPANS_HTTP},{label:"Spans (db)",column:u.A2.SPANS_DB},{label:"Spans (browser)",column:u.A2.SPANS_BROWSER},{label:"Spans (resource)",column:u.A2.SPANS_RESOURCE}];function f({canSeeSpanOpTrends:e}={canSeeSpanOpTrends:!1}){return e?[...g,...S]:[...g]}const y={[u.ER.IMPROVED]:{lighter:c.ZP.green200,default:c.ZP.green300},[u.ER.REGRESSION]:{lighter:c.ZP.red200,default:c.ZP.red300}},x={[u.ER.IMPROVED]:"improvedSelected",[u.ER.REGRESSION]:"regressionSelected"},E={[u.ER.IMPROVED]:"improvedUnselectedSeries",[u.ER.REGRESSION]:"regressionUnselectedSeries"},A={[u.ER.IMPROVED]:"improvedCursor",[u.ER.REGRESSION]:"regressionCursor"};function b(){const e={};return Object.values(A).forEach((t=>e[t]=void 0)),e}function R(e){var t;const s=(0,d.ro)(null==e||null===(t=e.query)||void 0===t?void 0:t.trendFunction);return v.find((({field:e})=>e===s))||v[0]}function C(e){var t;const s=(0,d.ro)(null==e||null===(t=e.query)||void 0===t?void 0:t.trendParameter);return g.find((({label:e})=>e===s))||g[0]}function N(e,t){return(0,l.sN)({kind:"function",function:[e,t,void 0,void 0]})}function w(e,t){return{fromSeconds:e/1e3,toSeconds:t/1e3,showDigits:e>1e3||t>1e3||e<10||t<10}}function Z(e,t){if(!e.project||!t)return;const s=t.find((t=>t.slug===e.project));return null==s?void 0:s.id}function D(e,t,s,r){const a=R(t),o=C(t),i=[...r?[]:["transaction"],"project"].map((e=>({field:e}))),l={field:"trend_percentage()",kind:"asc"};e.trendType=s,s===u.ER.REGRESSION&&(l.kind="desc"),a&&o&&(e.trendFunction=N(a.field,o.column)),e.query=function(e){const t=new p.MY(e);return t.hasFilter("count_percentage()")||t.addFilterValues("count_percentage()",[">0.25","<4"]),t.hasFilter("trend_percentage()")||t.addFilterValues("trend_percentage()",[">0%"]),t.hasFilter("confidence()")||t.addFilterValues("confidence()",[">6"]),t.formatString()}(e.query),e.interval=function(e,t){var s;const r=(0,d.ro)(null==e||null===(s=e.query)||void 0===s?void 0:s.interval),{start:a,end:o,statsPeriod:i}=t,l={start:a||null,end:o||null,period:i},c=(0,n.ZS)(l,"high");return r||c}(t,e),e.sorts=[l],e.fields=i}function T(e,t){const{query:s}=t,r=s.start&&s.end;return s.statsPeriod||r||(e.statsPeriod=h),e}function P(e,t){const s=Math.abs(e);return{seconds:s/1e3,fixedDigits:s>1e3||s<10?1:0,changeLabel:t===u.ER.REGRESSION?(0,i.t)("slower"):(0,i.t)("faster")}}function _(e){const t=o()();return e.map((e=>({...e,received_at:t,transaction:e.transaction})))}function j(e){return x[e]}function O(e){return E[e]}const U=(e,t=100)=>(0,r.Cl)(e,t),L=e=>["p50","p75"].find((t=>e.includes(t)));function I(e,t){let s=Number.MAX_SAFE_INTEGER,r=0;if(!e)return{maxValue:r,minValue:s,smoothedResults:void 0};const a=[];for(const o of e){const e=o.data,n=[],i=U(e.map((({name:e,value:t})=>[Number(e),t])));for(let e=0;e<i.length;e++){const t=i[e],a=t.y;if(n.push({name:t.x,value:a}),!isNaN(a)){const e=Math.round(a);s=Math.min(e,s),r=Math.max(e,r)}}a.push({seriesName:t||o.seriesName||"Current",data:n,lineStyle:o.lineStyle,color:o.color})}return{minValue:s,maxValue:r,smoothedResults:a}}},"./app/views/releases/detail/overview/chart/releaseChartControls.tsx":(e,t,s)=>{s.d(t,{B2:()=>p,tw:()=>u,cy:()=>h,ZP:()=>f}),s("../node_modules/react/index.js");var r=s("./app/components/charts/optionSelector.tsx"),a=s("./app/components/charts/styles.tsx"),o=s("./app/components/questionTooltip.tsx"),n=s("./app/constants/notAvailableMessages.tsx"),i=s("./app/locale.tsx"),l=s("./app/utils/discover/fields.tsx"),d=s("./app/utils/performance/vitals/constants.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let p,u;!function(e){e.SESSIONS="sessions",e.USERS="users",e.CRASH_FREE="crashFree",e.SESSION_DURATION="sessionDuration",e.EVENTS="events",e.FAILED_TRANSACTIONS="failedTransactions",e.COUNT_DURATION="countDuration",e.COUNT_VITAL="countVital"}(p||(p={})),function(e){e.ALL="all",e.CSP="csp",e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction"}(u||(u={}));const h=[p.FAILED_TRANSACTIONS,p.COUNT_DURATION,p.COUNT_VITAL],m=({summary:e,yAxis:t,onYAxisChange:s,organization:h,hasHealthData:m,hasDiscover:v,hasPerformance:g,eventType:f=u.ALL,onEventTypeChange:y,vitalType:x=l.Zl.LCP,onVitalTypeChange:E})=>{const A=m?void 0:n.Z.releaseHealth,b=v?void 0:n.Z.discover,R=g?void 0:n.Z.performance,C=[{value:p.SESSIONS,label:(0,i.t)("Session Count"),disabled:!m,tooltip:A},{value:p.SESSION_DURATION,label:(0,i.t)("Session Duration"),disabled:!m,tooltip:A},{value:p.USERS,label:(0,i.t)("User Count"),disabled:!m,tooltip:A},{value:p.CRASH_FREE,label:(0,i.t)("Crash Free Rate"),disabled:!m,tooltip:A},{value:p.FAILED_TRANSACTIONS,label:(0,i.t)("Failure Count"),disabled:!g,tooltip:R},{value:p.COUNT_DURATION,label:(0,i.t)("Slow Duration Count"),disabled:!g,tooltip:R},{value:p.COUNT_VITAL,label:(0,i.t)("Slow Vital Count"),disabled:!g,tooltip:R},{value:p.EVENTS,label:(0,i.t)("Event Count"),disabled:!v&&!g,tooltip:b}];return(0,c.BX)(a.xx,{children:[(0,c.BX)(a.m2,{children:[(0,c.BX)(a.OT,{children:[(()=>{switch(t){case p.USERS:return(0,i.t)("Total Active Users");case p.CRASH_FREE:return(0,i.t)("Average Rate");case p.SESSION_DURATION:return(0,i.t)("Median Duration");case p.EVENTS:return(0,i.t)("Total Events");case p.FAILED_TRANSACTIONS:return(0,i.t)("Failed Transactions");case p.COUNT_DURATION:return(0,i.t)("Count over %sms",h.apdexThreshold);case p.COUNT_VITAL:return x!==l.Zl.CLS?(0,i.t)("Count over %sms",d.r[x].poorThreshold):(0,i.t)("Count over %s",d.r[x].poorThreshold);case p.SESSIONS:default:return(0,i.t)("Total Sessions")}})(),(0,c.tZ)(o.Z,{position:"top",size:"sm",title:(0,i.t)("This value includes only the current release.")})]},"total-label"),(0,c.tZ)(a.uN,{children:e},"total-value")]}),(0,c.BX)(a.m2,{children:[(0,c.tZ)(S,{yAxis:t,eventType:f,onEventTypeChange:y,vitalType:x,onVitalTypeChange:E}),(0,c.tZ)(r.Z,{title:(0,i.t)("Display"),selected:t,options:C,onChange:s})]})]})};m.displayName="ReleaseChartControls";const v=[{value:u.ALL,label:(0,i.t)("All")},{value:u.CSP,label:(0,i.t)("CSP")},{value:u.DEFAULT,label:(0,i.t)("Default")},{value:u.ERROR,label:"Error"},{value:u.TRANSACTION,label:(0,i.t)("Transaction")}],g=[l.Zl.FP,l.Zl.FCP,l.Zl.LCP,l.Zl.FID,l.Zl.CLS].map((e=>({value:e,label:d.r[e].name})));function S({yAxis:e,eventType:t,onEventTypeChange:s,vitalType:a,onVitalTypeChange:o}){switch(e){case p.EVENTS:return(0,c.tZ)(r.Z,{title:(0,i.t)("Event Type"),selected:t,options:v,onChange:s});case p.COUNT_VITAL:return(0,c.tZ)(r.Z,{title:(0,i.t)("Vital"),selected:a,options:g,onChange:o});default:return null}}const f=m},"./app/views/releases/detail/overview/chart/utils.tsx":(e,t,s)=>{s.d(t,{ZS:()=>f,EJ:()=>y,gp:()=>x,j:()=>E,N0:()=>A,NA:()=>b,VY:()=>R,j2:()=>C,UF:()=>w,bi:()=>D,Yw:()=>T,A4:()=>P,Jb:()=>_}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("../node_modules/color/index.js"),a=s.n(r),o=s("./app/components/charts/utils.tsx"),n=s("./app/constants/chartPalette.tsx"),i=s("./app/locale.tsx"),l=s("./app/utils.tsx"),d=s("./app/utils/dates.tsx"),c=s("./app/utils/discover/eventView.tsx"),p=s("./app/utils/discover/fields.tsx"),u=s("./app/utils/formatters.tsx"),h=s("./app/utils/performance/vitals/constants.tsx"),m=s("./app/utils/tokenizeSearch.tsx"),v=s("./app/views/releases/utils/index.tsx"),g=s("./app/views/releases/utils/sessionTerm.tsx"),S=s("./app/views/releases/detail/overview/chart/releaseChartControls.tsx");function f(e,{highFidelity:t}={}){const s=(0,o.Nm)(e);return t&&s<360?"5m":s>o.$i?"6h":"1h"}function y(e,t,s,r=S.tw.ALL,a=p.Zl.LCP,o,n){const{projects:v,environments:g,datetime:f}=e,{start:y,end:x,period:E}=f,A=n?"release:".concat(t):"",b='to_other(release,"'.concat((0,l.d9)(t),'",others,current)'),R=(0,p.LY)(b),C={id:void 0,version:2,name:"".concat((0,i.t)("Release")," ").concat((0,u.ko)(t)),fields:["count()",b],orderby:R,range:E,environment:g,projects:v,start:y?(0,d.v5)(y):void 0,end:x?(0,d.v5)(x):void 0};switch(s){case S.B2.FAILED_TRANSACTIONS:const e=["ok","cancelled","unknown"].map((e=>"!transaction.status:".concat(e)));return c.ZP.fromSavedQuery({...C,query:new m.MY(["event.type:transaction",A,...e].filter(Boolean)).formatString()});case S.B2.COUNT_VITAL:case S.B2.COUNT_DURATION:const n=s===S.B2.COUNT_DURATION?"transaction.duration":a,i=s===S.B2.COUNT_DURATION?null==o?void 0:o.apdexThreshold:h.r[a].poorThreshold;return c.ZP.fromSavedQuery({...C,query:new m.MY(["event.type:transaction",A,i?"".concat(n,":>").concat(i):""].filter(Boolean)).formatString()});case S.B2.EVENTS:const l=r===S.tw.ALL?"":"event.type:".concat(r);return c.ZP.fromSavedQuery({...C,query:new m.MY([A,l].filter(Boolean)).formatString()});default:return c.ZP.fromSavedQuery({...C,fields:["issue","title","count()","count_unique(user)","project"],query:new m.MY(["release:".concat(t),"!event.type:transaction"]).formatString(),orderby:"-count"})}}function x(e){const t=e.charts.getColorPalette(14);return{healthy:{seriesName:g.U1.healthy,data:[],color:e.green300,areaStyle:{color:e.green300,opacity:1},lineStyle:{opacity:0,width:.4}},errored:{seriesName:g.U1.errored,data:[],color:t[12],areaStyle:{color:t[12],opacity:1},lineStyle:{opacity:0,width:.4}},abnormal:{seriesName:g.U1.abnormal,data:[],color:t[15],areaStyle:{color:t[15],opacity:1},lineStyle:{opacity:0,width:.4}},crashed:{seriesName:g.U1.crashed,data:[],color:e.red300,areaStyle:{color:e.red300,opacity:1},lineStyle:{opacity:0,width:.4}}}}function E(e){const t=e.charts.getColorPalette(14);return{healthy:{seriesName:g.U1.otherHealthy,data:[],color:e.green300,areaStyle:{color:e.green300,opacity:.3},lineStyle:{opacity:0,width:.4}},errored:{seriesName:g.U1.otherErrored,data:[],color:t[12],areaStyle:{color:t[12],opacity:.3},lineStyle:{opacity:0,width:.4}},abnormal:{seriesName:g.U1.otherAbnormal,data:[],color:t[15],areaStyle:{color:t[15],opacity:.3},lineStyle:{opacity:0,width:.4}},crashed:{seriesName:g.U1.otherCrashed,data:[],color:e.red300,areaStyle:{color:e.red300,opacity:.3},lineStyle:{opacity:0,width:.4}},...N()}}function A(){return{users:{seriesName:g.U1["crash-free-users"],data:[],color:n.Z[1][0],lineStyle:{color:n.Z[1][0]}},sessions:{seriesName:g.U1["crash-free-sessions"],data:[],color:n.Z[1][1],lineStyle:{color:n.Z[1][1]}}}}function b(){return{...N(),users:{seriesName:g.U1.otherCrashFreeUsers,data:[],z:0,color:a()(n.Z[1][0]).lighten(.9).alpha(.9).string(),lineStyle:{color:n.Z[1][0],opacity:.1}},sessions:{seriesName:g.U1.otherCrashFreeSessions,data:[],z:0,color:a()(n.Z[1][1]).lighten(.5).alpha(.9).string(),lineStyle:{color:n.Z[1][1],opacity:.3}}}}function R(){return{0:{seriesName:g.U1.duration,data:[],color:n.Z[0][0],areaStyle:{color:n.Z[0][0],opacity:1},lineStyle:{opacity:0,width:.4}}}}function C(){return{0:{seriesName:g.U1.otherReleases,data:[],z:0,color:a()(n.Z[0][0]).alpha(.4).string(),areaStyle:{color:n.Z[0][0],opacity:.3},lineStyle:{opacity:0,width:.4}}}}function N(){return{otherReleases:{seriesName:g.U1.otherReleases,data:[],color:a()(n.Z[0][0]).alpha(.4).string()}}}function w(e){return[g.U1.otherCrashed,g.U1.otherAbnormal,g.U1.otherErrored,g.U1.otherHealthy,g.U1.otherCrashFreeUsers,g.U1.otherCrashFreeSessions].includes(e.seriesName)}const Z=[g.U1.healthy,g.U1.errored,g.U1.crashed,g.U1.abnormal,g.U1.otherHealthy,g.U1.otherErrored,g.U1.otherCrashed,g.U1.otherAbnormal,g.U1.duration,g.U1["crash-free-sessions"],g.U1["crash-free-users"],g.U1.otherCrashFreeSessions,g.U1.otherCrashFreeUsers,g.U1.otherReleases];function D(e,t){return Z.indexOf(e.seriesName)-Z.indexOf(t.seriesName)}function T({response:e,field:t}){return e.groups.reduce(((e,s)=>e+s.totals[t]),0)}function P({response:e,field:t,groupBy:s,chartData:r,valueFormatter:a}){return e.intervals.forEach(((o,n)=>{e.groups.forEach((e=>{const i=e.series[t][n];r[null===s?0:e.by[s]].data.push({name:o,value:"function"==typeof a?a(i):i})}))})),r}function _({response:e,field:t,entity:s,chartData:r}){return e.intervals.forEach(((a,o)=>{var n,i;const d=e.groups.reduce(((e,s)=>e+s.series[t][o]),0),c=null!==(n=null===(i=e.groups.find((e=>"crashed"===e.by["session.status"])))||void 0===i?void 0:i.series[t][o])&&void 0!==n?n:0,p=(0,l.aQ)(c,d);r[s].data.push({name:a,value:0===d?null:(0,v.Mf)(100-p)})})),r}},"./app/views/releases/utils/sessionTerm.tsx":(e,t,s)=>{s.d(t,{_k:()=>a,U1:()=>o,w0:()=>n,RE:()=>d});var r=s("./app/locale.tsx");let a;!function(e){e.CRASHES="crashes",e.CRASHED="crashed",e.ABNORMAL="abnormal",e.CRASH_FREE="crashFree",e.CRASH_FREE_USERS="crash-free-users",e.CRASH_FREE_SESSIONS="crash-free-sessions",e.HEALTHY="healthy",e.ERRORED="errored",e.UNHANDLED="unhandled",e.STABILITY="stability",e.ADOPTION="adoption"}(a||(a={}));const o={[a.CRASHES]:(0,r.t)("Crashes"),[a.CRASHED]:(0,r.t)("Crashed"),[a.ABNORMAL]:(0,r.t)("Abnormal"),[a.CRASH_FREE_USERS]:(0,r.t)("Crash Free Users"),[a.CRASH_FREE_SESSIONS]:(0,r.t)("Crash Free Sessions"),[a.HEALTHY]:(0,r.t)("Healthy"),[a.ERRORED]:(0,r.t)("Errored"),[a.UNHANDLED]:(0,r.t)("Unhandled"),[a.ADOPTION]:(0,r.t)("Adoption"),duration:(0,r.t)("Session Duration"),otherCrashed:(0,r.t)("Other Crashed"),otherAbnormal:(0,r.t)("Other Abnormal"),otherErrored:(0,r.t)("Other Errored"),otherHealthy:(0,r.t)("Other Healthy"),otherCrashFreeUsers:(0,r.t)("Other Crash Free Users"),otherCrashFreeSessions:(0,r.t)("Other Crash Free Sessions"),otherReleases:(0,r.t)("Other Releases")},n={[a.CRASHES]:(0,r.t)("Number of sessions with a crashed state"),[a.CRASH_FREE]:(0,r.t)("Percentage of sessions/users who did not experience a crash."),[a.CRASH_FREE_USERS]:(0,r.t)("Percentage of unique users with non-crashed sessions"),[a.CRASH_FREE_SESSIONS]:(0,r.t)("Percentage of non-crashed sessions"),[a.STABILITY]:(0,r.t)("The percentage of crash free sessions."),[a.ADOPTION]:(0,r.t)("Adoption compares the sessions or users of a release with the total sessions or users for this project in the last 24 hours.")},i={[a.CRASHED]:(0,r.t)("The process was terminated due to an unhandled exception or a request to the server that ended with an error"),[a.CRASH_FREE_SESSIONS]:(0,r.t)("Percentage of non-crashed sessions"),[a.ABNORMAL]:(0,r.t)("An unknown session exit. Like due to loss of power or killed by the operating system"),[a.HEALTHY]:(0,r.t)("A session without errors"),[a.ERRORED]:(0,r.t)("A session with errors"),[a.UNHANDLED]:(0,r.t)("Not handled by user code")},l={crashed:(0,r.t)("The application crashed with a hard crash (eg. segfault)"),[a.ABNORMAL]:(0,r.t)("The application did not properly end the session, for example, due to force-quit"),[a.HEALTHY]:(0,r.t)("The application exited normally and did not observe any errors"),[a.ERRORED]:(0,r.t)("The application exited normally but observed error events while running"),[a.UNHANDLED]:(0,r.t)("The application crashed with a hard crash")};function d(e,t){return function(e){switch("react-native"===e||"java-spring"===e||"apple-ios"===e||"dotnet-aspnetcore"===e?e:null==e?void 0:e.split("-")[0]){case"dotnet":case"java":return{...n,...i};case"java-spring":case"dotnet-aspnetcore":return{...n,...i,[a.CRASHES]:(0,r.t)("A request that resulted in an unhandled exception and hence a Server Error response")};case"android":case"cordova":case"react-native":case"flutter":return{...n,...i,[a.CRASHED]:(0,r.t)("An unhandled exception that resulted in the application crashing")};case"apple":return{...n,...i,[a.CRASHED]:(0,r.t)("An error that resulted in the application crashing")};case"node":case"javascript":return{...n,[a.CRASHED]:(0,r.t)("During the session an unhandled global error/promise rejection occurred."),[a.ABNORMAL]:(0,r.t)("Non applicable for Javascript."),[a.HEALTHY]:(0,r.t)("No errors were captured during session life-time."),[a.ERRORED]:(0,r.t)("During the session at least one handled error occurred."),[a.UNHANDLED]:"An error was captured by the global 'onerror' or 'onunhandledrejection' handler."};case"apple-ios":case"minidump":case"native":return{...n,...l};case"rust":return{...n,...l,[a.CRASHED]:(0,r.t)("The application had an unrecoverable error (a panic)")};default:return{...n,[a.CRASHED]:(0,r.t)("Number of users who experienced an unhandled error"),[a.ABNORMAL]:(0,r.t)("An unknown session exit"),[a.HEALTHY]:i.healthy,[a.ERRORED]:i.errored,[a.UNHANDLED]:i.unhandled}}}(t)[e]}}}]);
//# sourceMappingURL=../sourcemaps/app_components_charts_eventsChart_tsx-app_components_charts_stackedAreaChart_tsx-app_componen-29949a.1637f5df79942804bd3d3da2bc2bb9ba.js.map