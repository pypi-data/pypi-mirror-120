"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_projectPerformance_index_tsx"],{"./app/utils/routeTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});const o=function(e,t,s=!0,o){const n="".concat(e," - ").concat(t),r=o?"".concat(n," - ").concat(o):n;return s?"".concat(r," - Sentry"):r}},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>a}),s("../node_modules/react/index.js");var o=s("../node_modules/react-document-title/index.js"),n=s.n(o),r=s("./app/components/asyncComponent.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends r.Z{getTitle(){return""}render(){const e=this.getTitle();return(0,i.tZ)(n(),{title:"".concat(e?"".concat(e," - "):"","Sentry"),children:this.renderComponent()})}}a.displayName="AsyncView"},"./app/views/settings/components/forms/formPanel.tsx":(e,t,s)=>{s.d(t,{Z:()=>p});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),i=s("./app/components/panels/index.tsx"),a=s("./app/icons/index.tsx"),l=s("./app/utils/sanitizeQuerySelector.tsx"),d=s("./app/views/settings/components/forms/fieldFromConfig.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class p extends r.Component{constructor(...e){super(...e),(0,o.Z)(this,"state",{collapsed:!1}),(0,o.Z)(this,"handleToggleEvents",(()=>{const{collapsed:e}=this.state;this.setState({collapsed:!e})}))}render(){const{title:e,fields:t,access:s,disabled:o,additionalFieldProps:n,renderFooter:r,renderHeader:p,collapsible:h,...u}=this.props,{collapsed:f}=this.state;return(0,c.BX)(i.s_,{id:"string"==typeof e?(0,l.m)(e):void 0,children:[e&&(0,c.BX)(i.V9,{children:[e,h&&(0,c.tZ)(m,{onClick:this.handleToggleEvents,children:(0,c.tZ)(a.g6,{direction:f?"down":"up",size:"xs"})})]}),!f&&(0,c.BX)(i.N,{children:["function"==typeof p&&p({title:e,fields:t}),t.map((e=>{if("function"==typeof e)return e();const{defaultValue:t,...r}=e;return!0===o&&(r.disabled=!0,r.disabledReason=void 0),(0,c.tZ)(d.Z,{access:s,disabled:o,...u,...n,field:r,highlighted:this.props.highlighted==="#".concat(e.name)},e.name)})),"function"==typeof r&&r({title:e,fields:t})]})]})}}p.displayName="FormPanel",(0,o.Z)(p,"defaultProps",{additionalFieldProps:{}});const m=(0,n.Z)("span",{target:"efsz5z60"})({name:"e0dnmk",styles:"cursor:pointer"})},"./app/views/settings/components/forms/jsonForm.tsx":(e,t,s)=>{s.d(t,{Z:()=>u});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),r=s("../node_modules/react-router/es/index.js"),i=s("../node_modules/@sentry/minimal/esm/index.js"),a=s("../node_modules/scroll-to-element/index.js"),l=s.n(a),d=s("./app/utils.tsx"),c=s("./app/utils/sanitizeQuerySelector.tsx"),p=s("./app/views/settings/components/forms/formPanel.tsx"),m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class h extends n.Component{constructor(...e){var t;super(...e),(0,o.Z)(this,"state",{highlighted:null===(t=this.props.location)||void 0===t?void 0:t.hash})}componentDidMount(){this.scrollToHash()}UNSAFE_componentWillReceiveProps(e){if(this.props.location.hash!==e.location.hash){const t=e.location.hash;this.scrollToHash(t),this.setState({highlighted:t})}}scrollToHash(e){var t;const s=e||(null===(t=this.props.location)||void 0===t?void 0:t.hash);if(s)try{l()((0,c.m)(decodeURIComponent(s)),{align:"middle",offset:-100})}catch(e){i.Tb(e)}}shouldDisplayForm(e){const t=e.filter((e=>"function"!=typeof e&&(0,d.ri)(null==e?void 0:e.visible)));if(e.length===t.length){const{additionalFieldProps:e,...s}=this.props;return!t.every((t=>"function"==typeof t.visible?!t.visible({...s,...e}):!t.visible))}return!0}renderForm({fields:e,formPanelProps:t,title:s}){return this.shouldDisplayForm(e)||null!=t&&t.renderFooter||null!=t&&t.renderHeader?(0,m.tZ)(p.Z,{title:s,fields:e,...t}):null}render(){const{access:e,collapsible:t,fields:s,title:o,forms:r,disabled:i,features:a,additionalFieldProps:l,renderFooter:d,renderHeader:c,location:p,...h}=this.props,u={access:e,disabled:i,features:a,additionalFieldProps:l,renderFooter:d,renderHeader:c,highlighted:this.state.highlighted,collapsible:t};return(0,m.BX)("div",{...h,children:[void 0!==r&&r.map(((e,t)=>(0,m.tZ)(n.Fragment,{children:this.renderForm({formPanelProps:u,...e})},t))),void 0===r&&void 0!==s&&this.renderForm({fields:s,formPanelProps:u,title:o})]})}}h.displayName="JsonForm";const u=(0,r.withRouter)(h)},"./app/views/settings/project/permissionAlert.tsx":(e,t,s)=>{s.d(t,{Z:()=>d}),s("../node_modules/react/index.js");var o=s("./app/components/acl/access.tsx"),n=s("./app/components/alert.tsx"),r=s("./app/icons/index.tsx"),i=s("./app/locale.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=({access:e=["project:write"],...t})=>(0,a.tZ)(o.Z,{access:e,children:({hasAccess:e})=>!e&&(0,a.tZ)(n.Z,{type:"warning",icon:(0,a.tZ)(r.FC,{size:"xs"}),...t,children:(0,i.t)("These settings can only be edited by users with the organization owner, manager, or admin role.")})});l.displayName="PermissionAlert";const d=l},"./app/views/settings/projectPerformance/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>F});var o=s("../node_modules/react/index.js"),n=s("./app/components/acl/feature.tsx"),r=s("./app/utils/withOrganization.tsx"),i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),l=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./app/components/button.tsx")),d=s("./app/components/links/externalLink.tsx"),c=s("./app/components/loadingIndicator.tsx"),p=s("./app/components/panels/index.tsx"),m=s("./app/locale.tsx"),h=s("./app/utils/analytics.tsx"),u=s("./app/utils/routeTitle.tsx"),f=s("./app/views/asyncView.tsx"),g=s("./app/views/settings/components/forms/form.tsx"),x=s("./app/views/settings/components/forms/jsonForm.tsx"),y=s("./app/views/settings/components/settingsPageHeader.tsx"),j=s("./app/views/settings/project/permissionAlert.tsx"),Z=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class v extends f.Z{constructor(...e){super(...e),(0,i.Z)(this,"handleDelete",(()=>{const{orgId:e,projectId:t}=this.props.params,{organization:s}=this.props;this.setState({loading:!0}),this.api.request("/projects/".concat(e,"/").concat(t,"/transaction-threshold/configure/"),{method:"DELETE",success:()=>{(0,h.ec)({eventKey:"performance_views.project_transaction_threshold.clear",eventName:"Project Transaction Threshold: Cleared",organization_id:s.id})},complete:()=>this.fetchData()})}))}getTitle(){const{projectId:e}=this.props.params;return(0,u.Z)((0,m.t)("Performance"),e,!1)}getEndpoints(){const{params:e}=this.props,{orgId:t,projectId:s}=e;return[["threshold","/projects/".concat(t,"/").concat(s,"/transaction-threshold/configure/")]]}getEmptyMessage(){return(0,m.t)("There is no threshold set for this project.")}renderLoading(){return(0,Z.tZ)(w,{children:(0,Z.tZ)(c.Z,{})})}get formFields(){return[{name:"metric",type:"select",label:(0,m.t)("Calculation Method"),choices:[["duration",(0,m.t)("Transaction Duration")],["lcp",(0,m.t)("Largest Contentful Paint")]],help:(0,m._N)("This determines which duration is used to set your thresholds. By default, we use transaction duration which measures the entire length of the transaction. You can also set this to use a [link:Web Vital].",{link:(0,Z.tZ)(d.Z,{href:"https://docs.sentry.io/product/performance/web-vitals/"})})},{name:"threshold",type:"string",label:(0,m.t)("Response Time Threshold (ms)"),placeholder:(0,m.t)("300"),help:(0,m._N)("Define what a satisfactory response time is based on the calculation method above. This will affect how your [link1:Apdex] and [link2:User Misery] thresholds are calculated. For example, misery will be 4x your satisfactory response time.",{link1:(0,Z.tZ)(d.Z,{href:"https://docs.sentry.io/performance-monitoring/performance/metrics/#apdex"}),link2:(0,Z.tZ)(d.Z,{href:"https://docs.sentry.io/product/performance/metrics/#user-misery"})})}]}get initialData(){const{threshold:e}=this.state;return{threshold:e.threshold,metric:e.metric}}renderBody(){const{organization:e,project:t}=this.props,s="/projects/".concat(e.slug,"/").concat(t.slug,"/transaction-threshold/configure/");return(0,Z.BX)(o.Fragment,{children:[(0,Z.tZ)(y.Z,{title:(0,m.t)("Performance")}),(0,Z.tZ)(j.Z,{}),(0,Z.tZ)(g.Z,{saveOnBlur:!0,allowUndo:!0,initialData:this.initialData,apiMethod:"POST",apiEndpoint:s,onSubmitSuccess:t=>{const s=this.initialData,o=s.metric===t.metric;(0,h.ec)({eventKey:"performance_views.project_transaction_threshold.change",eventName:"Project Transaction Threshold: Changed",organization_id:e.id,from:o?s.threshold:s.metric,to:o?t.threshold:t.metric,key:o?"threshold":"metric"}),this.setState({threshold:t})},children:(0,Z.tZ)(x.Z,{title:(0,m.t)("General"),fields:this.formFields,renderFooter:()=>(0,Z.tZ)(b,{children:(0,Z.tZ)(l.ZP,{type:"button",onClick:()=>this.handleDelete(),children:(0,m.t)("Reset All")})})})})]})}}const b=(0,a.Z)(p.Lv,{target:"e1ynt7f21"})({name:"1f60if8",styles:"justify-content:flex-end"}),w=(0,a.Z)("div",{target:"e1ynt7f20"})({name:"lj2qtm",styles:"margin:18px 18px 0"}),_=v;class P extends o.Component{render(){return(0,Z.tZ)(n.Z,{features:["performance-view"],children:(0,Z.tZ)(_,{...this.props})})}}P.displayName="ProjectPerformanceContainer";const F=(0,r.Z)(P)}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectPerformance_index_tsx.5653c2cb2a1ddbfc8cdf4635cb7221cc.js.map