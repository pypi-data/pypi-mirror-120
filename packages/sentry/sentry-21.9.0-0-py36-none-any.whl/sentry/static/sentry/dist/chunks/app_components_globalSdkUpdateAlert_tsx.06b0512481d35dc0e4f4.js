"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_components_globalSdkUpdateAlert_tsx"],{"./app/components/globalSdkUpdateAlert.tsx":(t,e,s)=>{s.d(e,{Z:()=>j});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),a=s("./app/actionCreators/prompts.tsx"),r=s("./app/actions/sidebarPanelActions.tsx"),p=s("./app/components/alert.tsx"),d=s("./app/constants/globalSelectionHeader.tsx"),l=s("./app/icons/index.tsx"),c=s("./app/locale.tsx"),u=s("./app/styles/space.tsx"),m=s("./app/utils/analytics.tsx"),h=s("./app/utils/promptIsDismissed.tsx"),g=s("./app/utils/withApi.tsx"),x=s("./app/utils/withGlobalSelection.tsx"),k=s("./app/utils/withOrganization.tsx"),z=s("./app/utils/withSdkUpdates.tsx"),b=s("./app/components/sidebar/types.tsx"),v=s("./app/components/button.tsx"),Z=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class y extends n.Component{constructor(...t){super(...t),(0,i.Z)(this,"state",{isDismissed:null}),(0,i.Z)(this,"snoozePrompt",(()=>{const{api:t,organization:e}=this.props;(0,a.Xt)(t,{organizationId:e.id,feature:"sdk_updates",status:"snoozed"}),this.setState({isDismissed:!0}),(({organization:t})=>{(0,m.ec)({eventKey:"sdk_updates.snoozed",eventName:"SDK Updates: Snoozed",organization_id:t.id})})({organization:this.props.organization})}))}componentDidMount(){this.promptsCheck(),(({organization:t})=>{(0,m.ec)({eventKey:"sdk_updates.seen",eventName:"SDK Updates: Seen",organization_id:t.id})})({organization:this.props.organization})}async promptsCheck(){const{api:t,organization:e}=this.props,s=await(0,a.vu)(t,{organizationId:e.id,feature:"sdk_updates"});this.setState({isDismissed:(0,h.I)(s)})}render(){const{api:t,selection:e,sdkUpdates:s,organization:i,Wrapper:o,...n}=this.props,{isDismissed:a}=this.state;if(!s||null===a||a)return null;if(0===(u=0===(null==e?void 0:e.projects.length)||(null==e?void 0:e.projects)===[d.mP]?s:s.filter((t=>{var s;return null==e||null===(s=e.projects)||void 0===s?void 0:s.includes(parseInt(t.projectId,10))})),u.reduce(((t,e)=>[...t,...e.suggestions]),[])).length)return null;var u;const h=(0,Z.tZ)(v.ZP,{priority:"link",onClick:()=>{r.Z.activatePanel(b.z.Broadcasts),(({organization:t})=>{(0,m.ec)({eventKey:"sdk_updates.clicked",eventName:"SDK Updates: Clicked",organization_id:t.id})})({organization:i})},children:(0,c.t)("Review updates")}),g=(0,Z.tZ)(p.Z,{type:"info",icon:(0,Z.tZ)(l.XK,{}),...n,children:(0,Z.BX)(w,{children:[(0,c.t)("You have outdated SDKs in your projects. Update them for important fixes and features."),(0,Z.BX)(f,{children:[(0,Z.tZ)(v.ZP,{priority:"link",title:(0,c.t)("Dismiss for the next two weeks"),onClick:this.snoozePrompt,children:(0,c.t)("Remind me later")}),"|",h]})]})});return o?(0,Z.tZ)(o,{children:g}):g}}y.displayName="InnerGlobalSdkSuggestions";const w=(0,o.Z)("div",{target:"e13jrk6t1"})("display:flex;flex-wrap:wrap;@media (min-width: ",(t=>t.theme.breakpoints[0]),"){justify-content:space-between;}"),f=(0,o.Z)("div",{target:"e13jrk6t0"})("display:grid;grid-template-columns:repeat(3, max-content);grid-gap:",(0,u.Z)(1),";"),j=(0,k.Z)((0,z.Z)((0,x.Z)((0,g.Z)(y))))}}]);
//# sourceMappingURL=../sourcemaps/app_components_globalSdkUpdateAlert_tsx.04b1468fc9aac16d80dc7be20d08763d.js.map