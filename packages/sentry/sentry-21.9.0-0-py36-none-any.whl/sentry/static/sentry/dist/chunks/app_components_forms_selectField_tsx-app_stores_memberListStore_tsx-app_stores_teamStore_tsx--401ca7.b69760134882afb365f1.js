"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_components_forms_selectField_tsx-app_stores_memberListStore_tsx-app_stores_teamStore_tsx--401ca7"],{"./app/actions/projectActions.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var r=s("../node_modules/reflux/src/index.js");const i=s.n(r)().createActions(["addTeam","addTeamError","addTeamSuccess","changeSlug","createSuccess","loadProjects","loadStats","loadStatsError","loadStatsForProjectSuccess","loadStatsSuccess","removeProject","removeProjectError","removeProjectSuccess","removeTeam","removeTeamError","removeTeamSuccess","reset","setActive","update","updateError","updateSuccess"])},"./app/actions/teamActions.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var r=s("../node_modules/reflux/src/index.js");const i=s.n(r)().createActions(["createTeam","createTeamError","createTeamSuccess","fetchAll","fetchAllError","fetchAllSuccess","fetchDetails","fetchDetailsError","fetchDetailsSuccess","loadTeams","removeTeam","removeTeamError","removeTeamSuccess","update","updateError","updateSuccess"])},"./app/components/forms/form.tsx":(e,t,s)=>{s.d(t,{G:()=>p,Z:()=>g});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/react/index.js"),a=s("../node_modules/lodash/isEqual.js"),n=s.n(a),l=s("./app/components/button.tsx"),c=s("./app/components/forms/formContext.tsx"),d=s("./app/components/forms/state.tsx"),u=s("./app/locale.tsx"),m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class h extends o.Component{constructor(e,t){super(e,t),(0,r.Z)(this,"onSubmit",(e=>{if(e.preventDefault(),!this.props.onSubmit)throw new Error("onSubmit is a required prop");this.props.onSubmit(this.state.data,this.onSubmitSuccess,this.onSubmitError)})),(0,r.Z)(this,"onSubmitSuccess",(e=>{this.setState({state:d.Z.READY,errors:{},initialData:{...this.state.data,...e||{}}}),this.props.onSubmitSuccess&&this.props.onSubmitSuccess(e)})),(0,r.Z)(this,"onSubmitError",(e=>{this.setState({state:d.Z.ERROR,errors:e.responseJSON}),this.props.resetOnError&&this.setState({initialData:{}}),this.props.onSubmitError&&this.props.onSubmitError(e)})),(0,r.Z)(this,"onFieldChange",((e,t)=>{this.setState((s=>({data:{...s.data,[e]:t}})))})),this.state={data:{...this.props.initialData},errors:{},initialData:{...this.props.initialData},state:d.Z.READY}}getContext(){const{data:e,errors:t}=this.state;return{form:{data:e,errors:t,onFieldChange:this.onFieldChange}}}render(){const e=this.state.state===d.Z.SAVING,{initialData:t,data:s}=this.state,{errorMessage:r,hideErrors:i,requireChanges:o}=this.props,a=!o||Object.keys(s).length&&!n()(s,t),h=this.state.state===d.Z.ERROR,g=this.state.errors&&this.state.errors.non_field_errors;return(0,m.tZ)(c.Z.Provider,{value:this.getContext(),children:(0,m.BX)(p,{onSubmit:this.onSubmit,className:this.props.className,children:[h&&!i&&(0,m.tZ)("div",{className:"alert alert-error alert-block",children:g?(0,m.BX)("div",{children:[(0,m.tZ)("p",{children:(0,u.t)("Unable to save your changes. Please correct the following errors try again.")}),(0,m.tZ)("ul",{children:g.map(((e,t)=>(0,m.tZ)("li",{children:e},t)))})]}):r}),this.props.children,(0,m.BX)("div",{className:this.props.footerClass,style:{marginTop:25},children:[(0,m.tZ)(l.ZP,{priority:"primary",disabled:e||this.props.submitDisabled||!a,type:"submit",children:this.props.submitLabel}),this.props.onCancel&&(0,m.tZ)(l.ZP,{type:"button",disabled:e,onClick:this.props.onCancel,style:{marginLeft:5},children:this.props.cancelLabel}),this.props.extraButton]})]})})}}h.displayName="Form",(0,r.Z)(h,"defaultProps",{cancelLabel:(0,u.t)("Cancel"),submitLabel:(0,u.t)("Save Changes"),submitDisabled:!1,footerClass:"form-actions align-right",className:"form-stacked",requireChanges:!1,hideErrors:!1,resetOnError:!1,errorMessage:(0,u.t)("Unable to save your changes. Please ensure all fields are valid and try again.")});const p=(0,i.Z)("form",{target:"el3x56x0"})(""),g=h},"./app/components/forms/formContext.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});const r=(0,s("../node_modules/react/index.js").createContext)({})},"./app/components/forms/formField.tsx":(e,t,s)=>{s.d(t,{Z:()=>m});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/react/index.js"),a=s("../node_modules/classnames/index.js"),n=s.n(a),l=s("./app/components/forms/formContext.tsx"),c=s("./app/components/questionTooltip.tsx"),d=s("./app/utils.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class m extends o.PureComponent{constructor(e,t){super(e,t),(0,r.Z)(this,"onChange",(e=>{const t=e.target.value;this.setValue(t)})),(0,r.Z)(this,"setValue",(e=>{const t=(this.context||{}).form;this.setState({value:e},(()=>{var e,s;const r=this.coerceValue(this.state.value);null===(e=(s=this.props).onChange)||void 0===e||e.call(s,r),null==t||t.onFieldChange(this.props.name,r)}))})),this.state={error:null,value:this.getValue(e,t)}}componentDidMount(){}UNSAFE_componentWillReceiveProps(e,t){const s=this.getError(e,t);if(s!==this.state.error&&this.setState({error:s}),this.props.value!==e.value||(0,d.ri)(t.form)){const s=this.getValue(e,t);s!==this.state.value&&this.setValue(s)}}componentWillUnmount(){}getValue(e,t){const s=(t||this.context||{}).form;return e=e||this.props,(0,d.ri)(e.value)?e.value:s&&s.data.hasOwnProperty(e.name)?(0,d.ri)(s.data[e.name])?s.data[e.name]:"":(0,d.ri)(e.defaultValue)?e.defaultValue:""}getError(e,t){const s=(t||this.context||{}).form;return e=e||this.props,(0,d.ri)(e.error)?e.error:s&&s.errors[e.name]||null}getId(){return"id-".concat(this.props.name)}coerceValue(e){return e}getField(){throw new Error("Must be implemented by child.")}getClassName(){throw new Error("Must be implemented by child.")}getFinalClassNames(){const{className:e,required:t}=this.props,{error:s}=this.state;return n()(e,this.getClassName(),{"has-error":!!s,required:t})}renderDisabledReason(){const{disabled:e,disabledReason:t}=this.props;return e&&t?(0,u.tZ)(c.Z,{title:t,position:"top",size:"sm"}):null}render(){const{label:e,hideErrorMessage:t,help:s,style:r}=this.props,{error:i}=this.state,o=this.getFinalClassNames(),a=i&&!t;return(0,u.tZ)("div",{style:r,className:o,children:(0,u.BX)("div",{className:"controls",children:[e&&(0,u.tZ)("label",{htmlFor:this.getId(),className:"control-label",children:e}),this.getField(),this.renderDisabledReason(),(0,d.ri)(s)&&(0,u.tZ)("p",{className:"help-block",children:s}),a&&(0,u.tZ)(h,{children:i})]})})}}m.displayName="FormField",(0,r.Z)(m,"defaultProps",{hideErrorMessage:!1,disabled:!1,required:!1}),(0,r.Z)(m,"contextType",l.Z);const h=(0,i.Z)("p",{target:"ewj2mzu0"})("font-size:",(e=>e.theme.fontSizeMedium),";color:",(e=>e.theme.red300),";")},"./app/components/forms/selectField.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./app/utils.tsx")),a=s("./app/components/forms/form.tsx"),n=s("./app/components/forms/formField.tsx"),l=s("./app/components/forms/selectControl.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class d extends n.Z{constructor(...e){super(...e),(0,r.Z)(this,"onChange",(e=>{this.setValue(e)}))}UNSAFE_componentWillReceiveProps(e,t){const s=this.getError(e,t);if(s!==this.state.error&&this.setState({error:s}),this.props.value!==e.value||(0,o.ri)(t.form)){const s=this.getValue(e,t),r=this.coerceValue(this.state.value);s!==r&&!!s!=!!r&&this.setValue(s)}}getValue(e,t){const s=(t||this.context||{}).form;e=e||this.props;const r=this.isMultiple(e)?[]:"";return(0,o.ri)(e.value)?e.value:s&&s.data.hasOwnProperty(e.name)?(0,o.ri)(s.data[e.name])?s.data[e.name]:r:(0,o.ri)(e.defaultValue)?e.defaultValue:r}coerceValue(e){return e?this.isMultiple()?e.map((e=>e.value)):e.hasOwnProperty("value")?e.value:e:""}isMultiple(e){return(e=e||this.props).multi||e.multiple}getClassName(){return""}getField(){const{options:e,clearable:t,creatable:s,choices:r,placeholder:i,disabled:o,name:a,isLoading:n}=this.props;return(0,c.tZ)(u,{creatable:s,id:this.getId(),choices:r,options:e,placeholder:i,disabled:o,value:this.state.value,onChange:this.onChange,clearable:t,multiple:this.isMultiple(),name:a,isLoading:n})}}(0,r.Z)(d,"defaultProps",{...n.Z.defaultProps,clearable:!0,multiple:!1});const u=(0,i.Z)(l.Z,{target:"e1a1h86v0"})(a.G," &,.form-stacked &{margin-bottom:15px;.control-group &{margin-bottom:0;}}")},"./app/stores/memberListStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});var r=s("../node_modules/reflux/src/index.js");const i={loaded:!1,state:[],init(){this.state=[],this.loaded=!1},loadInitialData(e){this.state=e,this.loaded=!0,this.trigger(this.state,"initial")},isLoaded(){return this.loaded},getById(e){if(this.state){e=""+e;for(let t=0;t<this.state.length;t++)if(this.state[t].id===e)return this.state[t]}},getByEmail(e){if(this.state){e=e.toLowerCase();for(let t=0;t<this.state.length;t++)if(this.state[t].email.toLowerCase()===e)return this.state[t]}},getAll(){return this.state}},o=s.n(r)().createStore(i)},"./app/stores/projectsStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>l}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("../node_modules/reflux/src/index.js"),i=s.n(r),o=s("./app/actions/projectActions.tsx"),a=s("./app/actions/teamActions.tsx");const n={itemsById:{},loading:!0,init(){this.reset(),this.listenTo(o.Z.addTeamSuccess,this.onAddTeam),this.listenTo(o.Z.changeSlug,this.onChangeSlug),this.listenTo(o.Z.createSuccess,this.onCreateSuccess),this.listenTo(o.Z.loadProjects,this.loadInitialData),this.listenTo(o.Z.loadStatsSuccess,this.onStatsLoadSuccess),this.listenTo(o.Z.removeTeamSuccess,this.onRemoveTeam),this.listenTo(o.Z.reset,this.reset),this.listenTo(o.Z.updateSuccess,this.onUpdateSuccess),this.listenTo(a.Z.removeTeamSuccess,this.onDeleteTeam)},reset(){this.itemsById={},this.loading=!0},loadInitialData(e){this.itemsById=e.reduce(((e,t)=>(e[t.id]=t,e)),{}),this.loading=!1,this.trigger(new Set(Object.keys(this.itemsById)))},onChangeSlug(e,t){const s=this.getBySlug(e);if(!s)return;const r={...s,slug:t};this.itemsById={...this.itemsById,[r.id]:r},this.trigger(new Set([s.id]))},onCreateSuccess(e){this.itemsById={...this.itemsById,[e.id]:e},this.trigger(new Set([e.id]))},onUpdateSuccess(e){const t=this.getById(e.id);if(!t)return;const s=Object.assign({},t,e);this.itemsById={...this.itemsById,[t.id]:s},this.trigger(new Set([e.id]))},onStatsLoadSuccess(e){const t=[];Object.entries(e||{}).forEach((([e,s])=>{e in this.itemsById&&(this.itemsById[e].stats=s,t.push(e))})),this.trigger(new Set(t))},onDeleteTeam(e){const t=this.getWithTeam(e).map((t=>(this.removeTeamFromProject(e,t),t.id)));this.trigger(new Set([t]))},onRemoveTeam(e,t){const s=this.getBySlug(t);s&&(this.removeTeamFromProject(e,s),this.trigger(new Set([s.id])))},onAddTeam(e,t){const s=this.getBySlug(t);s&&(this.itemsById={...this.itemsById,[s.id]:{...s,teams:[...s.teams,e]}},this.trigger(new Set([s.id])))},removeTeamFromProject(e,t){const s=t.teams.filter((({slug:t})=>t!==e));this.itemsById={...this.itemsById,[t.id]:{...t,teams:s}}},getWithTeam(e){return this.getAll().filter((({teams:t})=>t.find((({slug:t})=>t===e))))},getAll(){return Object.values(this.itemsById).sort(((e,t)=>e.slug>t.slug?1:e.slug<t.slug?-1:0))},getById(e){return this.getAll().find((t=>t.id===e))},getBySlug(e){return this.getAll().find((t=>t.slug===e))},getBySlugs(e){return this.getAll().filter((t=>e.includes(t.slug)))},getState(e){return{projects:e?this.getBySlugs(e):this.getAll(),loading:this.loading}}},l=i().createStore(n)},"./app/stores/teamStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>n}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("../node_modules/reflux/src/index.js"),i=s.n(r),o=s("./app/actions/teamActions.tsx");const a={initialized:!1,state:{teams:[],loading:!0,hasMore:null},init(){this.reset(),this.listenTo(o.Z.createTeamSuccess,this.onCreateSuccess),this.listenTo(o.Z.fetchDetailsSuccess,this.onUpdateSuccess),this.listenTo(o.Z.loadTeams,this.loadInitialData),this.listenTo(o.Z.removeTeamSuccess,this.onRemoveSuccess),this.listenTo(o.Z.updateSuccess,this.onUpdateSuccess)},reset(){this.state={teams:[],loading:!0,hasMore:null}},loadInitialData(e,t=null){this.initialized=!0,this.state={teams:e.sort(((e,t)=>e.slug.localeCompare(t.slug))),loading:!1,hasMore:t},this.trigger(new Set(e.map((e=>e.id))))},onUpdateSuccess(e,t){if(!t)return;if(!this.getBySlug(e))return this.state={...this.state,teams:[...this.state.teams,t]},void this.trigger(new Set([e]));if(t.slug!==e){const s=[...this.state.teams.filter((({slug:t})=>t!==e)),t];return this.state={...this.state,teams:s},void this.trigger(new Set([t.slug]))}const s=[...this.state.teams],r=s.findIndex((e=>e.slug===t.slug));s[r]=t,this.state={...this.state,teams:s},this.trigger(new Set([e]))},onRemoveSuccess(e){const{teams:t}=this.state;this.loadInitialData(t.filter((t=>t.slug!==e)))},onCreateSuccess(e){this.loadInitialData([...this.state.teams,e])},get(){return this.state},getById(e){const{teams:t}=this.state;return t.find((t=>t.id.toString()===e.toString()))||null},getBySlug(e){const{teams:t}=this.state;return t.find((t=>t.slug===e))||null},getAll(){return this.state.teams}},n=i().createStore(a)},"./app/utils/useApi.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});var r=s("../node_modules/react/index.js"),i=s("./app/api.tsx");const o=function({persistInFlight:e,api:t}={}){const s=(0,r.useRef)();void 0===s.current&&void 0===t&&(s.current=new i.KU);const o=null!=t?t:s.current;function a(){!e&&o.clear()}return(0,r.useEffect)((()=>a),[]),o}},"./app/utils/withApi.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var r=s("./app/utils/getDisplayName.tsx"),i=s("./app/utils/useApi.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(e,t={})=>{const s=({api:s,...r})=>{const a=(0,i.Z)({api:s,...t});return(0,o.tZ)(e,{...r,api:a})};return s.displayName="withApi(".concat((0,r.Z)(e),")"),s}},"./app/utils/withProjects.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),o=s("./app/stores/projectsStore.tsx"),a=s("./app/utils/getDisplayName.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=function(e){class t extends i.Component{constructor(...e){super(...e),(0,r.Z)(this,"state",o.Z.getState()),(0,r.Z)(this,"unsubscribe",o.Z.listen((()=>this.setState(o.Z.getState())),void 0))}componentWillUnmount(){this.unsubscribe()}render(){return(0,n.tZ)(e,{...this.props,projects:this.state.projects,loadingProjects:this.state.loading})}}return t.displayName="WithProjects",(0,r.Z)(t,"displayName","withProjects(".concat((0,a.Z)(e),")")),t}}}]);
//# sourceMappingURL=../sourcemaps/app_components_forms_selectField_tsx-app_stores_memberListStore_tsx-app_stores_teamStore_tsx--401ca7.7335b8425428de6b6dc8966875c678d0.js.map