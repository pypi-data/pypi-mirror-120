"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["DebugFileCustomRepository"],{"./app/components/modals/debugFileCustomRepository/index.tsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>fe,modalCss:()=>Se});var n=a("../node_modules/react/index.js"),o=a("../node_modules/react-router/es/index.js");const i={native:"Platform-Specific (SymStore / GDB / LLVM)",symstore:"Microsoft SymStore",symstore_index2:"Microsoft SymStore (with index2.txt)",ssqp:"Microsoft SSQP",unified:"Unified Symbol Server Layout",debuginfod:"debuginfod"},r={default:"Default (mixed case)",uppercase:"Uppercase",lowercase:"Lowercase"},s=[["us-east-2","US East (Ohio)"],["us-east-1","US East (N. Virginia)"],["us-west-1","US West (N. California)"],["us-west-2","US West (Oregon)"],["ap-east-1","Asia Pacific (Hong Kong)"],["ap-south-1","Asia Pacific (Mumbai)"],["ap-northeast-2","Asia Pacific (Seoul)"],["ap-southeast-1","Asia Pacific (Singapore)"],["ap-southeast-2","Asia Pacific (Sydney)"],["ap-northeast-1","Asia Pacific (Tokyo)"],["ca-central-1","Canada (Central)"],["cn-north-1","China (Beijing)"],["cn-northwest-1","China (Ningxia)"],["eu-central-1","EU (Frankfurt)"],["eu-west-1","EU (Ireland)"],["eu-west-2","EU (London)"],["eu-west-3","EU (Paris)"],["eu-north-1","EU (Stockholm)"],["sa-east-1","South America (SÃ£o Paulo)"],["us-gov-east-1","AWS GovCloud (US-East)"],["us-gov-west-1","AWS GovCloud (US)"]],l={gcs:"Google Cloud Storage",http:"SymbolServer (HTTP)",s3:"Amazon S3",appStoreConnect:"App Store Connect"};function c(e){var t;return null!==(t=l[e])&&void 0!==t?t:"Unknown"}var d=a("./app/locale.tsx"),p=a("./app/types/debugFiles.tsx"),u=a("./app/views/settings/components/forms/fieldFromConfig.tsx"),h=a("./app/views/settings/components/forms/form.tsx"),m=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),y=(a("../node_modules/core-js/modules/web.dom-collections.iterator.js"),a("./app/actionCreators/indicator.tsx")),g=a("./app/components/alert.tsx"),f=a("./app/components/alertLink.tsx"),S=a("./app/components/button.tsx"),v=a("./app/components/buttonBar.tsx"),Z=a("./app/components/loadingIndicator.tsx"),b=a("./app/components/projects/appStoreConnectContext/utils.tsx"),w=a("./app/icons/index.tsx"),C=a("./app/styles/space.tsx"),x=a("./app/utils/withApi.tsx"),k=a("./app/views/settings/components/forms/selectField.tsx"),P=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function T({appleStoreOrgs:e,stepFifthData:t,onSetStepFifthData:a}){var n,o;return(0,P.tZ)(A,{name:"organization",label:(0,d.t)("iTunes Organization"),choices:e.map((e=>[e.organizationId,e.name])),placeholder:(0,d.t)("Select organization"),onChange:t=>{const n=e.find((e=>e.organizationId===t));a({org:n})},value:null!==(n=null===(o=t.org)||void 0===o?void 0:o.organizationId)&&void 0!==n?n:"",inline:!1,flexibleControlStateSize:!0,stacked:!0,required:!0})}T.displayName="StepFifth";const I=T,A=(0,m.Z)(k.Z,{target:"eb6t37s0"})({name:"jjyo93",styles:"padding-right:0"});var E=a("./app/views/settings/components/forms/controls/input.tsx"),D=a("./app/views/settings/components/forms/field/index.tsx");function z({onStartItunesAuthentication:e,onStartSmsAuthentication:t,stepFourData:a,onSetStepFourData:o}){return(0,P.BX)(n.Fragment,{children:[(0,P.tZ)(j,{type:"info",icon:(0,P.tZ)(w.aU,{}),children:(0,P.BX)(_,{children:[(0,d.t)("Did not get a verification code?"),(0,P.BX)(v.ZP,{gap:1,children:[(0,P.tZ)(S.ZP,{size:"small",title:(0,d.t)("Get a new verification code"),onClick:()=>e(!1),icon:(0,P.tZ)(w.tr,{}),children:(0,d.t)("Resend code")}),(0,P.tZ)(S.ZP,{size:"small",title:(0,d.t)("Get a text message with a code"),onClick:()=>t(),icon:(0,P.tZ)(w.yC,{}),children:(0,d.t)("Text me")})]})]})}),(0,P.tZ)(D.Z,{label:(0,d.t)("Two Factor authentication code"),inline:!1,flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,P.tZ)(E.Z,{type:"text",name:"two-factor-authentication-code",placeholder:(0,d.t)("Enter your code"),value:a.authenticationCode,onChange:e=>o({...a,authenticationCode:e.target.value})})})]})}z.displayName="StepFour";const N=z,j=(0,m.Z)(g.Z,{target:"e1es9r981"})("div{align-items:flex-start;}@media (min-width: ",(e=>e.theme.breakpoints[0]),"){div{align-items:center;}}"),_=(0,m.Z)("div",{target:"e1es9r980"})("display:grid;grid-template-columns:1fr;align-items:center;grid-gap:",(0,C.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints[0]),"){grid-template-columns:1fr max-content;}");var B=a("./app/components/links/externalLink.tsx"),F=a("./app/views/settings/components/forms/controls/textarea.tsx");function O({stepOneData:e,onSetStepOneData:t}){return(0,P.BX)(n.Fragment,{children:[(0,P.tZ)(g.Z,{type:"info",children:(0,d._N)('Please enter the [docLink:App Store Connect API Key] details. The key needs to have the "Developer" role for Sentry to discover the app builds.',{docLink:(0,P.tZ)(B.Z,{href:"https://developer.apple.com/documentation/appstoreconnectapi/creating_api_keys_for_app_store_connect_api"})})}),(0,P.tZ)(D.Z,{label:(0,d.t)("Issuer"),inline:!1,flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,P.tZ)(E.Z,{type:"text",name:"issuer",placeholder:(0,d.t)("Issuer"),value:e.issuer,onChange:a=>t({...e,issuer:a.target.value})})}),(0,P.tZ)(D.Z,{label:(0,d.t)("Key ID"),inline:!1,flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,P.tZ)(E.Z,{type:"text",name:"keyId",placeholder:(0,d.t)("Key Id"),value:e.keyId,onChange:a=>t({...e,keyId:a.target.value})})}),(0,P.tZ)(D.Z,{label:(0,d.t)("Private Key"),inline:!1,flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,P.tZ)(F.Z,{name:"privateKey",value:e.privateKey,rows:5,autosize:!0,placeholder:void 0===e.privateKey?(0,d.t)("(Private Key unchanged)"):"-----BEGIN PRIVATE KEY-----\n[PRIVATE-KEY]\n-----END PRIVATE KEY-----",onChange:a=>t({...e,privateKey:a.target.value})})})]})}O.displayName="StepOne";const q=O;function K({stepThreeData:e,onSetStepOneData:t}){return(0,P.BX)(n.Fragment,{children:[(0,P.tZ)(g.Z,{type:"info",children:(0,d._N)('Please enter the iTunes credentials that Sentry should use to download dSYMs from App Store Connect. It is recommended to [docLink:create a new Apple ID] with the "Developer" role for this.',{docLink:(0,P.tZ)(B.Z,{href:"https://support.apple.com/en-us/HT204316"})})}),(0,P.tZ)(D.Z,{label:(0,d.t)("Username"),inline:!1,flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,P.tZ)(E.Z,{type:"text",name:"username",placeholder:(0,d.t)("Username"),value:e.username,onChange:a=>t({...e,username:a.target.value})})}),(0,P.tZ)(D.Z,{label:(0,d.t)("Password"),inline:!1,flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,P.tZ)(E.Z,{name:"password",type:void 0===e.password?"text":"password",value:e.password,placeholder:void 0===e.password?(0,d.t)("(Password unchanged)"):(0,d.t)("Password"),onChange:a=>t({...e,password:a.target.value})})})]})}K.displayName="StepThree";const R=K;function U({stepTwoData:e,onSetStepTwoData:t,appStoreApps:a}){var n,o;return(0,P.tZ)(X,{name:"application",label:(0,d.t)("App Store Connect application"),choices:a.map((e=>[e.appId,e.name])),placeholder:(0,d.t)("Select application"),onChange:e=>{const n=a.find((t=>t.appId===e));t({app:n})},value:null!==(n=null===(o=e.app)||void 0===o?void 0:o.appId)&&void 0!==n?n:"",inline:!1,flexibleControlStateSize:!0,stacked:!0,required:!0})}U.displayName="StepTwo";const M=U,X=(0,m.Z)(k.Z,{target:"e18v4sr80"})({name:"jjyo93",styles:"padding-right:0"}),L=[(0,d.t)("App Store Connect credentials"),(0,d.t)("Choose an application"),(0,d.t)("Enter iTunes credentials"),(0,d.t)("Enter authentication code"),(0,d.t)("Choose an organization")];function H({Header:e,Body:t,Footer:a,api:o,initialData:i,orgSlug:r,projectSlug:s,onSubmit:l,location:c,appStoreConnectContext:p}){const{updateAlertMessage:u}=null!=p?p:{},[h,m]=(0,n.useState)(c.query.revalidateItunesSession),[C,x]=(0,n.useState)(!1),[k,T]=(0,n.useState)(h?3:0),[A,E]=(0,n.useState)([]),[D,z]=(0,n.useState)([]),[j,_]=(0,n.useState)(!1),[B,F]=(0,n.useState)(void 0),[O,K]=(0,n.useState)({issuer:null==i?void 0:i.appconnectIssuer,keyId:null==i?void 0:i.appconnectKey,privateKey:"object"==typeof(null==i?void 0:i.appconnectPrivateKey)?void 0:""}),[U,X]=(0,n.useState)({app:null!=i&&i.appId&&null!=i&&i.appName?{appId:i.appId,name:i.appName,bundleId:i.bundleId}:void 0}),[H,G]=(0,n.useState)({username:null==i?void 0:i.itunesUser,password:"object"==typeof(null==i?void 0:i.itunesPassword)?void 0:""}),[ae,ne]=(0,n.useState)({authenticationCode:void 0}),[oe,ie]=(0,n.useState)({org:null!=i&&i.orgPublicId&&null!=i&&i.name?{organizationId:i.orgPublicId,name:i.name}:void 0});async function re(e=!1){x(!0);try{const t=await o.requestPromise("/projects/".concat(r,"/").concat(s,"/appstoreconnect/2fa/"),{method:"POST",data:{code:ae.authenticationCode,useSms:j,sessionContext:B}}),{organizations:a,sessionContext:n}=t;if(e)return void se(n);F(n),z(a),ie({org:a[0]}),x(!1),ce()}catch(e){x(!1),(0,y.Iw)((0,d.t)("The two factor authentication failed. Please check the entered code."))}}async function se(e){if(!U.app||!oe.org||!H.username)return;x(!0);let t="/projects/".concat(r,"/").concat(s,"/appstoreconnect/"),a=(0,d.t)("An error occurred while adding the custom repository"),n=(0,d.t)("Successfully added custom repository");i&&(t="".concat(t).concat(i.id,"/"),a=(0,d.t)("An error occurred while updating the custom repository"),n=(0,d.t)("Successfully updated custom repository"));try{await o.requestPromise(t,{method:"POST",data:{itunesUser:H.username,itunesPassword:H.password,appconnectIssuer:O.issuer,appconnectKey:O.keyId,appconnectPrivateKey:O.privateKey,appName:U.app.name,appId:U.app.appId,bundleId:U.app.bundleId,orgId:oe.org.organizationId,orgName:oe.org.name,sessionContext:null!=e?e:B}}),(0,y.S9)(n),l()}catch(e){x(!1),(0,y.Iw)(a)}}function le(){switch(k){case 0:return Object.keys(O).some((e=>("privateKey"!==e||void 0!==O[e])&&!O[e]));case 1:return Object.keys(U).some((e=>!U[e]));case 2:return Object.keys(H).some((e=>("password"!==e||void 0!==H[e])&&!H[e]));case 3:return Object.keys(ae).some((e=>!ae[e]));case 4:return Object.keys(oe).some((e=>!oe[e]));default:return!1}}function ce(){T(k+1)}async function de(e=!0){e&&x(!0),j&&_(!1);try{const t=await o.requestPromise("/projects/".concat(r,"/").concat(s,"/appstoreconnect/start/"),{method:"POST",data:{id:void 0!==H.password||null==i?void 0:i.id,itunesUser:H.username,itunesPassword:H.password}});if(F(t.sessionContext),e)return x(!1),void ce();(0,y.S9)((0,d.t)("An iTunes verification code has been sent"))}catch{e&&x(!1),(0,y.Iw)((0,d.t)("The iTunes authentication failed. Please check the provided credentials"))}}async function pe(){j||_(!0);try{const e=await o.requestPromise("/projects/".concat(r,"/").concat(s,"/appstoreconnect/requestSms/"),{method:"POST",data:{sessionContext:B}});F(e.sessionContext),(0,y.S9)((0,d.t)("We've sent a SMS code to your phone"))}catch{(0,y.Iw)((0,d.t)("An error occured while sending the SMS. Please try again"))}}function ue(){switch(k){case 0:return(0,P.tZ)(q,{stepOneData:O,onSetStepOneData:K});case 1:return(0,P.tZ)(M,{appStoreApps:A,stepTwoData:U,onSetStepTwoData:X});case 2:return(0,P.tZ)(R,{stepThreeData:H,onSetStepOneData:G});case 3:return(0,P.tZ)(N,{stepFourData:ae,onSetStepFourData:ne,onStartItunesAuthentication:de,onStartSmsAuthentication:pe});case 4:return(0,P.tZ)(I,{appleStoreOrgs:D,stepFifthData:oe,onSetStepFifthData:ie});default:return(0,P.tZ)(g.Z,{type:"error",icon:(0,P.tZ)(w.FC,{}),children:(0,d.t)("This step could not be found.")})}}function he(){const e=function(){const e=[];return h?(!u&&h&&e.push((0,P.tZ)(te,{type:"warning",icon:(0,P.tZ)(w.FC,{}),children:(0,d.t)("Your iTunes session has already been re-validated.")})),e):(0!==k||(u===b.R.appStoreCredentialsInvalid&&e.push((0,P.tZ)(te,{type:"warning",icon:(0,P.tZ)(w.FC,{}),children:(0,d.t)("Your App Store Connect credentials are invalid. To reconnect, update your credentials.")})),u===b.R.iTunesSessionInvalid&&e.push((0,P.tZ)(f.Z,{withoutMarginBottom:!0,icon:(0,P.tZ)(w.FC,{}),to:{pathname:c.pathname,query:{...c.query,revalidateItunesSession:!0}},children:(0,d.t)("Your iTunes session has expired. To reconnect, revalidate the session.")}))),e)}();return(0,P.BX)(n.Fragment,{children:[!!e.length&&(0,P.tZ)(ee,{marginBottom:3===k?1.5:3,children:e.map(((e,t)=>(0,P.tZ)(n.Fragment,{children:e},t)))}),ue()]})}return(0,n.useEffect)((()=>{c.query.revalidateItunesSession&&!h&&(x(!0),m(c.query.revalidateItunesSession))}),[c.query]),(0,n.useEffect)((()=>{if(h)return de(!1),3!==k&&T(3),void x(!1);x(!1)}),[h]),i&&!p?(0,P.tZ)(Z.Z,{}):h?(0,P.BX)(n.Fragment,{children:[(0,P.tZ)(e,{closeButton:!0,children:(0,P.tZ)(W,{children:(0,d.t)("Revalidate iTunes session")})}),(0,P.tZ)(t,{children:he()}),(0,P.tZ)(a,{children:(0,P.tZ)($,{priority:"primary",onClick:()=>re(!0),disabled:C||le(),children:(0,d.t)("Revalidate")})})]}):(0,P.BX)(n.Fragment,{children:[(0,P.tZ)(e,{closeButton:!0,children:(0,P.BX)(Y,{children:[(0,P.tZ)(V,{children:k+1}),(0,P.tZ)(W,{children:L[k]}),(0,P.tZ)(Q,{children:(0,d._N)("[currentStep] of [totalSteps]",{currentStep:k+1,totalSteps:L.length})})]})}),(0,P.tZ)(t,{children:he()}),(0,P.tZ)(a,{children:(0,P.BX)(v.ZP,{gap:1,children:[0!==k&&(0,P.tZ)(S.ZP,{onClick:function(){const e=k-1;switch(e){case 3:de(!1),ne({authenticationCode:void 0})}T(e)},children:(0,d.t)("Back")}),(0,P.BX)($,{priority:"primary",onClick:function(){switch(k){case 0:!async function(){x(!0);try{const e=await o.requestPromise("/projects/".concat(r,"/").concat(s,"/appstoreconnect/apps/"),{method:"POST",data:{id:void 0!==O.privateKey||null==i?void 0:i.id,appconnectIssuer:O.issuer,appconnectKey:O.keyId,appconnectPrivateKey:O.privateKey}});E(e.apps),X({app:e.apps[0]}),x(!1),ce()}catch(e){x(!1),(0,y.Iw)((0,d.t)("We could not establish a connection with App Store Connect. Please check the entered App Store Connect credentials."))}}();break;case 1:ce();break;case 2:de();break;case 3:re();break;case 4:se()}},disabled:C||le(),children:[C&&(0,P.tZ)(J,{children:(0,P.tZ)(Z.Z,{mini:!0})}),k+1===L.length?i?(0,d.t)("Update"):(0,d.t)("Save"):L[k+1]]})]})})]})}H.displayName="AppStoreConnect";const G=(0,x.Z)(H),Y=(0,m.Z)("div",{target:"e1sz93bw7"})("display:grid;grid-template-columns:max-content max-content 1fr;align-items:center;grid-gap:",(0,C.Z)(1),";"),V=(0,m.Z)("div",{target:"e1sz93bw6"})("border-radius:50%;display:flex;align-items:center;justify-content:center;width:24px;height:24px;font-weight:700;font-size:",(e=>e.theme.fontSizeMedium),";background-color:",(e=>e.theme.yellow300),";"),W=(0,m.Z)("div",{target:"e1sz93bw5"})("font-weight:700;font-size:",(e=>e.theme.fontSizeExtraLarge),";"),Q=(0,m.Z)("div",{target:"e1sz93bw4"})("color:",(e=>e.theme.gray300),";display:flex;justify-content:flex-end;"),J=(0,m.Z)("div",{target:"e1sz93bw3"})({name:"34k26a",styles:"height:100%;position:absolute;width:100%;top:0;left:0;display:flex;align-items:center;justify-content:center"}),$=(0,m.Z)(S.ZP,{target:"e1sz93bw2"})({name:"bjn8wh",styles:"position:relative"}),ee=(0,m.Z)("div",{target:"e1sz93bw1"})("display:grid;grid-gap:",(0,C.Z)(1.5),";margin-bottom:",(e=>(0,C.Z)(e.marginBottom)),";"),te=(0,m.Z)(g.Z,{target:"e1sz93bw0"})({name:"ti75j2",styles:"margin:0"});var ae=a("./app/components/actions/button.tsx"),ne=a("./app/icons/iconClose.tsx"),oe=a("./app/styles/input.tsx"),ie=a("./app/utils/guid.tsx");const re=oe.c+22;function se({Header:e,Body:t,Footer:a,onSubmit:o,...s}){var c,p,u,h,m,y,g,f;const v={name:null===(c=s.initialData)||void 0===c?void 0:c.name,url:null===(p=s.initialData)||void 0===p?void 0:p.url,username:null===(u=s.initialData)||void 0===u?void 0:u.username,password:"object"==typeof(null===(h=s.initialData)||void 0===h?void 0:h.password)?void 0:"","layout.type":null!==(m=null===(y=s.initialData)||void 0===y?void 0:y.layout.type)&&void 0!==m?m:"native","layout.casing":null!==(g=null===(f=s.initialData)||void 0===f?void 0:f.layout.casing)&&void 0!==g?g:"default"},[Z,b]=(0,n.useState)(v);return(0,P.BX)(n.Fragment,{children:[(0,P.tZ)(e,{closeButton:!0,children:v?(0,d._N)("Update [name] Repository",{name:l.http}):(0,d._N)("Add [name] Repository",{name:l.http})}),(0,P.BX)(t,{children:[(0,P.tZ)(D.Z,{label:(0,d.t)("Name"),inline:!1,help:(0,d.t)("A display name for this repository"),flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,P.tZ)(E.Z,{type:"text",name:"name",placeholder:(0,d.t)("New Repository"),value:Z.name,onChange:e=>b({...Z,name:e.target.value})})}),(0,P.tZ)("hr",{}),(0,P.tZ)(D.Z,{label:(0,d.t)("Download Url"),inline:!1,help:(0,d.t)("Full URL to the symbol server"),flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,P.tZ)(E.Z,{type:"text",name:"url",placeholder:"https://msdl.microsoft.com/download/symbols/",value:Z.url,onChange:e=>b({...Z,url:e.target.value})})}),(0,P.tZ)(D.Z,{label:(0,d.t)("User"),inline:!1,help:(0,d.t)("User for HTTP basic auth"),flexibleControlStateSize:!0,stacked:!0,children:(0,P.tZ)(E.Z,{type:"text",name:"username",placeholder:"admin",value:Z.username,onChange:e=>b({...Z,username:e.target.value})})}),(0,P.BX)(D.Z,{label:(0,d.t)("Password"),inline:!1,help:(0,d.t)("Password for HTTP basic auth"),flexibleControlStateSize:!0,stacked:!0,children:[(0,P.tZ)(de,{type:void 0===Z.password?"text":"password",name:"url",placeholder:void 0===Z.password?(0,d.t)("(Password unchanged)"):"open-sesame",value:Z.password,onChange:e=>b({...Z,password:e.target.value})}),(void 0===Z.password||"string"==typeof Z.password&&!!Z.password)&&(0,P.tZ)(pe,{onClick:function(){b({...Z,password:""})},icon:(0,P.tZ)(ne.b,{size:"14px"}),size:"xsmall",title:(0,d.t)("Clear password"),label:(0,d.t)("Clear password"),borderless:!0})]}),(0,P.tZ)("hr",{}),(0,P.tZ)(ce,{name:"layout.type",label:(0,d.t)("Directory Layout"),help:(0,d.t)("The layout of the folder structure."),choices:Object.keys(i).map((e=>[e,i[e]])),value:Z["layout.type"],onChange:e=>b({...Z,"layout.type":e}),inline:!1,flexibleControlStateSize:!0,stacked:!0}),(0,P.tZ)(ce,{name:"layout.casing",label:(0,d.t)("Path Casing"),help:(0,d.t)("The case of files and folders."),choices:Object.keys(r).map((e=>[e,r[e]])),value:Z["layout.casing"],onChange:e=>b({...Z,"layout.casing":e}),inline:!1,flexibleControlStateSize:!0,stacked:!0})]}),(0,P.tZ)(a,{children:(0,P.tZ)(S.ZP,{onClick:function(){const e=Z;o({id:(0,ie.E)(),name:e.name,url:e.url,"layout.type":e["layout.type"],"layout.casing":e["layout.casing"],username:e.username,password:void 0===e.password?{"hidden-secret":!0}:e.password?e.password:void 0})},priority:"primary",disabled:!Z.name||!Z.url||Z===v,children:(0,d.t)("Save changes")})})]})}se.displayName="Http";const le=se,ce=(0,m.Z)(k.Z,{target:"e1hkzht82"})({name:"jjyo93",styles:"padding-right:0"}),de=(0,m.Z)(E.Z,{target:"e1hkzht81"})("padding-right:",re,"px;"),pe=(0,m.Z)(ae.Z,{target:"e1hkzht80"})("background:transparent;height:",22,"px;width:",22,"px;padding:0;position:absolute;top:50%;right:",(0,C.Z)(.75),";transform:translateY(-50%);svg{color:",(e=>e.theme.gray400),";:hover{color:hsl(0, 0%, 60%);}}");var ue=a("../node_modules/@sentry/minimal/esm/index.js");function he(e){return Object.entries(e).map((([e,t])=>[e,(0,d.t)(t)]))}const me={id:{name:"id",type:"hidden",required:!0,defaultValue:()=>Math.random().toString(36).substring(2)},name:{name:"name",type:"string",required:!0,label:(0,d.t)("Name"),placeholder:(0,d.t)("New Repository"),help:(0,d.t)("A display name for this repository")},layoutType:{name:"layout.type",type:"select",label:(0,d.t)("Directory Layout"),help:(0,d.t)("The layout of the folder structure."),defaultValue:"native",choices:he(i)},layoutCasing:{name:"layout.casing",type:"select",label:(0,d.t)("Path Casing"),help:(0,d.t)("The case of files and folders."),defaultValue:"default",choices:he(r)},prefix:{name:"prefix",type:"string",label:"Root Path",placeholder:"/",help:(0,d.t)("The path at which files are located within this repository.")},separator:{name:"",type:"separator"}};function ye(e,t){var a,n;if(e===p.Et.HTTP||e===p.Et.APP_STORE_CONNECT)return t;switch(e){case"s3":return{...t,secret_key:null!==(a=t.secret_key)&&void 0!==a?a:{"hidden-secret":!0}};case"gcs":return{...t,private_key:null!==(n=t.private_key)&&void 0!==n?n:{"hidden-secret":!0}};default:return ue.Tb(new Error("Unknown custom repository type")),{}}}function ge({Header:e,Body:t,Footer:a,onSave:o,sourceConfig:i,sourceType:r,params:{orgId:l,projectId:m},location:y,appStoreConnectContext:g,closeModal:f}){function S(e){if(!e)return f(),void window.location.reload();o({...ye(r,e),type:r}).then((()=>{f()}))}if(r===p.Et.APP_STORE_CONNECT)return(0,P.tZ)(G,{Header:e,Body:t,Footer:a,orgSlug:l,projectSlug:m,onSubmit:S,initialData:i,location:y,appStoreConnectContext:g});if(r===p.Et.HTTP)return(0,P.tZ)(le,{Header:e,Body:t,Footer:a,onSubmit:S,initialData:i});const{initialData:v,fields:Z}=function(e,t){if(e===p.Et.HTTP||e===p.Et.APP_STORE_CONNECT)return{};const{secret_key:a,layout:n,private_key:o,...i}=null!=t?t:{},r=n?{...i,"layout.casing":n.casing,"layout.type":n.type}:i;switch(e){case"s3":return{fields:[me.id,me.name,me.separator,{name:"bucket",type:"string",required:!0,label:(0,d.t)("Bucket"),placeholder:"s3-bucket-name",help:(0,d.t)("Name of the S3 bucket. Read permissions are required to download symbols.")},{name:"region",type:"select",required:!0,label:(0,d.t)("Region"),help:(0,d.t)("The AWS region and availability zone of the bucket."),choices:s.map((([e,t])=>[e,(0,P.BX)("span",{children:[(0,P.tZ)("code",{children:e})," ",t]},e)]))},{name:"access_key",type:"string",required:!0,label:(0,d.t)("Access Key ID"),placeholder:"AKIAIOSFODNN7EXAMPLE",help:(0,d._N)("Access key to the AWS account. Credentials can be managed in the [link].",{link:(0,P.tZ)(B.Z,{href:"https://console.aws.amazon.com/iam/",children:"IAM console"})})},{name:"secret_key",type:"string",required:!0,label:(0,d.t)("Secret Access Key"),placeholder:"object"==typeof a?(0,d.t)("(Secret Access Key unchanged)"):"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"},me.separator,me.prefix,me.layoutType,me.layoutCasing],initialData:r?{...r,secret_key:void 0}:void 0};case"gcs":return{fields:[me.id,me.name,me.separator,{name:"bucket",type:"string",required:!0,label:(0,d.t)("Bucket"),placeholder:"gcs-bucket-name",help:(0,d.t)("Name of the GCS bucket. Read permissions are required to download symbols.")},{name:"client_email",type:"email",required:!0,label:(0,d.t)("Client Email"),placeholder:"user@project.iam.gserviceaccount.com",help:(0,d.t)("Email address of the GCS service account.")},{name:"private_key",type:"string",required:!0,multiline:!0,autosize:!0,maxRows:5,rows:3,label:(0,d.t)("Private Key"),placeholder:"object"==typeof o?(0,d.t)("(Private Key unchanged)"):"-----BEGIN PRIVATE KEY-----\n[PRIVATE-KEY]\n-----END PRIVATE KEY-----",help:(0,d._N)("The service account key. Credentials can be managed on the [link].",{link:(0,P.tZ)(B.Z,{href:"https://console.cloud.google.com/project/_/iam-admin",children:"IAM & Admin Page"})})},me.separator,me.prefix,me.layoutType,me.layoutCasing],initialData:r?{...r,private_key:void 0}:void 0};default:return ue.Tb(new Error("Unknown custom repository type")),{}}}(r,i);return(0,P.BX)(n.Fragment,{children:[(0,P.tZ)(e,{closeButton:!0,children:i?(0,d._N)("Update [name] Repository",{name:c(r)}):(0,d._N)("Add [name] Repository",{name:c(r)})}),Z&&(0,P.tZ)(h.Z,{allowUndo:!0,requireChanges:!0,initialData:v,onSubmit:S,footerClass:"modal-footer",children:Z.map(((e,t)=>(0,P.tZ)(u.Z,{field:e,inline:!1,stacked:!0},e.name||t)))})]})}ge.displayName="DebugFileCustomRepository";const fe=(0,o.withRouter)(ge),Se={name:"16o92yp",styles:"width:100%;max-width:680px"}},"./app/components/projects/appStoreConnectContext/utils.tsx":(e,t,a)=>{a.d(t,{R:()=>o,t:()=>i});var n=a("./app/locale.tsx");const o={iTunesSessionInvalid:(0,n.t)("The iTunes session of your configured App Store Connect needs to be refreshed."),appStoreCredentialsInvalid:(0,n.t)("The credentials of your configured App Store Connect are invalid.")};function i(e){return e.promptItunesSession?o.iTunesSessionInvalid:!1===e.appstoreCredentialsValid?o.appStoreCredentialsInvalid:void 0}},"./app/types/debugFiles.tsx":(e,t,a)=>{let n,o,i;a.d(t,{BQ:()=>n,Wi:()=>o,Et:()=>i}),function(e){e.EXE="exe",e.DBG="dbg",e.LIB="lib"}(n||(n={})),function(e){e.SYMTAB="symtab",e.DEBUG="debug",e.UNWIND="unwind",e.SOURCES="sources"}(o||(o={})),function(e){e.HTTP="http",e.S3="s3",e.GCS="gcs",e.APP_STORE_CONNECT="appStoreConnect"}(i||(i={}))}}]);
//# sourceMappingURL=../sourcemaps/DebugFileCustomRepository.850e1e547c7cfda99dc298465c2a5a1e.js.map