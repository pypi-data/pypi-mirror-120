{"version":3,"file":"chunks/app_views_settings_projectPerformance_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/utils/routeTitle.tsx","webpack:///./app/views/asyncView.tsx","webpack:///./app/views/settings/components/forms/formPanel.tsx","webpack:///./app/views/settings/components/forms/jsonForm.tsx","webpack:///./app/views/settings/project/permissionAlert.tsx","webpack:///./app/views/settings/projectPerformance/projectPerformance.tsx","webpack:///./app/views/settings/projectPerformance/index.tsx"],"sourcesContent":["function routeTitleGen(\n  routeName: string,\n  orgSlug: string,\n  withSentry: boolean = true,\n  projectSlug?: string\n): string {\n  const tmplBase = `${routeName} - ${orgSlug}`;\n  const tmpl = projectSlug ? `${tmplBase} - ${projectSlug}` : tmplBase;\n\n  return withSentry ? `${tmpl} - Sentry` : tmpl;\n}\n\nexport default routeTitleGen;\n","import * as React from 'react';\nimport DocumentTitle from 'react-document-title';\n\nimport AsyncComponent from 'app/components/asyncComponent';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    const title = this.getTitle();\n    return (\n      <DocumentTitle title={`${title ? `${title} - ` : ''}Sentry`}>\n        {this.renderComponent() as React.ReactChild}\n      </DocumentTitle>\n    );\n  }\n}\n","import * as React from 'react';\nimport styled from '@emotion/styled';\n\nimport {Panel, PanelBody, PanelHeader} from 'app/components/panels';\nimport {IconChevron} from 'app/icons';\nimport {Scope} from 'app/types';\nimport {sanitizeQuerySelector} from 'app/utils/sanitizeQuerySelector';\nimport FieldFromConfig from 'app/views/settings/components/forms/fieldFromConfig';\n\nimport {FieldObject, JsonFormObject} from './type';\n\ntype DefaultProps = {\n  additionalFieldProps: {[key: string]: any};\n};\n\ntype Props = DefaultProps & {\n  /**\n   * Panel title\n   */\n  title?: React.ReactNode;\n\n  /**\n   * List of fields to render\n   */\n  fields: FieldObject[];\n\n  access?: Set<Scope>;\n  features?: Record<string, any>;\n\n  /**\n   * The name of the field that should be highlighted\n   */\n  highlighted?: string;\n\n  /**\n   * Renders inside of PanelBody at the start\n   */\n  renderHeader?: (arg: JsonFormObject) => React.ReactNode;\n\n  /**\n   * Renders inside of PanelBody before PanelBody close\n   */\n  renderFooter?: (arg: JsonFormObject) => React.ReactNode;\n\n  /**\n   * Disables the entire form\n   */\n  disabled?: boolean;\n\n  /** Can the PanelBody be hidden with a click? */\n  collapsible?: boolean;\n};\n\ntype State = {\n  collapsed: boolean;\n};\n\nexport default class FormPanel extends React.Component<Props, State> {\n  static defaultProps: DefaultProps = {\n    additionalFieldProps: {},\n  };\n\n  state: State = {\n    collapsed: false,\n  };\n\n  handleToggleEvents = () => {\n    const {collapsed} = this.state;\n\n    this.setState({collapsed: !collapsed});\n  };\n\n  render() {\n    const {\n      title,\n      fields,\n      access,\n      disabled,\n      additionalFieldProps,\n      renderFooter,\n      renderHeader,\n      collapsible,\n      ...otherProps\n    } = this.props;\n    const {collapsed} = this.state;\n\n    return (\n      <Panel id={typeof title === 'string' ? sanitizeQuerySelector(title) : undefined}>\n        {title && (\n          <PanelHeader>\n            {title}\n            {collapsible && (\n              <Collapse onClick={this.handleToggleEvents}>\n                <IconChevron direction={collapsed ? 'down' : 'up'} size=\"xs\" />\n              </Collapse>\n            )}\n          </PanelHeader>\n        )}\n        {!collapsed && (\n          <PanelBody>\n            {typeof renderHeader === 'function' && renderHeader({title, fields})}\n\n            {fields.map(field => {\n              if (typeof field === 'function') {\n                return field();\n              }\n\n              const {defaultValue: _, ...fieldWithoutDefaultValue} = field;\n\n              // Allow the form panel disabled prop to override the fields\n              // disabled prop, with fallback to the fields disabled state.\n              if (disabled === true) {\n                fieldWithoutDefaultValue.disabled = true;\n                fieldWithoutDefaultValue.disabledReason = undefined;\n              }\n\n              return (\n                <FieldFromConfig\n                  access={access}\n                  disabled={disabled}\n                  key={field.name}\n                  {...otherProps}\n                  {...additionalFieldProps}\n                  field={fieldWithoutDefaultValue}\n                  highlighted={this.props.highlighted === `#${field.name}`}\n                />\n              );\n            })}\n            {typeof renderFooter === 'function' && renderFooter({title, fields})}\n          </PanelBody>\n        )}\n      </Panel>\n    );\n  }\n}\n\nconst Collapse = styled('span')`\n  cursor: pointer;\n`;\n","import * as React from 'react';\nimport {withRouter, WithRouterProps} from 'react-router';\nimport * as Sentry from '@sentry/react';\nimport scrollToElement from 'scroll-to-element';\n\nimport {defined} from 'app/utils';\nimport {sanitizeQuerySelector} from 'app/utils/sanitizeQuerySelector';\n\nimport FormPanel from './formPanel';\nimport {Field, FieldObject, JsonFormObject} from './type';\n\ntype Props = {\n  /**\n   * Fields that are grouped by \"section\"\n   */\n  forms?: JsonFormObject[];\n\n  /**\n   * If `forms` is not defined, `title` + `fields` must be required.\n   * Allows more fine grain control of title/fields\n   */\n  fields?: FieldObject[];\n\n  additionalFieldProps?: {[key: string]: any};\n} & WithRouterProps &\n  Omit<\n    React.ComponentProps<typeof FormPanel>,\n    'highlighted' | 'fields' | 'additionalFieldProps'\n  >;\n\ntype State = {\n  // Field name that should be highlighted\n  highlighted?: string;\n};\n\nclass JsonForm extends React.Component<Props, State> {\n  state: State = {\n    // location.hash is optional because of tests.\n    highlighted: this.props.location?.hash,\n  };\n\n  componentDidMount() {\n    this.scrollToHash();\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props) {\n    if (this.props.location.hash !== nextProps.location.hash) {\n      const hash = nextProps.location.hash;\n      this.scrollToHash(hash);\n      this.setState({highlighted: hash});\n    }\n  }\n\n  scrollToHash(toHash?: string): void {\n    // location.hash is optional because of tests.\n    const hash = toHash || this.props.location?.hash;\n\n    if (!hash) {\n      return;\n    }\n\n    // Push onto callback queue so it runs after the DOM is updated,\n    // this is required when navigating from a different page so that\n    // the element is rendered on the page before trying to getElementById.\n    try {\n      scrollToElement(sanitizeQuerySelector(decodeURIComponent(hash)), {\n        align: 'middle',\n        offset: -100,\n      });\n    } catch (err) {\n      Sentry.captureException(err);\n    }\n  }\n\n  shouldDisplayForm(fields: FieldObject[]) {\n    const fieldsWithVisibleProp = fields.filter(\n      field => typeof field !== 'function' && defined(field?.visible)\n    ) as Array<Omit<Field, 'visible'> & Required<Pick<Field, 'visible'>>>;\n\n    if (fields.length === fieldsWithVisibleProp.length) {\n      const {additionalFieldProps, ...props} = this.props;\n\n      const areAllFieldsHidden = fieldsWithVisibleProp.every(field => {\n        if (typeof field.visible === 'function') {\n          return !field.visible({...props, ...additionalFieldProps});\n        }\n        return !field.visible;\n      });\n\n      return !areAllFieldsHidden;\n    }\n\n    return true;\n  }\n\n  renderForm({\n    fields,\n    formPanelProps,\n    title,\n  }: {\n    fields: FieldObject[];\n    formPanelProps: Pick<\n      Props,\n      | 'access'\n      | 'disabled'\n      | 'features'\n      | 'additionalFieldProps'\n      | 'renderFooter'\n      | 'renderHeader'\n    > &\n      Pick<State, 'highlighted'>;\n    title?: React.ReactNode;\n  }) {\n    const shouldDisplayForm = this.shouldDisplayForm(fields);\n\n    if (\n      !shouldDisplayForm &&\n      !formPanelProps?.renderFooter &&\n      !formPanelProps?.renderHeader\n    ) {\n      return null;\n    }\n\n    return <FormPanel title={title} fields={fields} {...formPanelProps} />;\n  }\n\n  render() {\n    const {\n      access,\n      collapsible,\n      fields,\n      title,\n      forms,\n      disabled,\n      features,\n      additionalFieldProps,\n      renderFooter,\n      renderHeader,\n      location: _location,\n      ...otherProps\n    } = this.props;\n\n    const formPanelProps = {\n      access,\n      disabled,\n      features,\n      additionalFieldProps,\n      renderFooter,\n      renderHeader,\n      highlighted: this.state.highlighted,\n      collapsible,\n    };\n\n    return (\n      <div {...otherProps}>\n        {typeof forms !== 'undefined' &&\n          forms.map((formGroup, i) => (\n            <React.Fragment key={i}>\n              {this.renderForm({formPanelProps, ...formGroup})}\n            </React.Fragment>\n          ))}\n        {typeof forms === 'undefined' &&\n          typeof fields !== 'undefined' &&\n          this.renderForm({fields, formPanelProps, title})}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(JsonForm);\n","import * as React from 'react';\n\nimport Access from 'app/components/acl/access';\nimport Alert from 'app/components/alert';\nimport {IconWarning} from 'app/icons';\nimport {t} from 'app/locale';\n\ntype Props = React.ComponentPropsWithoutRef<typeof Alert> &\n  Pick<React.ComponentProps<typeof Access>, 'access'>;\n\nconst PermissionAlert = ({access = ['project:write'], ...props}: Props) => (\n  <Access access={access}>\n    {({hasAccess}) =>\n      !hasAccess && (\n        <Alert type=\"warning\" icon={<IconWarning size=\"xs\" />} {...props}>\n          {t(\n            'These settings can only be edited by users with the organization owner, manager, or admin role.'\n          )}\n        </Alert>\n      )\n    }\n  </Access>\n);\n\nexport default PermissionAlert;\n","import React from 'react';\nimport {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\n\nimport Button from 'app/components/button';\nimport ExternalLink from 'app/components/links/externalLink';\nimport LoadingIndicator from 'app/components/loadingIndicator';\nimport {PanelItem} from 'app/components/panels';\nimport {t, tct} from 'app/locale';\nimport {Organization, Project} from 'app/types';\nimport {trackAnalyticsEvent} from 'app/utils/analytics';\nimport routeTitleGen from 'app/utils/routeTitle';\nimport AsyncView from 'app/views/asyncView';\nimport Form from 'app/views/settings/components/forms/form';\nimport JsonForm from 'app/views/settings/components/forms/jsonForm';\nimport SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';\nimport PermissionAlert from 'app/views/settings/project/permissionAlert';\n\nimport {Field} from '../components/forms/type';\n\ntype Props = RouteComponentProps<{orgId: string; projectId: string}, {}> & {\n  organization: Organization;\n  project: Project;\n};\n\ntype ProjectThreshold = {\n  id?: string;\n  threshold: string;\n  metric: string;\n  editedBy?: string;\n};\n\ntype State = AsyncView['state'] & {\n  threshold: ProjectThreshold;\n};\n\nclass ProjectPerformance extends AsyncView<Props, State> {\n  getTitle() {\n    const {projectId} = this.props.params;\n\n    return routeTitleGen(t('Performance'), projectId, false);\n  }\n\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    const {params} = this.props;\n    const {orgId, projectId} = params;\n\n    const endpoints: ReturnType<AsyncView['getEndpoints']> = [\n      ['threshold', `/projects/${orgId}/${projectId}/transaction-threshold/configure/`],\n    ];\n\n    return endpoints;\n  }\n\n  handleDelete = () => {\n    const {orgId, projectId} = this.props.params;\n    const {organization} = this.props;\n\n    this.setState({\n      loading: true,\n    });\n\n    this.api.request(`/projects/${orgId}/${projectId}/transaction-threshold/configure/`, {\n      method: 'DELETE',\n      success: () => {\n        trackAnalyticsEvent({\n          eventKey: 'performance_views.project_transaction_threshold.clear',\n          eventName: 'Project Transaction Threshold: Cleared',\n          organization_id: organization.id,\n        });\n      },\n      complete: () => this.fetchData(),\n    });\n  };\n\n  getEmptyMessage() {\n    return t('There is no threshold set for this project.');\n  }\n\n  renderLoading() {\n    return (\n      <LoadingIndicatorContainer>\n        <LoadingIndicator />\n      </LoadingIndicatorContainer>\n    );\n  }\n\n  get formFields(): Field[] {\n    const fields: Field[] = [\n      {\n        name: 'metric',\n        type: 'select',\n        label: t('Calculation Method'),\n        choices: [\n          ['duration', t('Transaction Duration')],\n          ['lcp', t('Largest Contentful Paint')],\n        ],\n        help: tct(\n          'This determines which duration is used to set your thresholds. By default, we use transaction duration which measures the entire length of the transaction. You can also set this to use a [link:Web Vital].',\n          {\n            link: (\n              <ExternalLink href=\"https://docs.sentry.io/product/performance/web-vitals/\" />\n            ),\n          }\n        ),\n      },\n      {\n        name: 'threshold',\n        type: 'string',\n        label: t('Response Time Threshold (ms)'),\n        placeholder: t('300'),\n        help: tct(\n          'Define what a satisfactory response time is based on the calculation method above. This will affect how your [link1:Apdex] and [link2:User Misery] thresholds are calculated. For example, misery will be 4x your satisfactory response time.',\n          {\n            link1: (\n              <ExternalLink href=\"https://docs.sentry.io/performance-monitoring/performance/metrics/#apdex\" />\n            ),\n            link2: (\n              <ExternalLink href=\"https://docs.sentry.io/product/performance/metrics/#user-misery\" />\n            ),\n          }\n        ),\n      },\n    ];\n    return fields;\n  }\n\n  get initialData() {\n    const {threshold} = this.state;\n\n    return {\n      threshold: threshold.threshold,\n      metric: threshold.metric,\n    };\n  }\n\n  renderBody() {\n    const {organization, project} = this.props;\n    const endpoint = `/projects/${organization.slug}/${project.slug}/transaction-threshold/configure/`;\n    return (\n      <React.Fragment>\n        <SettingsPageHeader title={t('Performance')} />\n        <PermissionAlert />\n        <Form\n          saveOnBlur\n          allowUndo\n          initialData={this.initialData}\n          apiMethod=\"POST\"\n          apiEndpoint={endpoint}\n          onSubmitSuccess={resp => {\n            const initial = this.initialData;\n            const changedThreshold = initial.metric === resp.metric;\n            trackAnalyticsEvent({\n              eventKey: 'performance_views.project_transaction_threshold.change',\n              eventName: 'Project Transaction Threshold: Changed',\n              organization_id: organization.id,\n              from: changedThreshold ? initial.threshold : initial.metric,\n              to: changedThreshold ? resp.threshold : resp.metric,\n              key: changedThreshold ? 'threshold' : 'metric',\n            });\n            this.setState({threshold: resp});\n          }}\n        >\n          <JsonForm\n            title={t('General')}\n            fields={this.formFields}\n            renderFooter={() => (\n              <Actions>\n                <Button type=\"button\" onClick={() => this.handleDelete()}>\n                  {t('Reset All')}\n                </Button>\n              </Actions>\n            )}\n          />\n        </Form>\n      </React.Fragment>\n    );\n  }\n}\n\nconst Actions = styled(PanelItem)`\n  justify-content: flex-end;\n`;\n\nconst LoadingIndicatorContainer = styled('div')`\n  margin: 18px 18px 0;\n`;\n\nexport default ProjectPerformance;\n","import React from 'react';\nimport {RouteComponentProps} from 'react-router';\n\nimport Feature from 'app/components/acl/feature';\nimport {Organization, Project} from 'app/types';\nimport withOrganization from 'app/utils/withOrganization';\n\nimport ProjectPerformance from './projectPerformance';\n\ntype Props = RouteComponentProps<{orgId: string; projectId: string}, {}> & {\n  organization: Organization;\n  project: Project;\n};\n\nclass ProjectPerformanceContainer extends React.Component<Props> {\n  render() {\n    return (\n      <Feature features={['performance-view']}>\n        <ProjectPerformance {...this.props} />\n      </Feature>\n    );\n  }\n}\n\nexport default withOrganization(ProjectPerformanceContainer);\n"],"names":["routeName","orgSlug","withSentry","projectSlug","tmplBase","tmpl","AsyncView","AsyncComponent","getTitle","render","title","this","renderComponent","FormPanel","React","collapsed","state","setState","fields","access","disabled","additionalFieldProps","renderFooter","renderHeader","collapsible","otherProps","props","id","sanitizeQuerySelector","undefined","Collapse","onClick","handleToggleEvents","direction","size","map","field","defaultValue","_","fieldWithoutDefaultValue","disabledReason","highlighted","name","JsonForm","location","hash","componentDidMount","scrollToHash","UNSAFE_componentWillReceiveProps","nextProps","toHash","scrollToElement","decodeURIComponent","align","offset","err","Sentry","shouldDisplayForm","fieldsWithVisibleProp","filter","defined","visible","length","every","renderForm","formPanelProps","forms","features","_location","formGroup","i","withRouter","PermissionAlert","hasAccess","type","icon","t","ProjectPerformance","orgId","projectId","params","organization","loading","api","request","method","success","trackAnalyticsEvent","eventKey","eventName","organization_id","complete","fetchData","routeTitleGen","getEndpoints","getEmptyMessage","renderLoading","LoadingIndicatorContainer","label","choices","help","tct","link","href","placeholder","link1","link2","threshold","metric","renderBody","project","endpoint","slug","saveOnBlur","allowUndo","initialData","apiMethod","apiEndpoint","onSubmitSuccess","resp","initial","changedThreshold","from","to","key","formFields","Actions","handleDelete","PanelItem","ProjectPerformanceContainer","withOrganization"],"sourceRoot":""}