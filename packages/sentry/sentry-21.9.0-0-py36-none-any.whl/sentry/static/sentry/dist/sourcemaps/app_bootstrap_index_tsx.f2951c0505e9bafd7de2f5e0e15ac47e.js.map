{"version":3,"file":"chunks/app_bootstrap_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"gKAEA,MAEMA,EAAmBC,IACvBC,OAAOC,eAAiBF,EAAKE,eAEtBF,GAYFG,eAAeC,IACpB,MAAMC,EAAgBJ,OAAOK,cAK7B,YAAsBC,IAAlBF,QAfNF,iBACE,MAAMK,QAAiBC,MATH,uBAUdT,QAAqBQ,EAASE,OAIpC,OAFAT,OAAOK,cAAgBN,EAEhBD,EAAgBC,GAURW,GAGRZ,EAAgBM","sources":["webpack:///./app/bootstrap/index.tsx"],"sourcesContent":["import {Config} from 'app/types';\n\nconst BOOTSTRAP_URL = '/api/client-config/';\n\nconst bootApplication = (data: Config) => {\n  window.csrfCookieName = data.csrfCookieName;\n\n  return data;\n};\n\nasync function bootWithHydration() {\n  const response = await fetch(BOOTSTRAP_URL);\n  const data: Config = await response.json();\n\n  window.__initialData = data;\n\n  return bootApplication(data);\n}\n\nexport async function bootstrap() {\n  const bootstrapData = window.__initialData;\n\n  // If __initialData is not already set on the window, we are likely running in\n  // pure SPA mode, meaning django is not serving our frontend application and we\n  // need to make an API request to hydrate the bootstrap data to boot the app.\n  if (bootstrapData === undefined) {\n    return await bootWithHydration();\n  }\n\n  return bootApplication(bootstrapData);\n}\n"],"names":["bootApplication","data","window","csrfCookieName","async","bootstrap","bootstrapData","__initialData","undefined","response","fetch","json","bootWithHydration"],"sourceRoot":""}