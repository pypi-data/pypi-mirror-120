{"version":3,"file":"chunks/app_views_alerts_list_header_tsx-app_views_alerts_rules_teamFilter_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/forms/input.tsx","webpack:///./app/views/alerts/list/header.tsx","webpack:///./app/views/alerts/rules/filter.tsx","webpack:///./app/views/alerts/rules/teamFilter.tsx"],"sourcesContent":["import * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'lodash/omit';\n\ntype Props = {\n  className?: string;\n} & React.HTMLProps<HTMLInputElement>;\n\nexport default function Input({className, ...otherProps}: Props) {\n  return (\n    <input\n      className={classNames('form-control', className)}\n      {...omit(otherProps, 'children')}\n    />\n  );\n}\n","import * as React from 'react';\nimport {InjectedRouter} from 'react-router';\nimport styled from '@emotion/styled';\n\nimport {navigateTo} from 'app/actionCreators/navigation';\nimport Feature from 'app/components/acl/feature';\nimport Button from 'app/components/button';\nimport ButtonBar from 'app/components/buttonBar';\nimport CreateAlertButton from 'app/components/createAlertButton';\nimport GlobalSelectionLink from 'app/components/globalSelectionLink';\nimport * as Layout from 'app/components/layouts/thirds';\nimport {IconSettings} from 'app/icons';\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\nimport {Organization} from 'app/types';\n\ntype Props = {\n  router: InjectedRouter;\n  organization: Organization;\n  activeTab: 'stream' | 'rules';\n};\n\nconst AlertHeader = ({router, organization, activeTab}: Props) => {\n  /**\n   * Incidents list is currently at the organization level, but the link needs to\n   * go down to a specific project scope.\n   */\n  const handleNavigateToSettings = (e: React.MouseEvent) => {\n    e.preventDefault();\n    navigateTo(`/settings/${organization.slug}/projects/:projectId/alerts/`, router);\n  };\n\n  const alertRulesLink = (\n    <li className={activeTab === 'rules' ? 'active' : ''}>\n      <GlobalSelectionLink to={`/organizations/${organization.slug}/alerts/rules/`}>\n        {t('Alert Rules')}\n      </GlobalSelectionLink>\n    </li>\n  );\n\n  return (\n    <React.Fragment>\n      <BorderlessHeader>\n        <StyledLayoutHeaderContent>\n          <StyledLayoutTitle>{t('Alerts')}</StyledLayoutTitle>\n        </StyledLayoutHeaderContent>\n        <Layout.HeaderActions>\n          <Actions gap={1}>\n            <CreateAlertButton\n              organization={organization}\n              iconProps={{size: 'sm'}}\n              priority=\"primary\"\n              referrer=\"alert_stream\"\n              showPermissionGuide\n            >\n              {t('Create Alert Rule')}\n            </CreateAlertButton>\n            <Button\n              onClick={handleNavigateToSettings}\n              href=\"#\"\n              icon={<IconSettings size=\"sm\" />}\n              aria-label=\"Settings\"\n            />\n          </Actions>\n        </Layout.HeaderActions>\n      </BorderlessHeader>\n      <TabLayoutHeader>\n        <Layout.HeaderNavTabs underlined>\n          <Feature features={['alert-details-redesign']} organization={organization}>\n            {({hasFeature}) =>\n              !hasFeature ? (\n                <React.Fragment>\n                  <Feature features={['incidents']} organization={organization}>\n                    <li className={activeTab === 'stream' ? 'active' : ''}>\n                      <GlobalSelectionLink\n                        to={`/organizations/${organization.slug}/alerts/`}\n                      >\n                        {t('Metric Alerts')}\n                      </GlobalSelectionLink>\n                    </li>\n                  </Feature>\n                  {alertRulesLink}\n                </React.Fragment>\n              ) : (\n                <React.Fragment>\n                  {alertRulesLink}\n                  <li className={activeTab === 'stream' ? 'active' : ''}>\n                    <GlobalSelectionLink\n                      to={`/organizations/${organization.slug}/alerts/`}\n                    >\n                      {t('History')}\n                    </GlobalSelectionLink>\n                  </li>\n                </React.Fragment>\n              )\n            }\n          </Feature>\n        </Layout.HeaderNavTabs>\n      </TabLayoutHeader>\n    </React.Fragment>\n  );\n};\n\nexport default AlertHeader;\n\nconst BorderlessHeader = styled(Layout.Header)`\n  border-bottom: 0;\n\n  /* Not enough buttons to change direction for tablet view */\n  grid-template-columns: 1fr auto;\n`;\n\nconst StyledLayoutHeaderContent = styled(Layout.HeaderContent)`\n  margin-bottom: 0;\n  margin-right: ${space(2)};\n`;\n\nconst StyledLayoutTitle = styled(Layout.Title)`\n  margin-top: ${space(0.5)};\n`;\n\nconst TabLayoutHeader = styled(Layout.Header)`\n  padding-top: ${space(1)};\n\n  @media (max-width: ${p => p.theme.breakpoints[1]}) {\n    padding-top: ${space(1)};\n  }\n`;\n\nconst Actions = styled(ButtonBar)`\n  height: 32px;\n`;\n","import {Component, Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport CheckboxFancy from 'app/components/checkboxFancy/checkboxFancy';\nimport DropdownButton from 'app/components/dropdownButton';\nimport DropdownControl, {Content} from 'app/components/dropdownControl';\nimport {IconFilter} from 'app/icons';\nimport {t, tn} from 'app/locale';\nimport overflowEllipsis from 'app/styles/overflowEllipsis';\nimport space from 'app/styles/space';\n\ntype DropdownButtonProps = React.ComponentProps<typeof DropdownButton>;\n\ntype DropdownSection = {\n  id: string;\n  label: string;\n  items: Array<{label: string; value: string; checked: boolean; filtered: boolean}>;\n};\n\ntype SectionProps = DropdownSection & {\n  toggleSection: (id: string) => void;\n  toggleFilter: (section: string, value: string) => void;\n};\n\nfunction FilterSection({id, label, items, toggleSection, toggleFilter}: SectionProps) {\n  const checkedItemsCount = items.filter(item => item.checked).length;\n  return (\n    <Fragment>\n      <Header>\n        <span>{label}</span>\n        <CheckboxFancy\n          isChecked={checkedItemsCount === items.length}\n          isIndeterminate={checkedItemsCount > 0 && checkedItemsCount !== items.length}\n          onClick={event => {\n            event.stopPropagation();\n            toggleSection(id);\n          }}\n        />\n      </Header>\n      {items\n        .filter(item => !item.filtered)\n        .map(item => (\n          <ListItem\n            key={item.value}\n            isChecked={item.checked}\n            onClick={event => {\n              event.stopPropagation();\n              toggleFilter(id, item.value);\n            }}\n          >\n            <TeamName>{item.label}</TeamName>\n            <CheckboxFancy isChecked={item.checked} />\n          </ListItem>\n        ))}\n    </Fragment>\n  );\n}\n\ntype Props = {\n  header: React.ReactElement;\n  onFilterChange: (section: string, filterSelection: Set<string>) => void;\n  dropdownSections: DropdownSection[];\n};\n\nclass Filter extends Component<Props> {\n  toggleFilter = (sectionId: string, value: string) => {\n    const {onFilterChange, dropdownSections} = this.props;\n    const section = dropdownSections.find(\n      dropdownSection => dropdownSection.id === sectionId\n    )!;\n    const newSelection = new Set(\n      section.items.filter(item => item.checked).map(item => item.value)\n    );\n    if (newSelection.has(value)) {\n      newSelection.delete(value);\n    } else {\n      newSelection.add(value);\n    }\n    onFilterChange(sectionId, newSelection);\n  };\n\n  toggleSection = (sectionId: string) => {\n    const {onFilterChange} = this.props;\n    const section = this.props.dropdownSections.find(\n      dropdownSection => dropdownSection.id === sectionId\n    )!;\n    const activeItems = section.items.filter(item => item.checked);\n\n    const newSelection =\n      section.items.length === activeItems.length\n        ? new Set<string>()\n        : new Set(section.items.map(item => item.value));\n\n    onFilterChange(sectionId, newSelection);\n  };\n\n  getNumberOfActiveFilters = (): number => {\n    return this.props.dropdownSections\n      .map(section => section.items)\n      .flat()\n      .filter(item => item.checked).length;\n  };\n\n  render() {\n    const {dropdownSections: dropdownItems, header} = this.props;\n    const checkedQuantity = this.getNumberOfActiveFilters();\n\n    const dropDownButtonProps: Pick<DropdownButtonProps, 'children' | 'priority'> & {\n      hasDarkBorderBottomColor: boolean;\n    } = {\n      children: t('Filter'),\n      priority: 'default',\n      hasDarkBorderBottomColor: false,\n    };\n\n    if (checkedQuantity > 0) {\n      dropDownButtonProps.children = tn(\n        '%s Active Filter',\n        '%s Active Filters',\n        checkedQuantity\n      );\n      dropDownButtonProps.hasDarkBorderBottomColor = true;\n    }\n\n    return (\n      <DropdownControl\n        menuWidth=\"240px\"\n        blendWithActor\n        alwaysRenderMenu={false}\n        button={({isOpen, getActorProps}) => (\n          <StyledDropdownButton\n            {...getActorProps()}\n            showChevron={false}\n            isOpen={isOpen}\n            icon={<IconFilter size=\"xs\" />}\n            hasDarkBorderBottomColor={dropDownButtonProps.hasDarkBorderBottomColor}\n            priority={dropDownButtonProps.priority as DropdownButtonProps['priority']}\n            data-test-id=\"filter-button\"\n          >\n            {dropDownButtonProps.children}\n          </StyledDropdownButton>\n        )}\n      >\n        {({isOpen, getMenuProps}) => (\n          <MenuContent\n            {...getMenuProps()}\n            isOpen={isOpen}\n            blendCorner\n            alignMenu=\"left\"\n            width=\"240px\"\n          >\n            <List>\n              {header}\n              {dropdownItems.map(section => (\n                <FilterSection\n                  key={section.id}\n                  {...section}\n                  toggleSection={this.toggleSection}\n                  toggleFilter={this.toggleFilter}\n                />\n              ))}\n            </List>\n          </MenuContent>\n        )}\n      </DropdownControl>\n    );\n  }\n}\n\nconst MenuContent = styled(Content)`\n  max-height: 290px;\n  overflow-y: auto;\n`;\n\nconst Header = styled('div')`\n  display: grid;\n  grid-template-columns: auto min-content;\n  grid-column-gap: ${space(1)};\n  align-items: center;\n\n  margin: 0;\n  background-color: ${p => p.theme.backgroundSecondary};\n  color: ${p => p.theme.gray300};\n  font-weight: normal;\n  font-size: ${p => p.theme.fontSizeMedium};\n  padding: ${space(1)} ${space(2)};\n  border-bottom: 1px solid ${p => p.theme.border};\n`;\n\nconst StyledDropdownButton = styled(DropdownButton)<{hasDarkBorderBottomColor?: boolean}>`\n  white-space: nowrap;\n  max-width: 200px;\n\n  z-index: ${p => p.theme.zIndex.dropdown};\n`;\n\nconst List = styled('ul')`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n`;\n\nconst ListItem = styled('li')<{isChecked?: boolean}>`\n  display: grid;\n  grid-template-columns: 1fr max-content;\n  grid-column-gap: ${space(1)};\n  align-items: center;\n  padding: ${space(1)} ${space(2)};\n  border-bottom: 1px solid ${p => p.theme.border};\n  :hover {\n    background-color: ${p => p.theme.backgroundSecondary};\n  }\n  ${CheckboxFancy} {\n    opacity: ${p => (p.isChecked ? 1 : 0.3)};\n  }\n\n  &:hover ${CheckboxFancy} {\n    opacity: 1;\n  }\n\n  &:hover span {\n    color: ${p => p.theme.blue300};\n    text-decoration: underline;\n  }\n`;\n\nconst TeamName = styled('div')`\n  font-size: ${p => p.theme.fontSizeMedium};\n  ${overflowEllipsis};\n`;\n\nexport default Filter;\n","import {useState} from 'react';\nimport styled from '@emotion/styled';\n\nimport Input from 'app/components/forms/input';\nimport {t} from 'app/locale';\nimport {Team} from 'app/types';\n\nimport Filter from './filter';\n\nconst ALERT_LIST_QUERY_DEFAULT_TEAMS = ['myteams', 'unassigned'];\n\ntype Props = {\n  teams: Team[];\n  selectedTeams: Set<string>;\n  handleChangeFilter: (sectionId: string, activeFilters: Set<string>) => void;\n  showStatus?: boolean;\n  selectedStatus?: Set<string>;\n};\n\nexport function getTeamParams(team?: string | string[]): string[] {\n  if (team === undefined) {\n    return ALERT_LIST_QUERY_DEFAULT_TEAMS;\n  }\n\n  if (team === '') {\n    return [];\n  }\n\n  if (Array.isArray(team)) {\n    return team;\n  }\n\n  return [team];\n}\n\nfunction TeamFilter({\n  teams,\n  selectedTeams,\n  showStatus = false,\n  selectedStatus = new Set(),\n  handleChangeFilter,\n}: Props) {\n  const [teamFilterSearch, setTeamFilterSearch] = useState<string | undefined>();\n\n  const statusOptions = [\n    {\n      label: t('Unresolved'),\n      value: 'open',\n      checked: selectedStatus.has('open'),\n      filtered: false,\n    },\n    {\n      label: t('Resolved'),\n      value: 'closed',\n      checked: selectedStatus.has('closed'),\n      filtered: false,\n    },\n  ];\n\n  const additionalOptions = [\n    {\n      label: t('My Teams'),\n      value: 'myteams',\n      checked: selectedTeams.has('myteams'),\n      filtered: false,\n    },\n    {\n      label: t('Unassigned'),\n      value: 'unassigned',\n      checked: selectedTeams.has('unassigned'),\n      filtered: false,\n    },\n  ];\n  const teamItems = teams.map(({id, name}) => ({\n    label: name,\n    value: id,\n    filtered: teamFilterSearch\n      ? !name.toLowerCase().includes(teamFilterSearch.toLowerCase())\n      : false,\n    checked: selectedTeams.has(id),\n  }));\n\n  return (\n    <Filter\n      header={\n        <StyledInput\n          autoFocus\n          placeholder={t('Filter by team name')}\n          onClick={event => {\n            event.stopPropagation();\n          }}\n          onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n            setTeamFilterSearch(event.target.value);\n          }}\n          value={teamFilterSearch || ''}\n        />\n      }\n      onFilterChange={handleChangeFilter}\n      dropdownSections={[\n        ...(showStatus\n          ? [\n              {\n                id: 'status',\n                label: t('Status'),\n                items: statusOptions,\n              },\n            ]\n          : []),\n        {\n          id: 'teams',\n          label: t('Teams'),\n          items: [...additionalOptions, ...teamItems],\n        },\n      ]}\n    />\n  );\n}\n\nexport default TeamFilter;\n\nconst StyledInput = styled(Input)`\n  border: none;\n  border-bottom: 1px solid ${p => p.theme.gray200};\n  border-radius: 0;\n`;\n"],"names":["Input","className","otherProps","classNames","omit","AlertHeader","router","organization","activeTab","alertRulesLink","to","slug","t","BorderlessHeader","StyledLayoutHeaderContent","StyledLayoutTitle","Actions","gap","iconProps","size","priority","referrer","showPermissionGuide","onClick","e","preventDefault","navigateTo","href","icon","TabLayoutHeader","underlined","features","hasFeature","Layout","space","p","theme","breakpoints","ButtonBar","FilterSection","id","label","items","toggleSection","toggleFilter","checkedItemsCount","filter","item","checked","length","Fragment","Header","isChecked","isIndeterminate","event","stopPropagation","filtered","map","ListItem","value","TeamName","Filter","Component","sectionId","onFilterChange","dropdownSections","this","props","section","find","dropdownSection","newSelection","Set","has","delete","add","activeItems","flat","render","dropdownItems","header","checkedQuantity","getNumberOfActiveFilters","dropDownButtonProps","children","hasDarkBorderBottomColor","tn","menuWidth","blendWithActor","alwaysRenderMenu","button","isOpen","getActorProps","StyledDropdownButton","showChevron","getMenuProps","MenuContent","blendCorner","alignMenu","width","List","Content","backgroundSecondary","gray300","fontSizeMedium","border","DropdownButton","zIndex","dropdown","CheckboxFancy","blue300","overflowEllipsis","ALERT_LIST_QUERY_DEFAULT_TEAMS","getTeamParams","team","undefined","Array","isArray","TeamFilter","teams","selectedTeams","showStatus","selectedStatus","handleChangeFilter","teamFilterSearch","setTeamFilterSearch","useState","statusOptions","additionalOptions","teamItems","name","toLowerCase","includes","StyledInput","autoFocus","placeholder","onChange","target","gray200"],"sourceRoot":""}