{"version":3,"file":"chunks/app_views_teamCreate_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"qoBAoBe,MAAMA,UAAuBC,EAAAA,UAAiB,2DAC5C,CAACC,EAA2BC,EAAqBC,MAC9DC,EAAAA,EAAAA,GAAeC,KAAKC,MAAMC,SAAUN,EAAiBC,EAAWC,OAFP,uCAKhCF,KACzBG,EAAAA,EAAAA,GAAeC,KAAKC,MAAMJ,UAAWD,MAGvCO,SACE,MAAM,aAACC,GAAgBJ,KAAKC,MAE5B,OACE,QAAC,EAAAI,SAAD,YACE,uBACGC,EAAAA,EAAAA,GACC,2GAIJ,QAAC,IAAD,CACEC,aAAaD,EAAAA,EAAAA,GAAE,eACfE,YAAW,yBAAoBJ,EAAaK,KAAjC,WACXC,UAAU,OACVR,SAAUF,KAAKW,aACfC,gBAAiBZ,KAAKa,wBACtBC,gBAAc,EACd,eAAa,sBACTd,KAAKC,MAAMc,UARjB,UAUE,QAAC,IAAD,CACEC,KAAK,OACLC,OAAOX,EAAAA,EAAAA,GAAE,aACTY,aAAaZ,EAAAA,EAAAA,GAAE,0CACfa,MAAMb,EAAAA,EAAAA,GAAE,mEACRc,UAAQ,EACRC,SAAO,EACPC,0BAAwB,EACxBC,QAAQ,EACRC,eAAgBC,EAAAA,UAvCP/B,EAAAA,YAAAA,kB,oCClBN,SAAS+B,EAAQC,GAC9B,MAAsB,iBAARA,EAAmBA,EAAIC,cAAcC,QAAQ,IAAK,KAAO,G,oXCK1D,MAAMC,UAGXC,EAAAA,EACRC,WACE,MAAO,GAGT5B,SACE,MAAM6B,EAAQhC,KAAK+B,WACnB,OACE,QAAC,IAAD,CAAeC,MAAK,UAAKA,EAAQ,GAAH,OAAMA,EAAN,OAAmB,GAA7B,UAApB,SACGhC,KAAKiC,qBAZOJ,EAAAA,YAAAA,a,iPCJN,SAASK,EAAUjC,GAChC,OAAO,QAAC,IAAD,IAAgBA,EAAOkC,KAAK,SADbD,EAAAA,YAAAA,a,gjBCSxB,MAAME,UAAmBP,EAAAA,EAAiB,kEASlBjC,IACpB,MAAM,MAACyC,GAASrC,KAAKC,MAAMqC,OACrBC,EAAc,aAAH,OAAgBF,EAAhB,kBAA+BzC,EAAKa,KAApC,KACjBT,KAAKC,MAAMuC,OAAOC,KAAKF,MAXzBR,WACE,OAAOzB,EAAAA,EAAAA,GAAE,eAGXoC,eACE,MAAO,GASTC,aACE,OACE,QAAC,IAAD,YACE,wBAAKrC,EAAAA,EAAAA,GAAE,wBAEP,QAAC,IAAD,CACET,UAAWG,KAAK4C,oBAChBxC,aAAcJ,KAAKC,MAAMG,mBAQnC,SAAeyC,EAAAA,EAAAA,aAAWC,EAAAA,EAAAA,GAAiBV","sources":["webpack:///./app/components/teams/createTeamForm.tsx","webpack:///./app/utils/slugify.tsx","webpack:///./app/views/asyncView.tsx","webpack:///./app/views/settings/components/forms/textField.tsx","webpack:///./app/views/teamCreate.tsx"],"sourcesContent":["import {Component, Fragment} from 'react';\n\nimport {t} from 'app/locale';\nimport {Organization} from 'app/types';\nimport {callIfFunction} from 'app/utils/callIfFunction';\nimport slugify from 'app/utils/slugify';\nimport Form from 'app/views/settings/components/forms/form';\nimport TextField from 'app/views/settings/components/forms/textField';\n\ntype Payload = {\n  slug: string;\n};\n\ntype Props = {\n  organization: Organization;\n  onSubmit?: (data: Payload, onSuccess: Function, onError: Function) => void;\n  onSuccess?: (data: Payload) => void;\n  formProps?: Partial<typeof Form>;\n};\n\nexport default class CreateTeamForm extends Component<Props> {\n  handleSubmit = (data: Record<string, any>, onSuccess: Function, onError: Function) => {\n    callIfFunction(this.props.onSubmit, data as Payload, onSuccess, onError);\n  };\n\n  handleCreateTeamSuccess = (data: Payload) => {\n    callIfFunction(this.props.onSuccess, data);\n  };\n\n  render() {\n    const {organization} = this.props;\n\n    return (\n      <Fragment>\n        <p>\n          {t(\n            'Members of a team have access to specific areas, such as a new release or a new application feature.'\n          )}\n        </p>\n\n        <Form\n          submitLabel={t('Create Team')}\n          apiEndpoint={`/organizations/${organization.slug}/teams/`}\n          apiMethod=\"POST\"\n          onSubmit={this.handleSubmit}\n          onSubmitSuccess={this.handleCreateTeamSuccess}\n          requireChanges\n          data-test-id=\"create-team-form\"\n          {...this.props.formProps}\n        >\n          <TextField\n            name=\"slug\"\n            label={t('Team Name')}\n            placeholder={t('e.g. operations, web-frontend, desktop')}\n            help={t('May contain lowercase letters, numbers, dashes and underscores.')}\n            required\n            stacked\n            flexibleControlStateSize\n            inline={false}\n            transformInput={slugify}\n          />\n        </Form>\n      </Fragment>\n    );\n  }\n}\n","// XXX: This is NOT an exhaustive slugify function\n// Only forces lowercase and replaces spaces with hyphens\nexport default function slugify(str: any): string {\n  return typeof str === 'string' ? str.toLowerCase().replace(' ', '-') : '';\n}\n","import * as React from 'react';\nimport DocumentTitle from 'react-document-title';\n\nimport AsyncComponent from 'app/components/asyncComponent';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    const title = this.getTitle();\n    return (\n      <DocumentTitle title={`${title ? `${title} - ` : ''}Sentry`}>\n        {this.renderComponent() as React.ReactChild}\n      </DocumentTitle>\n    );\n  }\n}\n","import InputField from 'app/views/settings/components/forms/inputField';\n\ntype Props = InputField['props'];\n\nexport default function TextField(props: Omit<Props, 'type'>) {\n  return <InputField {...props} type=\"text\" />;\n}\n","import {withRouter, WithRouterProps} from 'react-router';\n\nimport NarrowLayout from 'app/components/narrowLayout';\nimport CreateTeamForm from 'app/components/teams/createTeamForm';\nimport {t} from 'app/locale';\nimport {Organization} from 'app/types';\nimport withOrganization from 'app/utils/withOrganization';\nimport AsyncView from 'app/views/asyncView';\n\ntype Props = WithRouterProps<{orgId: string}, {}> & {\n  organization: Organization;\n};\n\nclass TeamCreate extends AsyncView<Props> {\n  getTitle() {\n    return t('Create Team');\n  }\n\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    return [];\n  }\n\n  handleSubmitSuccess = data => {\n    const {orgId} = this.props.params;\n    const redirectUrl = `/settings/${orgId}/teams/${data.slug}/`;\n    this.props.router.push(redirectUrl);\n  };\n\n  renderBody() {\n    return (\n      <NarrowLayout>\n        <h3>{t('Create a New Team')}</h3>\n\n        <CreateTeamForm\n          onSuccess={this.handleSubmitSuccess}\n          organization={this.props.organization}\n        />\n      </NarrowLayout>\n    );\n  }\n}\n\nexport {TeamCreate};\nexport default withRouter(withOrganization(TeamCreate));\n"],"names":["CreateTeamForm","Component","data","onSuccess","onError","callIfFunction","this","props","onSubmit","render","organization","Fragment","t","submitLabel","apiEndpoint","slug","apiMethod","handleSubmit","onSubmitSuccess","handleCreateTeamSuccess","requireChanges","formProps","name","label","placeholder","help","required","stacked","flexibleControlStateSize","inline","transformInput","slugify","str","toLowerCase","replace","AsyncView","AsyncComponent","getTitle","title","renderComponent","TextField","type","TeamCreate","orgId","params","redirectUrl","router","push","getEndpoints","renderBody","handleSubmitSuccess","withRouter","withOrganization"],"sourceRoot":""}