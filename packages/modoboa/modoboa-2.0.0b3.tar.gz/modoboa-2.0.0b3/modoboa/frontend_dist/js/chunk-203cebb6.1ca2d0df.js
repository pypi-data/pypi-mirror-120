(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-203cebb6"],{"0798":function(t,e,s){"use strict";var n=s("5530"),a=s("ade3"),i=(s("caad"),s("0c18"),s("10d2")),o=s("afdd"),r=s("9d26"),l=s("f2e7"),c=s("7560"),u=s("2b0e"),d=u["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),h=s("58df"),m=s("d9bd");e["a"]=Object(h["a"])(i["a"],l["a"],d).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:Object(a["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(o["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(r["a"],{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(r["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=Object(n["a"])(Object(n["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||c["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(m["a"])("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"0c18":function(t,e,s){},"71f3":function(t,e,s){"use strict";s("8e2b")},"83f3":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("validation-observer",{ref:"observer"},[s("validation-provider",{attrs:{rules:"required",vid:"username"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[s("label",{staticClass:"m-label"},[t._v(t._s(t.$gettext("Username")))]),s("email-field",{ref:"username",attrs:{"error-messages":n,placeholder:t.usernamePlaceholder,type:t.usernameInputType,outlined:"",dense:""},model:{value:t.account.username,callback:function(e){t.$set(t.account,"username",e)},expression:"account.username"}})]}}])}),s("label",{staticClass:"m-label"},[t._v(t._s(t.$gettext("First name")))]),s("v-text-field",{attrs:{outlined:"",dense:""},model:{value:t.account.first_name,callback:function(e){t.$set(t.account,"first_name",e)},expression:"account.first_name"}}),s("label",{staticClass:"m-label"},[t._v(t._s(t.$gettext("Last name")))]),s("v-text-field",{attrs:{outlined:"",dense:""},model:{value:t.account.last_name,callback:function(e){t.$set(t.account,"last_name",e)},expression:"account.last_name"}}),s("div",{staticClass:"d-flex align-center"},[s("v-switch",{attrs:{label:t._f("translate")("Random password"),dense:""},on:{change:t.updatePassword},model:{value:t.account.random_password,callback:function(e){t.$set(t.account,"random_password",e)},expression:"account.random_password"}}),t.account.pk&&t.account.random_password?[s("v-alert",{staticClass:"ml-6",staticStyle:{"background-color":"#515D78"},attrs:{dense:""}},[s("span",{staticClass:"white--text mr-4"},[t._v(t._s(t.account.password))]),s("v-btn",{attrs:{small:"",color:"white",icon:"",title:t._f("translate")("Copy to clipboard")},on:{click:t.copyPassword}},[s("v-icon",[t._v("mdi-clipboard-multiple-outline")])],1)],1)]:t._e()],2),t.account.random_password?t._e():s("validation-provider",{attrs:{rules:t.passwordRules,vid:"password"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[s("label",{staticClass:"m-label"},[t._v(t._s(t.$gettext("Password")))]),s("v-text-field",{attrs:{"error-messages":n,outlined:"",type:"password",dense:""},model:{value:t.account.password,callback:function(e){t.$set(t.account,"password",e)},expression:"account.password"}})]}}],null,!1,3705386636)}),t.account.random_password?t._e():s("validation-provider",{attrs:{rules:t.passwordConfirmationRules},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[s("label",{staticClass:"m-label"},[t._v(t._s(t.$gettext("Confirmation")))]),s("v-text-field",{attrs:{"error-messages":n,outlined:"",type:"password",dense:""},model:{value:t.account.password_confirmation,callback:function(e){t.$set(t.account,"password_confirmation",e)},expression:"account.password_confirmation"}})]}}],null,!1,2601845932)}),s("v-switch",{attrs:{label:t._f("translate")("Enabled"),dense:""},model:{value:t.account.is_active,callback:function(e){t.$set(t.account,"is_active",e)},expression:"account.is_active"}})],1)},a=[],i=s("56d7"),o=s("2801"),r=s("9f8c"),l={components:{EmailField:r["a"]},props:["account"],computed:{passwordRules:function(){return this.account.pk?"":"required"},passwordConfirmationRules:function(){return this.account.password?"required":""},usernamePlaceholder:function(){return"SimpleUsers"===this.account.role?this.$gettext("Enter an email address"):this.$gettext("Enter a simple username or an email address")},usernameInputType:function(){return"SimpleUsers"===this.account.role?"email":"text"}},methods:{copyPassword:function(){var t=this;navigator.clipboard.writeText(this.account.password).then((function(){i["bus"].$emit("notification",{msg:t.$gettext("Password copied to clipboard")})}))},updatePassword:function(t){var e=this;t?o["a"].getRandomPassword().then((function(t){e.$set(e.account,"password",t.data.password)})):(this.$set(this.account,"password",null),this.$set(this.account,"password_confirmation",null))}},mounted:function(){this.account.random_password&&this.updatePassword(!0)}},c=l,u=s("2877"),d=s("6544"),h=s.n(d),m=s("0798"),p=s("8336"),f=s("132d"),v=s("b73d"),b=s("8654"),_=Object(u["a"])(c,n,a,!1,null,null,null);e["a"]=_.exports;h()(_,{VAlert:m["a"],VBtn:p["a"],VIcon:f["a"],VSwitch:v["a"],VTextField:b["a"]})},8550:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("validation-observer",{ref:"observer"},[s("label",{staticClass:"m-label"},[t._v(t._s(t.$gettext("Quota")))]),s("v-switch",{attrs:{label:t.useDomainQuotaLabel},model:{value:t.account.mailbox.use_domain_quota,callback:function(e){t.$set(t.account.mailbox,"use_domain_quota",e)},expression:"account.mailbox.use_domain_quota"}}),t.account.mailbox.use_domain_quota?t._e():s("validation-provider",{attrs:{rules:"",vid:"quota"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[s("v-text-field",{attrs:{placeholder:t._f("translate")("Ex: 10MB. Leave empty for no limit"),hint:t._f("translate")("Quota for this mailbox, can be expressed in KB, MB (default) or GB. Define a custom value or use domain's default one. Leave empty to define an unlimited value (not allowed for domain administrators)."),"persistent-hint":"",outlined:"","error-messages":n,dense:""},model:{value:t.account.mailbox.quota,callback:function(e){t.$set(t.account.mailbox,"quota",e)},expression:"account.mailbox.quota"}})]}}],null,!1,3824191599)}),s("label",{staticClass:"m-label"},[t._v(t._s(t.$gettext("Daily message sending limit")))]),s("v-text-field",{attrs:{placeholder:t._f("translate")("Leave empty for no limit"),hint:t._f("translate")("Number of messages this mailbox can send per day. Leave empty for no limit."),"persistent-hint":"",outlined:"",dense:""},model:{value:t.account.mailbox.message_limit,callback:function(e){t.$set(t.account.mailbox,"message_limit",e)},expression:"account.mailbox.message_limit"}})],1)},a=[],i=s("5530"),o=(s("ac1f"),s("1276"),s("2f62")),r={props:["account"],computed:Object(i["a"])(Object(i["a"])({},Object(o["b"])({getDomainByName:"identities/getDomainByName"})),{},{domainQuota:function(){var t=this.account.mailbox.full_address;if(t&&-1!==t.indexOf("@")){var e=this.getDomainByName(t.split("@")[1]);if(e)return parseInt(e.default_mailbox_quota)}},useDomainQuotaLabel:function(){var t=this.$gettext("Use domain default value");return void 0!==this.domainQuota&&(0===this.domainQuota?t+=" (".concat(this.$gettext("unlimited"),")"):t+=" (".concat(this.domainQuota," MB)")),t}}),watch:{account:{handler:function(t){"SimpleUsers"===t.role&&this.$set(t.mailbox,"full_address",t.username)},deep:!0}}},l=r,c=(s("882a"),s("2877")),u=s("6544"),d=s.n(u),h=s("b73d"),m=s("8654"),p=Object(c["a"])(l,n,a,!1,null,"1bab3872",null);e["a"]=p.exports;d()(p,{VSwitch:h["a"],VTextField:m["a"]})},"882a":function(t,e,s){"use strict";s("918c")},"8e2b":function(t,e,s){},"918c":function(t,e,s){},"9f8c":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-text-field",t._g(t._b({ref:"input",attrs:{outlined:"",dense:""},on:{input:t.update,keydown:t.onKeyDown},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},"v-text-field",t.$attrs,!1),t.$listeners)),t.showMenu?s("div",{staticClass:"menu",style:"width: "+t.width+"px;"},[s("v-list",{staticClass:"list"},t._l(t.filteredDomains,(function(e,n){return s("v-list-item",{key:n,class:t.selectionIndex===n?"selected":"",on:{click:function(s){return t.selectDomain(e)}}},[s("v-list-item-title",[t._v(t._s(e.name))])],1)})),1)],1):t._e()],1)},a=[],i=s("5530"),o=(s("4de4"),s("2ca0"),s("b0c0"),s("ac1f"),s("1276"),s("2f62")),r={props:{value:String,allowAdd:{type:Boolean,default:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(o["b"])({domains:"identities/domains"})),{},{filteredDomains:function(){var t=this;return this.domains.filter((function(e){return e.name.startsWith(t.domainSearch)}))}}),data:function(){return{domainSearch:"",input:this.value,selectionIndex:0,showMenu:!1,width:500}},methods:{onKeyDown:function(t){var e=t.keyCode;40===e||34===e?(this.showMenu?this.increaseSelectionIndex():(this.domainSearch="",this.showMenu=!0),t.preventDefault()):38===e||33===e?(this.showMenu?this.decreaseSelectionIndex():(this.domainSearch="",this.showMenu=!0),t.preventDefault()):13===e||9===e?(this.filteredDomains.length>0?this.selectDomain(this.filteredDomains[this.selectionIndex]):this.allowAdd&&this.selectDomain(),t.preventDefault()):27===e&&this.filteredDomains.length>0&&(this.showMenu=!1,t.preventDefault())},increaseSelectionIndex:function(){this.selectionIndex>=this.filteredDomains.length-1?this.selectionIndex=0:this.selectionIndex+=1},decreaseSelectionIndex:function(){this.selectionIndex<=0?this.selectionIndex=this.filteredDomains.length-1:this.selectionIndex-=1},selectDomain:function(t){void 0!==t&&(this.input=this.input.split("@")[0]+"@"+t.name),this.showMenu=!1,this.$emit("input",this.input),this.$emit("domain-selected")},update:function(t){-1!==this.input.indexOf("@")?(this.domainSearch=this.input.split("@")[1],this.allowAdd?this.showMenu=this.filteredDomains.length>0:this.showMenu=!0):this.showMenu=!1,this.$emit("input",this.input)},onResize:function(){this.updateMinWidthProperty()},updateMinWidthProperty:function(){this.width=this.$refs.input.$el.clientWidth},reset:function(){this.input="",this.domainSearch=""}},mounted:function(){},updated:function(){var t=this;this.$nextTick((function(){t.updateMinWidthProperty()}))},watch:{value:function(t){this.input=t}}},l=r,c=(s("71f3"),s("2877")),u=s("6544"),d=s.n(u),h=s("8860"),m=s("da13"),p=s("5d23"),f=s("8654"),v=Object(c["a"])(l,n,a,!1,null,"2c75f5ec",null);e["a"]=v.exports;d()(v,{VList:h["a"],VListItem:m["a"],VListItemTitle:p["b"],VTextField:f["a"]})},d108:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("validation-observer",{ref:"observer"},[s("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[s("v-row",[s("v-col",{attrs:{cols:"7"}},[s("choice-field",{attrs:{label:t._f("translate")("Choose a role"),choices:t.accountRoles,"error-messages":n,"choices-per-line":2},model:{value:t.account.role,callback:function(e){t.$set(t.account,"role",e)},expression:"account.role"}})],1),s("v-col",{attrs:{cols:"5"}},[s("v-alert",{staticClass:"mt-11 ml-4 rounded-lg",attrs:{text:"",color:"primary"}},[s("h3",{staticClass:"headline"},[t._v(t._s(t.roleLabel))]),s("p",{staticClass:"mt-4"},[t._v(t._s(t.roleHelp))]),s("v-icon",{staticClass:"float-right",attrs:{color:"white",large:""}},[t._v("mdi-help-circle-outline")])],1)],1)],1)]}}])})],1)},a=[],i=(s("7db0"),s("7146")),o={components:{ChoiceField:i["a"]},props:["account"],computed:{roleLabel:function(){var t=this,e=this.accountRoles.find((function(e){return e.value===t.account.role}));return void 0!==e?e.label:""},roleHelp:function(){var t=this,e=this.accountRoles.find((function(e){return e.value===t.account.role}));return void 0!==e?e.help:""}},data:function(){return{accountRoles:[{label:this.$gettext("Domain administrator"),value:"DomainAdmins",help:this.$gettext("A user with privileges on one or more domain. He will be allowed to administer mailboxes and he can also have a mailbox.")},{label:this.$gettext("Reseller"),value:"Resellers",help:this.$gettext("help")},{label:this.$gettext("Simple user"),value:"SimpleUsers",help:this.$gettext("A user with no privileges but with a mailbox. He will be allowed to use all end-user features: webmail, calendar, contacts, filters.")},{label:this.$gettext("Super administrator"),value:"SuperAdmins",help:this.$gettext("A user with all privileges, can do anything. By default, such a user does not have a mailbox so he can't access end-user features.")}]}}},r=o,l=s("2877"),c=s("6544"),u=s.n(c),d=s("0798"),h=s("62ad"),m=s("132d"),p=s("0fd9"),f=Object(l["a"])(r,n,a,!1,null,null,null);e["a"]=f.exports;u()(f,{VAlert:d["a"],VCol:h["a"],VIcon:m["a"],VRow:p["a"]})}}]);
//# sourceMappingURL=chunk-203cebb6.1ca2d0df.js.map