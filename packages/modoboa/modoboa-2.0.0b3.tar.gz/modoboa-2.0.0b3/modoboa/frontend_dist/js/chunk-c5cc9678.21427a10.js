(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5cc9678"],{"0393":function(e,t,n){"use strict";var a=n("5530"),i=(n("0481"),n("210b"),n("604c")),s=n("d9bd");t["a"]=i["a"].extend({name:"v-expansion-panels",provide:function(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile})}},created:function(){this.$attrs.hasOwnProperty("expand")&&Object(s["a"])("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&Object(s["a"])(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem:function(e,t){var n=this.getValue(e,t),a=this.getValue(e,t+1);e.isActive=this.toggleMethod(n),e.nextIsActive=this.toggleMethod(a)}}})},"210b":function(e,t,n){},2370:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("validation-observer",{ref:"observer"},[n("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[n("v-text-field",{attrs:{label:e._f("translate")("Domain name (ex: domain.tld)"),"error-messages":a,outlined:""},model:{value:e.domain.name,callback:function(t){e.$set(e.domain,"name",t)},expression:"domain.name"}})]}}])}),n("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[n("choice-field",{attrs:{label:e._f("translate")("Type"),choices:e.domainTypes,"error-messages":a},model:{value:e.domain.type,callback:function(t){e.$set(e.domain,"type",t)},expression:"domain.type"}})]}}])}),n("v-switch",{attrs:{label:e._f("translate")("Enabled"),hint:e._f("translate")("Control if this domain will be allowed to send and receive messages"),"persistent-hint":""},model:{value:e.domain.enabled,callback:function(t){e.$set(e.domain,"enabled",t)},expression:"domain.enabled"}})],1)},i=[],s=n("7146"),o={components:{ChoiceField:s["a"]},props:["domain"],data:function(){return{domainTypes:[{label:"Domain",icon:"mdi-earth",value:"domain"},{label:"Relay domain",icon:"mdi-earth",value:"relaydomain"}]}}},l=o,r=n("2877"),c=n("6544"),d=n.n(c),u=n("b73d"),p=n("8654"),v=Object(r["a"])(l,a,i,!1,null,null,null);t["a"]=v.exports;d()(v,{VSwitch:u["a"],VTextField:p["a"]})},"49e2":function(e,t,n){"use strict";var a=n("0789"),i=n("9d65"),s=n("a9ad"),o=n("3206"),l=n("80d2"),r=n("58df"),c=Object(r["a"])(i["a"],s["a"],Object(o["a"])("expansionPanel","v-expansion-panel-content","v-expansion-panel"));t["a"]=c.extend().extend({name:"v-expansion-panel-content",data:function(){return{isActive:!1}},computed:{parentIsActive:function(){return this.expansionPanel.isActive}},watch:{parentIsActive:{immediate:!0,handler:function(e,t){var n=this;e&&(this.isBooted=!0),null==t?this.isActive=e:this.$nextTick((function(){return n.isActive=e}))}}},created:function(){this.expansionPanel.registerContent(this)},beforeDestroy:function(){this.expansionPanel.unregisterContent()},render:function(e){var t=this;return e(a["a"],this.showLazyContent((function(){return[e("div",t.setBackgroundColor(t.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:t.isActive}]}),[e("div",{class:"v-expansion-panel-content__wrap"},Object(l["s"])(t))])]})))}})},"6bb2":function(e,t,n){},7146:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"text-subtitle-1 grey--text text--darken-1 mb-4",class:{"label--disabled":e.disabled}},[n("label",{staticClass:"m-label"},[e._v(e._s(e.label))])]),e._l(e.formatedChoices,(function(t,a){return n("div",{key:a,staticClass:"d-flex"},e._l(t,(function(t,a){return n("div",{key:a,staticClass:"choice rounded pa-10 mr-4 text-center flex-grow-0 mb-4",class:{"choice--disabled":e.disabled,"choice--selected":!e.disabled&&e.currentChoice===t.value},on:{click:function(n){return e.selectChoice(t.value)}}},[t.icon?n("v-icon",{staticClass:"d-block mb-2",attrs:{color:e.iconColor(t.value),"x-large":""}},[e._v(e._s(t.icon))]):e._e(),n("span",{staticClass:"grey--text text--darken-1"},[e._v(e._s(t.label))])],1)})),0)}))],2)},i=[],s=(n("a9e3"),n("fb6a"),{props:{value:[Number,String],label:String,choices:Array,disabled:{type:Boolean,default:!1},choicesPerLine:Number},data:function(){return{currentChoice:null,formatedChoices:[]}},methods:{formatChoices:function(){if(this.choicesPerLine){var e=0;while(e<this.choices.length){var t=this.choices.slice(e,e+this.choicesPerLine);this.formatedChoices.push(t),e+=this.choicesPerLine}}else this.formatedChoices.push(this.choices)},iconColor:function(e){return this.disabled||e!==this.currentChoice?"":"primary"},selectChoice:function(e){this.disabled||(this.currentChoice=e,this.$emit("input",e))}},mounted:function(){this.formatChoices()},watch:{value:{handler:function(e){this.currentChoice=e},immediate:!0}}}),o=s,l=(n("b035"),n("2877")),r=n("6544"),c=n.n(r),d=n("132d"),u=Object(l["a"])(o,a,i,!1,null,"65541534",null);t["a"]=u.exports;c()(u,{VIcon:d["a"]})},"8d28":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-expansion-panels",{model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[n("v-expansion-panel",[n("v-expansion-panel-header",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.open;return[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"4"}},[n("translate",[e._v("General")])],1),n("v-col",{staticClass:"text--secondary",attrs:{cols:"8"}},[n("v-fade-transition",{attrs:{"leave-absolute":""}},[a?n("span"):n("v-row",{staticStyle:{width:"100%"},attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"6"}},[n("translate",[e._v("Name: ")]),e._v(" "+e._s(e.editedDomain.name)+" ")],1),n("v-col",{attrs:{cols:"6"}},[n("translate",[e._v("Type: ")]),e._v(" "+e._s(e.editedDomain.type)+" ")],1)],1)],1)],1)],1)]}}])}),n("v-expansion-panel-content",[n("domain-general-form",{ref:"generalForm",attrs:{domain:e.editedDomain}})],1)],1),n("v-expansion-panel",[n("v-expansion-panel-header",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.open;return[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"4"}},[n("translate",[e._v("DNS")])],1),n("v-col",{staticClass:"text--secondary",attrs:{cols:"8"}},[n("v-fade-transition",{attrs:{"leave-absolute":""}},[a?n("span"):n("v-row",{staticStyle:{width:"100%"},attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"6"}},[n("translate",{staticClass:"mr-2"},[e._v("DNS checks")]),e.editedDomain.enable_dns_checks?n("v-icon",{attrs:{color:"success"}},[e._v("mdi-check-circle-outline")]):n("v-icon",[e._v("mdi-close-circle-outline")])],1),n("v-col",{attrs:{cols:"6"}},[n("translate",{staticClass:"mr-2"},[e._v("DKIM signing")]),e.editedDomain.enable_dkim?n("v-icon",{attrs:{color:"success"}},[e._v("mdi-check-circle-outline")]):n("v-icon",[e._v("mdi-close-circle-outline")])],1)],1)],1)],1)],1)]}}])}),n("v-expansion-panel-content",[n("domain-dns-form",{ref:"dnsForm",attrs:{domain:e.editedDomain}})],1)],1),n("v-expansion-panel",[n("v-expansion-panel-header",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.open;return[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"4"}},[n("translate",[e._v("Limitations")])],1),n("v-col",{staticClass:"text--secondary",attrs:{cols:"8"}},[n("v-fade-transition",{attrs:{"leave-absolute":""}},[a?n("span"):n("v-row",{staticStyle:{width:"100%"},attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"6"}},[n("translate",{staticClass:"mr-2"},[e._v("Quota: ")]),e._v(" "+e._s(e.domain.quota)+" ")],1),e.domain.message_sending_limit?n("v-col",{attrs:{cols:"6"}},[n("translate",{staticClass:"mr-2"},[e._v("Sending limit: ")]),e._v(" "+e._s(e.domain.message_sending_limit)+" ")],1):n("v-col",{attrs:{cols:"6"}},[n("translate",{staticClass:"mr-2"},[e._v("No sending limit")])],1)],1)],1)],1)],1)]}}])}),n("v-expansion-panel-content",[n("domain-limitations-form",{attrs:{domain:e.editedDomain}})],1)],1)],1),n("div",{staticClass:"mt-4 d-flex justify-end"},[n("v-btn",{attrs:{color:"grey lighten-1"},on:{click:function(t){return e.$router.go(-1)}}},[n("translate",[e._v("Cancel")])],1),n("v-btn",{staticClass:"ml-4",attrs:{color:"primary darken-1"},on:{click:e.save}},[n("translate",[e._v("Save")])],1)],1)],1)},i=[],s=n("1da1"),o=(n("96cf"),n("56d7")),l=n("ceb0"),r=n("2370"),c=n("c016"),d={components:{"domain-dns-form":l["a"],DomainGeneralForm:r["a"],DomainLimitationsForm:c["a"]},props:["domain"],data:function(){return{editedDomain:{},panel:0}},methods:{save:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(void 0===e.$refs.generalForm){t.next=6;break}return t.next=3,e.$refs.generalForm.$refs.observer.validate();case 3:if(n=t.sent,n){t.next=6;break}return t.abrupt("return");case 6:e.$store.dispatch("domains/updateDomain",e.editedDomain).then((function(t){o["bus"].$emit("notification",{msg:e.$gettext("Domain updated")})}));case 7:case"end":return t.stop()}}),t)})))()}},watch:{domain:{handler:function(e){e&&(this.editedDomain=JSON.parse(JSON.stringify(e)))},immediate:!0}}},u=d,p=n("2877"),v=n("6544"),m=n.n(v),h=n("8336"),f=n("62ad"),b=n("cd55"),x=n("49e2"),_=n("c865"),g=n("0393"),k=n("0789"),y=n("132d"),C=n("0fd9"),w=Object(p["a"])(u,a,i,!1,null,null,null);t["a"]=w.exports;m()(w,{VBtn:h["a"],VCol:f["a"],VExpansionPanel:b["a"],VExpansionPanelContent:x["a"],VExpansionPanelHeader:_["a"],VExpansionPanels:g["a"],VFadeTransition:k["d"],VIcon:y["a"],VRow:C["a"]})},b035:function(e,t,n){"use strict";n("6bb2")},c016:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("validation-observer",{ref:"observer"},[n("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[n("v-text-field",{staticClass:"mb-4",attrs:{label:e._f("translate")("Quota"),hint:e._f("translate")("Quota shared between mailboxes. Can be expressed in KB, MB (default) or GB. A value of 0 means no quota."),"persistent-hint":"","error-messages":a,outlined:""},model:{value:e.domain.quota,callback:function(t){e.$set(e.domain,"quota",t)},expression:"domain.quota"}})]}}])}),n("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[n("v-text-field",{staticClass:"mb-4",attrs:{label:e._f("translate")("Default mailbox quota"),hint:e._f("translate")("Default quota applied to mailboxes. Can be expressed in KB, MB (default) or GB. A value of 0 means no quota."),"persistent-hint":"","error-messages":a,outlined:""},model:{value:e.domain.default_mailbox_quota,callback:function(t){e.$set(e.domain,"default_mailbox_quota",t)},expression:"domain.default_mailbox_quota"}})]}}])}),n("validation-provider",{attrs:{rules:"numeric"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[n("v-text-field",{attrs:{label:e._f("translate")("Message sending limit"),hint:e._f("translate")("Number of messages this domain can send per day. Leave empty for no limit."),"persistent-hint":"","error-messages":a,outlined:""},model:{value:e.domain.message_sending_limit,callback:function(t){e.$set(e.domain,"message_sending_limit",t)},expression:"domain.message_sending_limit"}})]}}])})],1)},i=[],s={props:["domain"]},o=s,l=n("2877"),r=n("6544"),c=n.n(r),d=n("8654"),u=Object(l["a"])(o,a,i,!1,null,null,null);t["a"]=u.exports;c()(u,{VTextField:d["a"]})},c865:function(e,t,n){"use strict";var a=n("5530"),i=n("0789"),s=n("9d26"),o=n("a9ad"),l=n("3206"),r=n("5607"),c=n("80d2"),d=n("58df"),u=Object(d["a"])(o["a"],Object(l["a"])("expansionPanel","v-expansion-panel-header","v-expansion-panel"));t["a"]=u.extend().extend({name:"v-expansion-panel-header",directives:{ripple:r["a"]},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{hasMousedown:!1}},computed:{classes:function(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive:function(){return this.expansionPanel.isActive},isDisabled:function(){return this.expansionPanel.isDisabled},isReadonly:function(){return this.expansionPanel.isReadonly}},created:function(){this.expansionPanel.registerHeader(this)},beforeDestroy:function(){this.expansionPanel.unregisterHeader()},methods:{onClick:function(e){this.$emit("click",e)},genIcon:function(){var e=Object(c["s"])(this,"actions")||[this.$createElement(s["a"],this.expandIcon)];return this.$createElement(i["d"],[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},e)])}},render:function(e){var t=this;return e("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button","aria-expanded":this.isActive},directives:[{name:"ripple",value:this.ripple}],on:Object(a["a"])(Object(a["a"])({},this.$listeners),{},{click:this.onClick,mousedown:function(){return t.hasMousedown=!0},mouseup:function(){return t.hasMousedown=!1}})}),[Object(c["s"])(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}})},cd55:function(e,t,n){"use strict";var a=n("5530"),i=n("4e82"),s=n("3206"),o=n("80d2"),l=n("58df");t["a"]=Object(l["a"])(Object(i["a"])("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(s["b"])("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:function(){return{content:null,header:null,nextIsActive:!1}},computed:{classes:function(){return Object(a["a"])({"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled},this.groupClasses)},isDisabled:function(){return this.expansionPanels.disabled||this.disabled},isReadonly:function(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent:function(e){this.content=e},unregisterContent:function(){this.content=null},registerHeader:function(e){this.header=e,e.$on("click",this.onClick)},unregisterHeader:function(){this.header=null},onClick:function(e){e.detail&&this.header.$el.blur(),this.$emit("click",e),this.isReadonly||this.isDisabled||this.toggle()},toggle:function(){var e=this;this.$nextTick((function(){return e.$emit("change")}))}},render:function(e){return e("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},Object(o["s"])(this))}})},ceb0:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-switch",{attrs:{label:e._f("translate")("Enable DNS checks")},model:{value:e.domain.enable_dns_checks,callback:function(t){e.$set(e.domain,"enable_dns_checks",t)},expression:"domain.enable_dns_checks"}}),n("v-switch",{attrs:{label:e._f("translate")("Enable DKIM signing")},model:{value:e.domain.enable_dkim,callback:function(t){e.$set(e.domain,"enable_dkim",t)},expression:"domain.enable_dkim"}}),n("v-text-field",{attrs:{label:e._f("translate")("DKIM key selector"),disabled:!e.domain.enable_dkim,outlined:""},model:{value:e.domain.dkim_key_selector,callback:function(t){e.$set(e.domain,"dkim_key_selector",t)},expression:"domain.dkim_key_selector"}}),n("choice-field",{attrs:{label:e._f("translate")("DKIM key length"),choices:e.dkimKeyLengths,disabled:!e.domain.enable_dkim},model:{value:e.domain.dkim_key_length,callback:function(t){e.$set(e.domain,"dkim_key_length",t)},expression:"domain.dkim_key_length"}})],1)},i=[],s=n("7146"),o={components:{ChoiceField:s["a"]},props:["domain"],data:function(){return{dkimKeyLengths:[{label:"1024",value:1024},{label:"2048",value:2048},{label:"4096",value:4096}]}}},l=o,r=n("2877"),c=n("6544"),d=n.n(c),u=n("b73d"),p=n("8654"),v=Object(r["a"])(l,a,i,!1,null,null,null);t["a"]=v.exports;d()(v,{VSwitch:u["a"],VTextField:p["a"]})}}]);
//# sourceMappingURL=chunk-c5cc9678.21427a10.js.map