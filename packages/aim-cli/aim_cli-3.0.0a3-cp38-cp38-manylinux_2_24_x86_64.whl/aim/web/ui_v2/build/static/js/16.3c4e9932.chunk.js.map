{"version":3,"sources":["pages/Home/components/ExploreAimCard/ExploreAimCard.tsx","assets/icons/github.svg","assets/icons/slack.svg","pages/Home/components/ExploreAim/ExploreAim.tsx","pages/Home/components/SetupGuide/SetupGuide.tsx","components/HeatMap/HeatMap.tsx","pages/Home/components/Activity/Activity.tsx","pages/Home/Home.tsx","services/models/home/homeAppModel.ts","pages/Home/HomeContainer.tsx","utils/encoder/encoder.ts","components/CopyToClipBoard/CopyToClipBoard.tsx","components/CodeBlock/CodeBlock.tsx"],"names":["ExploreAimCard","title","path","description","className","to","Icon","name","React","memo","cardsData","ExploreAim","target","href","rel","src","slackIcon","alt","githubIcon","map","item","SetupGuide","CodeBlock","code","cellScales","HeatMap","data","startDate","endDate","cellSize","cellSpacing","scaleRange","months","onCellClick","history","useHistory","Date","getFullYear","getMonth","getDate","firstDay","getDay","shiftDate","lastDay","diffDays","Math","round","abs","maxVal","max","i","filter","Number","isInteger","orderedMonths","slice","xAxisStyles","width","gridStyles","gridTemplateColumns","gridTemplateRows","height","gridColumnGap","gridRowGap","date","numDays","newDate","setDate","indexToDate","index","x","floor","renderCell","value","dataItem","s","length","getItem","scale","ceil","tooltip","Tooltip","onClick","e","stopPropagation","getTime","search","encode","query","push","role","style","m","d","Array","keys","Activity","activityData","today","Grid","container","spacing","num_experiments","num_runs","xs","Object","activity_map","k","Home","model","createModel","homeAppModel","initialize","init","getActivityData","projectsService","fetchActivityData","call","then","setState","abort","HomeContainer","activityRequestRef","useRef","homeData","useModel","useEffect","current","bs58check","Buffer","from","JSON","stringify","decode","toString","CopyToClipboard","contentRef","showSuccessDelay","useState","showCopiedIcon","setShowCopiedIcon","setTimeout","onCopy","useCallback","navigator","clipboard","writeText","innerText","trim","catch","color","fontSize","displayName","language","createRef","defaultProps","theme","tokens","getLineProps","getTokenProps","ref","line","key","token","CopyToClipBoard"],"mappings":"mKASA,SAASA,EAAT,GAImE,IAHjEC,EAGgE,EAHhEA,MACAC,EAEgE,EAFhEA,KACAC,EACgE,EADhEA,YAEA,OACE,eAAC,IAAD,CAASC,UAAU,4BAA4BC,GAAE,WAAMH,GAAvD,UACE,qBAAKE,UAAU,uBAAf,SACE,cAACE,EAAA,EAAD,CAAMC,KAAI,UAAKL,OAEjB,oBAAIE,UAAU,wBAAd,SAAuCH,IACvC,mBAAGG,UAAU,uBAAb,SAAqCD,IACrC,qBAAKC,UAAU,wCAAf,SACE,cAACE,EAAA,EAAD,CAAMC,KAAK,0BAMJC,UAAMC,KAAKT,GC5BX,MAA0B,mCCA1B,MAA0B,kCCcnCU,G,OAA4B,CAChC,CACET,MAAO,gBACPE,YAAa,uDACbD,KAAM,QAER,CACED,MAAO,mBACPE,YACE,yEACFD,KAAM,WAER,CACED,MAAO,kBACPE,YACE,yEACFD,KAAM,UAER,CACED,MAAO,OACPE,YAAa,uDACbD,KAAM,QAER,CACED,MAAO,YACPE,YACE,yEACFD,KAAM,eAGV,SAASS,IACP,OACE,sBAAKP,UAAU,wBAAf,UACE,gCACE,8CACA,sBAAKA,UAAU,gCAAf,UACE,oBACEQ,OAAO,SACPC,KAAK,6BACLC,IAAI,aACJV,UAAU,2BAJZ,UAME,qBAAKW,IAAKC,EAAWC,IAAI,UACzB,4DACA,cAACX,EAAA,EAAD,CAAMC,KAAK,mBAEb,oBACEK,OAAO,SACPC,KAAK,kCACLC,IAAI,aACJV,UAAU,2BAJZ,UAME,qBAAKW,IAAKG,EAAYD,IAAI,WAC1B,oDACkB,uBADlB,yCAGA,cAACX,EAAA,EAAD,CAAMC,KAAK,yBAIjB,sBAAKH,UAAU,0BAAf,UACE,6CACA,qBAAKA,UAAU,6BAAf,SACGM,EAAUS,KAAI,SAACC,GAAD,OACb,cAAC,EAAD,eAAoCA,GAAfA,EAAKlB,iBAQvBM,UAAMC,KAAKE,G,gBChF1B,SAASU,IACP,OACE,sBAAKjB,UAAU,wBAAf,UACE,8DACA,sBAAKA,UAAU,mBAAf,UACE,4CACA,cAACkB,EAAA,EAAD,CAAWC,KAAK,kBAElB,sBAAKnB,UAAU,mBAAf,UACE,0DACA,cAACkB,EAAA,EAAD,CACEC,KAAI,oTAcR,sBAAKnB,UAAU,mCAAf,UACE,oBACEQ,OAAO,SACPC,KAAK,2CACLC,IAAI,aACJV,UAAU,6BAJZ,UAME,qBAAKA,UAAU,mCAAf,SACE,cAACE,EAAA,EAAD,CAAMC,KAAK,WAEb,gDAEF,sBAAKH,UAAU,6BAAf,UACE,qBAAKA,UAAU,mCAAf,SACE,cAACE,EAAA,EAAD,CAAMC,KAAK,gBAEb,uDAEF,sBAAKH,UAAU,6BAAf,UACE,qBAAKA,UAAU,mCAAf,SACE,cAACE,EAAA,EAAD,CAAMC,KAAK,cAEb,sDAOKC,UAAMC,KAAKY,G,oDCnDpBG,EAAuB,CAAC,EAAG,EAAG,EAAG,EAAG,GAkN3BC,MAjNf,YAQS,IAPPC,EAOM,EAPNA,KACAC,EAMM,EANNA,UACAC,EAKM,EALNA,QAKM,IAJNC,gBAIM,MAJK,GAIL,MAHNC,mBAGM,MAHQ,EAGR,MAFNC,kBAEM,MAFO,EAEP,EAGAC,GAHA,EADNC,YAIe,CACb,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,QAEIC,EAAUC,cAChBR,EAAY,IAAIS,KACdT,EAAUU,cACVV,EAAUW,WACVX,EAAUY,WAEZX,EAAU,IAAIQ,KACZR,EAAQS,cACRT,EAAQU,WACRV,EAAQW,WAIV,IADA,IAAIC,EAAWb,EACc,IAAtBa,EAASC,UACdD,EAAWE,EAAUF,GAAW,GAIlC,IADA,IAAIG,EAAUf,EACc,IAArBe,EAAQF,UACbE,EAAUD,EAAUC,EAAS,GAG/B,IAAMC,EAAWC,KAAKC,MAAMD,KAAKE,KAAKP,EAAWG,GAtClC,QAwCTK,EAASH,KAAKI,IAAL,MAAAJ,KAAI,mBACdnB,QADc,IACdA,OADc,EACdA,EAAMP,KAAI,SAAC+B,GAAD,cAAYA,QAAZ,IAAYA,OAAZ,EAAYA,EAAI,MAAIC,QAAO,SAACD,GAAD,OAAYE,OAAOC,UAAUH,QAGjEI,EAAa,sBACdtB,EAAOuB,MAAMf,EAASF,aADR,YAEdN,EAAOuB,MAAM,EAAGf,EAASF,cAGxBkB,EAAc,CAClBC,MAAM,GAAD,OACFb,EAAW,EAAKf,GAAYe,EAAW,EAAI,GAAKd,EAAc,GAD5D,OAKD4B,EAAa,CACjBC,oBAAoB,UAAD,OAAYf,EAAW,EAAvB,UACnBgB,iBAAkB,iBAClBH,MAAM,GAAD,OAAMb,EAAW,EAAKf,GAAYe,EAAW,EAAI,GAAKd,EAAtD,MACL+B,OAAO,GAAD,OAAK,EAAIhC,EAAW,EAAIC,EAAxB,MACNgC,cAAc,GAAD,OAAKhC,EAAL,MACbiC,WAAW,GAAD,OAAKjC,EAAL,OAGZ,SAASY,EAAUsB,EAAWC,GAC5B,IAAMC,EAAU,IAAI9B,KAAK4B,GAEzB,OADAE,EAAQC,QAAQD,EAAQ3B,UAAY0B,GAC7BC,EAGT,SAASE,EAAYC,GACnB,IAAMC,EAAIzB,KAAK0B,MAAMF,EAAQ,GAG7B,OAAO3B,EAAUF,EAAc,EAAJ8B,EAFjBD,EAAQ,GA0BpB,SAASG,EAAWH,GAClB,IALgBI,EAKVC,EAtBR,SAAiBL,GAIf,IAHA,IAAML,EAAOI,EAAYC,GAErBjD,EAAO,KACFuD,EAAI,EAAGA,EAAIjD,EAAKkD,OAAQD,IAAK,CAAC,IAAD,MACpC,IACE,UAAAjD,EAAKiD,UAAL,eAAU,GAAGtC,iBAAkB2B,EAAK3B,gBACpC,UAAAX,EAAKiD,UAAL,eAAU,GAAGrC,cAAe0B,EAAK1B,aACjC,UAAAZ,EAAKiD,UAAL,eAAU,GAAGpC,aAAcyB,EAAKzB,UAChC,CACAnB,EAAOM,EAAKiD,GACZ,OAGJ,OAAOvD,EAQUyD,CAAQR,GACnBL,EAAOI,EAAYC,GACnBS,EACJJ,GAAYtB,OAAOC,UAAP,OAAiBqB,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAW,KAR1BD,EAQyCC,EAAS,GAP3D7B,KAAKkC,KAAMN,EAAQzB,EAAUjB,IAOoC,EAClEiD,EAAO,WAAON,EAAWA,EAAS,GAAK,EAAhC,uBACO,KAAV,OAARA,QAAQ,IAARA,OAAA,EAAAA,EAAW,IAAW,IAAM,GADjB,eAEN1C,EAAOgC,EAAK1B,YAFN,YAEqB0B,EAAKzB,UAF1B,aAEwCyB,EAAK3B,eAyB1D,OACE,qBAAKjC,UAAU,iCAAf,UACIwB,GAAWwC,EAAYC,GACvB,qBAAKjE,UAAU,uDAEf,cAAC6E,EAAA,EAAD,CAAShF,MAAO+E,EAAhB,SACE,qBACE5E,UAAS,6DAAwD0E,GACjEI,QA/BV,SAAsBC,GAEpB,GADAA,EAAEC,kBACEN,EAAO,CACT,IAAMnD,EAAYqC,EAAKqB,UACjBzD,EAAU,IAAIQ,KAClB4B,EAAK3B,cACL2B,EAAK1B,WACL0B,EAAKzB,UACL,GACA,GACA,IACA8C,UAEIC,EAASC,YAAO,CACpBC,MAAM,wBAAD,OACH7D,EAAY,IADT,qCAEwBC,EAAU,OAGzCM,EAAQuD,KAAR,uBAA6BH,MAavBI,KAAK,kBARwCrB,GAwBzD,OACE,sBAAKjE,UAAU,kBAAf,UACE,sBAAKA,UAAU,uBAAf,UACE,wBACA,qBACEA,UAAU,2DACVuF,MAAOnC,EAFT,SAIGF,EAAcC,MAAM,EAAG,IAAIpC,KAAI,SAACyE,EAAG1C,GAAJ,OAC9B,qBAAK9C,UAAU,sCAAf,SACGwF,GADuD1C,QAK9D,qBAAK9C,UAAU,2DAAf,SAxKW,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAyK9Be,KAAI,SAAC0E,EAAG3C,GAAJ,OACZ,qBAAK9C,UAAU,sCAAf,SACGyF,GADuD3C,QAK9D,qBAAK9C,UAAU,6BAA6BuF,MAAOjC,EAAnD,SACG,YAAIoC,MAAMlD,GAAUmD,QAAQ5E,KAAI,SAACkD,GAAD,OAAWG,EAAWH,WAG3D,sBAAKjE,UAAU,8BAAf,UACE,wCACCoB,EAAWL,KAAI,SAAC2D,GAAD,OACd,qBAEEa,MAAO,CAAElC,MAAO5B,EAAUgC,OAAQhC,GAClCzB,UAAU,iCAHZ,SAKE,qBACEA,UAAS,6DAAwD0E,MAL9DA,MAUT,+C,OC7MR,SAASkB,EAAT,GAEqE,IAAD,EADlEC,EACkE,EADlEA,aAOA,IAAIC,EAAQ,IAAI9D,KAChB,OACE,eAAC+D,EAAA,EAAD,CAAM/F,UAAU,sBAAsBgG,WAAS,EAACC,QAAS,EAAzD,UACE,eAACF,EAAA,EAAD,CAAM/E,MAAI,EAAV,UACE,4CACA,sBAAKhB,UAAU,6BAAf,UACE,+CACA,kCAAqB,OAAZ6F,QAAY,IAAZA,OAAA,EAAAA,EAAcK,kBAAmB,OAE5C,sBAAKlG,UAAU,6BAAf,UACE,wCACA,kCAAqB,OAAZ6F,QAAY,IAAZA,OAAA,EAAAA,EAAcM,WAAY,UAGvC,eAACJ,EAAA,EAAD,CAAMK,IAAE,EAACpF,MAAI,EAAb,UACE,0CACA,qBAAKhB,UAAU,oBAAf,SACE,cAAC,EAAD,CACEuB,UAvBV,SAAmBqC,EAAWC,GAC5B,IAAMC,EAAU,IAAI9B,KAAK4B,GAEzB,OADAE,EAAQC,QAAQD,EAAQ3B,UAAY0B,GAC7BC,EAoBYxB,CAAUwD,GAAO,KAC5BtE,QAASsE,EAETxE,KAAM+E,OAAOV,KAAP,iBAAYE,QAAZ,IAAYA,OAAZ,EAAYA,EAAcS,oBAA1B,QAA0C,IAAIvF,KAAI,SAACwF,GAAD,MAAO,CAC7D,IAAIvE,KAAKuE,GACTV,EAAaS,aAAaC,iBAQzBnG,UAAMC,KAAKuF,G,OCvBXY,MAff,YAEkE,IADhEX,EAC+D,EAD/DA,aAEA,OACE,0BAAS7F,UAAU,kBAAnB,UACE,qBAAKA,UAAU,4BAAf,SACE,cAAC,EAAD,CAAU6F,aAAcA,MAE1B,sBAAK7F,UAAU,2BAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,W,gBChBFyG,EAAQC,YAAiB,IAkB/B,IAMeC,EANG,2BACbF,GADa,IAEhBG,WALF,WACEH,EAAMI,QAKNC,gBAnBF,WACE,MAAwBC,IAAgBC,oBAAhCC,EAAR,EAAQA,KACR,MAAO,CACLA,KAAM,kBACJA,IAAOC,MAAK,SAAC5F,GACXmF,EAAMU,SAAS,CACbtB,aAAcvE,QAGpB8F,MARF,EAAcA,U,QCcDC,UAdf,WACE,IAAMC,EAAqBlH,IAAMmH,OAAOZ,EAAaG,mBAC/CU,EAAWC,YAASd,GAU1B,OARAvG,IAAMsH,WAAU,WAGd,OAFAf,EAAaC,aACbU,EAAmBK,QAAQV,OACpB,WACLK,EAAmBK,QAAQP,WAE5B,IAEI,cAAC,EAAD,CAAMvB,aAAc2B,EAAS3B,iB,kCClBtC,sGAEO,SAASV,EAAOd,GACrB,OAAOuD,IAAUzC,OAAO0C,EAAOC,KAAKC,KAAKC,UAAU3D,KAG9C,SAAS4D,EAAO5D,GACrB,OAAOuD,IAAUK,OAAO5D,GAAO6D,c,qOCFjC,SAASC,EAAT,GAIkF,IAHhFC,EAG+E,EAH/EA,WAG+E,IAF/EC,wBAE+E,MAF5D,KAE4D,MAD/ErI,iBAC+E,MADnE,GACmE,EAC/E,EAA4CI,IAAMkI,UAAkB,GAApE,mBAAOC,EAAP,KAAuBC,EAAvB,KAEApI,IAAMsH,WAAU,WACVa,GACFE,YAAW,WACTD,GAAkB,KACjBH,KAEJ,CAACE,IAEJ,IAAMG,EAAStI,IAAMuI,aAAY,WAC3BP,EAAWT,UAAYY,GACzBK,UAAUC,UACPC,UAAUV,EAAWT,QAAQoB,UAAUC,KAAK,KAC5C9B,MAAK,WACJsB,GAAkB,MAEnBS,UAEJ,CAACb,EAAYG,IAEhB,OACE,sBAAMvI,UAAWA,EAAW8E,QAAS4D,EAArC,SACGH,EACC,sBAAMhD,MAAO,CAAE2D,MAAO,QAASC,SAAU,IAAzC,qBAEA,cAACjJ,EAAA,EAAD,CAAMC,KAAK,WAMnBgI,EAAgBiB,YAAc,kBAEfhJ,UAAMC,KAA4B8H,G,OClCjD,SAASjH,EAAT,GAIsE,IAAD,IAHnEC,YAGmE,MAH5D,GAG4D,MAFnEnB,iBAEmE,MAFvD,GAEuD,MADnEqJ,gBACmE,MADxD,SACwD,EAC7DjB,EAAahI,IAAMkJ,YACzB,OACE,sBAAKtJ,UAAS,+BAA0BA,GAAxC,UACE,cAAC,IAAD,2BACMuJ,KADN,IAEEC,MAAOA,IACPrI,KAAMA,EAAK6H,OACXK,SAAUA,EAJZ,SAMG,gBAAGrJ,EAAH,EAAGA,UAAWuF,EAAd,EAAcA,MAAOkE,EAArB,EAAqBA,OAAQC,EAA7B,EAA6BA,aAAcC,EAA3C,EAA2CA,cAA3C,OACC,qBAAK3J,UAAWA,EAAWuF,MAAOA,EAAOqE,IAAKxB,EAA9C,SACGqB,EAAO1I,KAAI,SAAC8I,EAAM/G,GAAP,OACV,+CAAiB4G,EAAa,CAAEG,OAAMC,IAAKhH,KAA3C,aACG+G,EAAK9I,KAAI,SAACgJ,EAAOD,GAAR,OACR,oCAAoBH,EAAc,CAAEI,QAAOD,SAAhCA,QAFLhH,YASlB,cAACkH,EAAD,CACEhK,UAAU,wBACVoI,WAAYA,OAMLhI,QAAMC,KAAKa,I","file":"static/js/16.3c4e9932.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport Icon from 'components/Icon/Icon';\nimport { IExploreCard } from '../ExploreAim/ExploreAim';\nimport { IconName } from 'types/components/Icon/Icon';\n\nimport './ExploreAimCard.scss';\n\nfunction ExploreAimCard({\n  title,\n  path,\n  description,\n}: IExploreCard): React.FunctionComponentElement<React.ReactNode> {\n  return (\n    <NavLink className='ExploreAimCard__container' to={`/${path}`}>\n      <div className='ExploreAimCard__icon'>\n        <Icon name={`${path}` as IconName} />\n      </div>\n      <h4 className='ExploreAimCard__title'>{title}</h4>\n      <p className='ExploreAimCard__desc'>{description}</p>\n      <div className='ExploreAim_card__arrowIcon__container'>\n        <Icon name='long-arrow-right' />\n      </div>\n    </NavLink>\n  );\n}\n\nexport default React.memo(ExploreAimCard);\n","export default __webpack_public_path__ + \"static/media/github.a1af1e77.svg\";","export default __webpack_public_path__ + \"static/media/slack.2d5fba05.svg\";","import React from 'react';\n\nimport ExploreAimCard from '../ExploreAimCard/ExploreAimCard';\nimport githubIcon from 'assets/icons/github.svg';\nimport slackIcon from 'assets/icons/slack.svg';\nimport Icon from 'components/Icon/Icon';\n\nimport './ExploreAim.scss';\n\nexport interface IExploreCard {\n  title: string;\n  description: string;\n  path: string;\n}\nconst cardsData: IExploreCard[] = [\n  {\n    title: 'Runs Explorer',\n    description: 'We constantly seek to improve Aim for the community.',\n    path: 'runs',\n  },\n  {\n    title: 'Metrics Explorer',\n    description:\n      \"Aim UI uses segment's analytics toolkit to collect basic info about...\",\n    path: 'metrics',\n  },\n  {\n    title: 'Params Explorer',\n    description:\n      \"Aim UI uses segment's analytics toolkit to collect basic info about...\",\n    path: 'params',\n  },\n  {\n    title: 'Tags',\n    description: 'We constantly seek to improve Aim for the community.',\n    path: 'tags',\n  },\n  {\n    title: 'Bookmarks',\n    description:\n      \"Aim UI uses segment's analytics toolkit to collect basic info about...\",\n    path: 'bookmarks',\n  },\n];\nfunction ExploreAim(): React.FunctionComponentElement<React.ReactNode> {\n  return (\n    <div className='ExploreAim__container'>\n      <div>\n        <h2>Get Involved</h2>\n        <div className='ExploreAim__social__container'>\n          <a\n            target='_blank'\n            href='https://aimstack.slack.com'\n            rel='noreferrer'\n            className='ExploreAim__social__item'\n          >\n            <img src={slackIcon} alt='slack' />\n            <span>Join Aim slack community</span>\n            <Icon name='arrow-right' />\n          </a>\n          <a\n            target='_blank'\n            href='https://github.com/aimhubio/aim'\n            rel='noreferrer'\n            className='ExploreAim__social__item'\n          >\n            <img src={githubIcon} alt='github' />\n            <span>\n              Create an issue <br /> or report a bug to help us improve\n            </span>\n            <Icon name='arrow-right' />\n          </a>\n        </div>\n      </div>\n      <div className='ExploreAim__block__item'>\n        <h2>Explore Aim</h2>\n        <div className='ExploreAim_card__container'>\n          {cardsData.map((item: IExploreCard) => (\n            <ExploreAimCard key={item.path} {...item} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(ExploreAim);\n","import React from 'react';\nimport CodeBlock from 'components/CodeBlock/CodeBlock';\nimport Icon from 'components/Icon/Icon';\n\nimport './SetupGuide.scss';\n\nfunction SetupGuide(): React.FunctionComponentElement<React.ReactNode> {\n  return (\n    <div className='SetupGuide__container'>\n      <h2>Integrate Aim with your code</h2>\n      <div className='SetupGuide__code'>\n        <h3>Import Aim</h3>\n        <CodeBlock code='import aim' />\n      </div>\n      <div className='SetupGuide__code'>\n        <h3>Track your training runs</h3>\n        <CodeBlock\n          code={`run_inst = aim.Run(experiment='my_exp_name')\n\n# Save inputs, hparams or any other \\`key: value\\` pairs\nrun_inst['hparams'] = {\n    'learning_rate': 0.01,\n    'batch_size': 32,\n}\n\n# Track metrics\nfor step in range(10):\n    run_inst.track(metric_value, name='metric_name', epoch=epoch_number)\n`}\n        />\n      </div>\n      <div className='StyleGuide__resources__container'>\n        <a\n          target='_blank'\n          href='https://github.com/aimhubio/aim#overview'\n          rel='noreferrer'\n          className='SetupGuide__resource__item'\n        >\n          <div className='StyleGuide__resource__item__icon'>\n            <Icon name='runs' />\n          </div>\n          <span>Full docs</span>\n        </a>\n        <div className='SetupGuide__resource__item'>\n          <div className='StyleGuide__resource__item__icon'>\n            <Icon name='bookmarks' />\n          </div>\n          <span>Jupyter notebook</span>\n        </div>\n        <div className='SetupGuide__resource__item'>\n          <div className='StyleGuide__resource__item__icon'>\n            <Icon name='metrics' />\n          </div>\n          <span>Live demo</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(SetupGuide);\n","import React from 'react';\n\n// import { classNames } from '../../utils';\nimport { Tooltip } from '@material-ui/core';\n\nimport './HeatMapStyle.scss';\nimport { useHistory } from 'react-router-dom';\nimport { encode } from 'utils/encoder/encoder';\n\nconst cellScales: number[] = [0, 1, 2, 3, 4];\nfunction HeatMap({\n  data,\n  startDate,\n  endDate,\n  cellSize = 12,\n  cellSpacing = 4,\n  scaleRange = 4,\n  onCellClick,\n}: any) {\n  const oneDay = 24 * 60 * 60 * 1000;\n  const weekDays = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];\n  const months = [\n    'Jan',\n    'Feb',\n    'Mar',\n    'Apr',\n    'May',\n    'Jun',\n    'Jul',\n    'Aug',\n    'Sep',\n    'Oct',\n    'Nov',\n    'Dec',\n  ];\n  const history = useHistory();\n  startDate = new Date(\n    startDate.getFullYear(),\n    startDate.getMonth(),\n    startDate.getDate(),\n  );\n  endDate = new Date(\n    endDate.getFullYear(),\n    endDate.getMonth(),\n    endDate.getDate(),\n  );\n\n  let firstDay = startDate;\n  while (firstDay.getDay() !== 0) {\n    firstDay = shiftDate(firstDay, -1);\n  }\n\n  let lastDay = endDate;\n  while (lastDay.getDay() !== 0) {\n    lastDay = shiftDate(lastDay, 1);\n  }\n\n  const diffDays = Math.round(Math.abs((firstDay - lastDay) / oneDay));\n\n  const maxVal = Math.max(\n    ...data?.map((i: any) => i?.[1]).filter((i: any) => Number.isInteger(i)),\n  );\n\n  const orderedMonths = [\n    ...months.slice(firstDay.getMonth()),\n    ...months.slice(0, firstDay.getMonth()),\n  ];\n\n  const xAxisStyles = {\n    width: `${\n      (diffDays / 7) * cellSize + (diffDays / 7 - 1) * cellSpacing - 50\n    }px`,\n  };\n\n  const gridStyles = {\n    gridTemplateColumns: `repeat(${diffDays / 7}, 1fr)`,\n    gridTemplateRows: 'repeat(7, 1fr)',\n    width: `${(diffDays / 7) * cellSize + (diffDays / 7 - 1) * cellSpacing}px`,\n    height: `${7 * cellSize + 6 * cellSpacing}px`,\n    gridColumnGap: `${cellSpacing}px`,\n    gridRowGap: `${cellSpacing}px`,\n  };\n\n  function shiftDate(date: any, numDays: any) {\n    const newDate = new Date(date);\n    newDate.setDate(newDate.getDate() + numDays);\n    return newDate;\n  }\n\n  function indexToDate(index: number) {\n    const x = Math.floor(index / 7);\n    const y = index % 7;\n\n    return shiftDate(firstDay, x * 7 + y);\n  }\n\n  function getItem(index: number) {\n    const date = indexToDate(index);\n\n    let item = null;\n    for (let s = 0; s < data.length; s++) {\n      if (\n        data[s]?.[0].getFullYear() === date.getFullYear() &&\n        data[s]?.[0].getMonth() === date.getMonth() &&\n        data[s]?.[0].getDate() === date.getDate()\n      ) {\n        item = data[s];\n        break;\n      }\n    }\n    return item;\n  }\n\n  function getScale(value: number) {\n    return Math.ceil((value / maxVal) * scaleRange);\n  }\n\n  function renderCell(index: number) {\n    const dataItem = getItem(index);\n    const date = indexToDate(index);\n    const scale =\n      dataItem && Number.isInteger(dataItem?.[1]) ? getScale(dataItem[1]) : 0;\n    const tooltip = ` ${dataItem ? dataItem[1] : 0} tracked run${\n      dataItem?.[1] !== 1 ? 's' : ''\n    } on ${months[date.getMonth()]} ${date.getDate()}, ${date.getFullYear()}`;\n\n    function onClickeCell(e: React.MouseEvent) {\n      e.stopPropagation();\n      if (scale) {\n        const startDate = date.getTime();\n        const endDate = new Date(\n          date.getFullYear(),\n          date.getMonth(),\n          date.getDate(),\n          23,\n          59,\n          59,\n        ).getTime();\n\n        const search = encode({\n          query: `run.creation_time >= ${\n            startDate / 1000\n          } and run.creation_time <= ${endDate / 1000}`,\n        });\n\n        history.push(`/runs?search=${search}`);\n      }\n    }\n\n    return (\n      <div className='CalendarHeatmap__cell__wrapper' key={index}>\n        {+endDate < +indexToDate(index) ? (\n          <div className='CalendarHeatmap__cell CalendarHeatmap__cell--dummy' />\n        ) : (\n          <Tooltip title={tooltip}>\n            <div\n              className={`CalendarHeatmap__cell CalendarHeatmap__cell--scale-${scale}`}\n              onClick={onClickeCell}\n              role='navigation'\n              // className={classNames({\n              //   CalendarHeatmap__cell: true,\n              //   [`CalendarHeatmap__cell--scale-${scale}`]:\n              //     Number.isInteger(scale),\n              // })}\n              // onClick={\n              //   !!onCellClick ? () => onCellClick(dataItem, date, index) : null\n              // }\n            />\n          </Tooltip>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className='CalendarHeatmap'>\n      <div className='CalendarHeatmap__map'>\n        <div />\n        <div\n          className='CalendarHeatmap__map__axis CalendarHeatmap__map__axis--x'\n          style={xAxisStyles}\n        >\n          {orderedMonths.slice(0, 10).map((m, i) => (\n            <div className='CalendarHeatmap__map__axis__tick--x' key={i}>\n              {m}\n            </div>\n          ))}\n        </div>\n        <div className='CalendarHeatmap__map__axis CalendarHeatmap__map__axis--y'>\n          {weekDays.map((d, i) => (\n            <div className='CalendarHeatmap__map__axis__tick--y' key={i}>\n              {d}\n            </div>\n          ))}\n        </div>\n        <div className='CalendarHeatmap__map__grid' style={gridStyles}>\n          {[...Array(diffDays).keys()].map((index) => renderCell(index))}\n        </div>\n      </div>\n      <div className='CalendarHeatmap__cell__info'>\n        <span>Less</span>\n        {cellScales.map((scale) => (\n          <div\n            key={scale}\n            style={{ width: cellSize, height: cellSize }}\n            className='CalendarHeatmap__cell__wrapper'\n          >\n            <div\n              className={`CalendarHeatmap__cell CalendarHeatmap__cell--scale-${scale}`}\n            />\n          </div>\n        ))}\n\n        <span>More</span>\n      </div>\n    </div>\n  );\n}\n\nexport default HeatMap;\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\n\nimport HeatMap from 'components/HeatMap/HeatMap';\nimport { IActivityProps } from 'types/pages/home/components/Activity/Activity';\n\nimport './Activity.scss';\n\nfunction Activity({\n  activityData,\n}: IActivityProps): React.FunctionComponentElement<React.ReactNode> {\n  function shiftDate(date: any, numDays: any) {\n    const newDate = new Date(date);\n    newDate.setDate(newDate.getDate() + numDays);\n    return newDate;\n  }\n  let today = new Date();\n  return (\n    <Grid className='Activity__container' container spacing={1}>\n      <Grid item>\n        <h2>Statistics</h2>\n        <div className='Activity__Statistics__card'>\n          <span>Experiments</span>\n          <strong>{activityData?.num_experiments || 0}</strong>\n        </div>\n        <div className='Activity__Statistics__card'>\n          <span>Runs</span>\n          <strong>{activityData?.num_runs || 0}</strong>\n        </div>\n      </Grid>\n      <Grid xs item>\n        <h2>Activity</h2>\n        <div className='Activity__HeatMap'>\n          <HeatMap\n            startDate={shiftDate(today, -10 * 30)}\n            endDate={today}\n            // onCellClick={searchRuns}\n            data={Object.keys(activityData?.activity_map ?? {}).map((k) => [\n              new Date(k),\n              activityData.activity_map[k],\n            ])}\n          />\n        </div>\n      </Grid>\n    </Grid>\n  );\n}\nexport default React.memo(Activity);\n","import React from 'react';\n\nimport ExploreAim from './components/ExploreAim/ExploreAim';\nimport SetupGuide from './components/SetupGuide/SetupGuide';\nimport Activity from './components/Activity/Activity';\nimport { IFrontProps } from 'types/pages/home/Home';\n\nimport './Home.scss';\n\nfunction Home({\n  activityData,\n}: IFrontProps): React.FunctionComponentElement<React.ReactNode> {\n  return (\n    <section className='Home__container'>\n      <div className='Home__Activity__container'>\n        <Activity activityData={activityData} />\n      </div>\n      <div className='Home__Explore__container'>\n        <SetupGuide />\n        <ExploreAim />\n      </div>\n    </section>\n  );\n}\nexport default Home;\n","import createModel from '../model';\nimport projectsService from 'services/api/projects/projectsService';\n\nconst model = createModel<any>({});\n\nfunction getActivityData() {\n  const { call, abort } = projectsService.fetchActivityData();\n  return {\n    call: () =>\n      call().then((data: any) => {\n        model.setState({\n          activityData: data,\n        });\n      }),\n    abort,\n  };\n}\n\nfunction initialize() {\n  model.init();\n}\nconst homeAppModel = {\n  ...model,\n  initialize,\n  getActivityData,\n};\n\nexport default homeAppModel;\n","import React from 'react';\n\nimport Home from './Home';\nimport homeAppModel from 'services/models/home/homeAppModel';\nimport useModel from 'hooks/model/useModel';\n\nfunction HomeContainer(): React.FunctionComponentElement<React.ReactNode> {\n  const activityRequestRef = React.useRef(homeAppModel.getActivityData());\n  const homeData = useModel(homeAppModel);\n\n  React.useEffect(() => {\n    homeAppModel.initialize();\n    activityRequestRef.current.call();\n    return () => {\n      activityRequestRef.current.abort();\n    };\n  }, []);\n\n  return <Home activityData={homeData.activityData} />;\n}\nexport default HomeContainer;\n","import bs58check from 'bs58check';\n\nexport function encode(value: Record<string, unknown>): string {\n  return bs58check.encode(Buffer.from(JSON.stringify(value)));\n}\n\nexport function decode(value: string): string {\n  return bs58check.decode(value).toString();\n}\n","import React from 'react';\nimport { ICopyToClipBoardProps } from 'types/components/CopyToClipBoard/CopyToClipBoard';\n\nimport Icon from 'components/Icon/Icon';\n\nfunction CopyToClipboard({\n  contentRef,\n  showSuccessDelay = 1500,\n  className = '',\n}: ICopyToClipBoardProps): React.FunctionComponentElement<ICopyToClipBoardProps> {\n  const [showCopiedIcon, setShowCopiedIcon] = React.useState<boolean>(false);\n\n  React.useEffect(() => {\n    if (showCopiedIcon) {\n      setTimeout(() => {\n        setShowCopiedIcon(false);\n      }, showSuccessDelay);\n    }\n  }, [showCopiedIcon]);\n\n  const onCopy = React.useCallback(() => {\n    if (contentRef.current && !showCopiedIcon) {\n      navigator.clipboard\n        .writeText(contentRef.current.innerText.trim(''))\n        .then(function () {\n          setShowCopiedIcon(true);\n        })\n        .catch();\n    }\n  }, [contentRef, showCopiedIcon]);\n\n  return (\n    <span className={className} onClick={onCopy}>\n      {showCopiedIcon ? (\n        <span style={{ color: 'green', fontSize: 12 }}>Copied!</span>\n      ) : (\n        <Icon name='copy' />\n      )}\n    </span>\n  );\n}\n\nCopyToClipboard.displayName = 'CopyToClipBoard';\n\nexport default React.memo<ICopyToClipBoardProps>(CopyToClipboard);\n","import React from 'react';\n// import AssignmentTurnedInOutlinedIcon from '@material-ui/icons/AssignmentTurnedInOutlined';\nimport Highlight, { defaultProps } from 'prism-react-renderer';\nimport theme from 'prism-react-renderer/themes/nightOwlLight';\n\nimport { ICodeBlockProps } from 'types/components/CodeBlock/CodeBlock';\nimport CopyToClipBoard from 'components/CopyToClipBoard/CopyToClipBoard';\n\nimport './CodeBlock.scss';\n\nfunction CodeBlock({\n  code = '',\n  className = '',\n  language = 'python',\n}: ICodeBlockProps): React.FunctionComponentElement<React.ReactNode> {\n  const contentRef = React.createRef<HTMLPreElement>();\n  return (\n    <div className={`CodeBlock__container ${className}`}>\n      <Highlight\n        {...defaultProps}\n        theme={theme}\n        code={code.trim()}\n        language={language}\n      >\n        {({ className, style, tokens, getLineProps, getTokenProps }) => (\n          <pre className={className} style={style} ref={contentRef}>\n            {tokens.map((line, i) => (\n              <div key={i} {...getLineProps({ line, key: i })}>\n                {line.map((token, key) => (\n                  <span key={key} {...getTokenProps({ token, key })} />\n                ))}\n              </div>\n            ))}\n          </pre>\n        )}\n      </Highlight>\n      <CopyToClipBoard\n        className='CodeBlock__copy__span'\n        contentRef={contentRef}\n      />\n    </div>\n  );\n}\n\nexport default React.memo(CodeBlock);\n"],"sourceRoot":""}