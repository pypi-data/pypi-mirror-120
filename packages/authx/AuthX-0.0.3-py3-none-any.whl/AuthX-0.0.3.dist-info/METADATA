Metadata-Version: 2.1
Name: AuthX
Version: 0.0.3
Summary: Ready to use and customizable Authentications and Oauth2 management for FastAPI
Home-page: https://github.com/yezz123/AuthX
Author: Yasser Tahiri
Author-email: yasserth19@gmail.com
License: UNKNOWN
Platform: UNKNOWN
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.9
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: fastapi (==0.61.1)
Requires-Dist: PyJWT (==1.7.1)
Requires-Dist: cryptography (==3.1.1)
Requires-Dist: httpx (==0.16.1)
Requires-Dist: aioredis (==1.3.1)
Requires-Dist: passlib (==1.7.4)
Requires-Dist: itsdangerous (==1.1.0)
Requires-Dist: bcrypt (==3.2.0)
Requires-Dist: email-validator (==1.1.1)
Requires-Dist: motor (==2.3.0)
Requires-Dist: aiosmtplib (==1.1.4)
Requires-Dist: pydantic (==1.8.2)
Provides-Extra: dev
Requires-Dist: requests (==2.25.1uvicorn) ; extra == 'dev'

# AuthX

- Ready to use and customizable Authentications and Oauth2 management for FastAPI âš¡

## Getting Started

### Prerequisites

- Python 3.9
- FastAPI
- Docker

### Project setup

```sh
# clone the repo
$ git clone https://github.com/yezz123/AuthX.git

# move to the project folder
$ cd DogeAPI
```

### Creating virtual environment

- Create a virtual environment using virtualenv.

```shell
# creating virtual environment
$ virtualenv venv

# activate virtual environment
$ source venv/bin/activate

# install all dependencies
$ pip install -r requirements.dev.txt
```

## Running the Docker Container

- We have the Dockerfile created in above section. Now, we will use the Dockerfile to create the image of the FastAPI app and then start the FastAPI app container.
- Using a preconfigured `Makefile` tor run the Docker Compose:

```sh
# Pull the latest image
$ make pull

# Build the image
$ make build

# test the image
$ make test

```

##

Project using :

```python
# auth.py
...
from AuthX import Authentication

auth = Authentication()

# main.py
...
from .auth import auth
...
app.include_router(auth.auth_router, prefix="/api/users")
app.include_router(auth.social_router, prefix="/auth")
app.include_router(auth.password_router, prefix="/api/users")
app.include_router(auth.admin_router, prefix="/api/users")
app.include_router(auth.search_router, prefix="/api/users")
...
```

### Startup

```python
# in a startup event
from .auth import auth
...
auth.set_cache(cache) # aioredis client
auth.set_database(database) # motor client
...
```

### Dependency injections

```python
from fastapi import APIRouter, Depends
from AuthX import User
from .auth import auth

router = APIRouter()

@router.get("/anonim")
def anonim_test(user: User = Depends(auth.get_user)):
  ...

@router.get("/user")
def user_test(user: User = Depends(auth.get_authenticated_user)):
  ...

@router.get("/admin", dependencies=[Depends(auth.admin_required)])
def admin_test():
  ...

```

### Dependency injections only

```python
from AuthX import AuthX
auth = AuthX(...)

# startup
...
auth.set_cache(cache) # aioredis
...
```


